// Define study
const study = lab.util.fromObject({
  "title": "root",
  "type": "lab.flow.Sequence",
  "parameters": {},
  "plugins": [
    {
      "type": "lab.plugins.Metadata",
      "path": undefined
    },
    {
      "type": "lab.plugins.Transmit",
      "url": "backend.php",
      "path": undefined
    }
  ],
  "metadata": {
    "title": "",
    "description": "",
    "repository": "",
    "contributors": ""
  },
  "files": {},
  "responses": {},
  "content": [
    {
      "type": "lab.flow.Sequence",
      "files": {},
      "responses": {
        "": ""
      },
      "parameters": {},
      "messageHandlers": {
        "run": function anonymous(
) {
this.state.first_trial = 1;
this.state.skip_chunk = 0;
}
      },
      "title": "intro_components",
      "content": [
        {
          "type": "lab.html.Page",
          "items": [
            {
              "required": true,
              "type": "radio",
              "label": "Ali prvič opravljaš ta trening?",
              "options": [
                {
                  "label": "Ja.",
                  "coding": "yes"
                },
                {
                  "label": "Ne.",
                  "coding": "no"
                }
              ],
              "name": "first_time",
              "shuffle": true
            }
          ],
          "submitButtonText": "Nadaljuj →",
          "submitButtonPosition": "right",
          "files": {},
          "responses": {
            "": ""
          },
          "parameters": {},
          "messageHandlers": {},
          "title": "Welcome"
        },
        {
          "type": "lab.html.Page",
          "items": [
            {
              "required": true,
              "type": "input",
              "label": "Vnesi svojo kodno ime:",
              "help": "Če nisi prepričan_a, vprašaj učiteljico ali učitelja!",
              "name": "participant_id",
              "attributes": {
                "type": "number"
              }
            }
          ],
          "scrollTop": true,
          "submitButtonText": "Nadaljuj →",
          "submitButtonPosition": "right",
          "files": {},
          "responses": {
            "": ""
          },
          "parameters": {},
          "messageHandlers": {
            "run": function anonymous(
) {
this.state.password = ""
}
          },
          "title": "id"
        },
        {
          "type": "lab.flow.Loop",
          "templateParameters": [
            {
              "loop": "1"
            },
            {
              "loop": "2"
            }
          ],
          "sample": {
            "mode": "draw-shuffle",
            "n": "10"
          },
          "files": {},
          "responses": {
            "": ""
          },
          "parameters": {},
          "messageHandlers": {
            "after:end": function anonymous(
) {
this.state.password = this.state.password.toUpperCase();
this.state.password = this.state.password.replace(/\s+/g, '');



},
            "before:prepare": function anonymous(
) {
this.state.valid_passwords = [
  3368, 6272, 2251, 9825, 1355, 8699, 4953, 6402, 1931, 6636,
  5001, 1258, 6433, 1480, 8325, 9490, 3453, 8788, 6467, 7340,
  3273, 3551, 1726, 1944, 1625, 5357, 7533, 2395, 6122, 3817,
  1516, 9224, 9976, 1102, 6347, 8145, 2692, 5171, 6896, 6610,
  4618, 1015, 6444, 1987, 8809, 9273, 3343, 1148, 8139, 6688,
  1099, 3345, 3449, 1090, 7924, 8348, 6173, 7994, 5815, 6877,
  7781, 9618, 7585, 6231, 5679, 8452, 1950, 9101, 6260, 2924,
  5406, 3858, 5855, 2888, 9963, 2906, 9894, 4309, 7669, 3309,
  5394, 8613, 5894, 7049, 3909, 2247, 8381, 5389, 1606, 3830,
  9737, 3473, 3235, 9445, 9459, 5735, 4481, 3088, 8360, 9855,
  2121, 7680, 1161, 1635, 3753, 6663, 4994, 6816, 5891, 7773,
  4108, 3820, 5173, 5621, 4739, 4168, 7626, 4545];

  this.state.password_validity = 0
}
          },
          "title": "password_loop",
          "tardy": true,
          "skip": "${this.state.first_time == \"yes\" || this.state.password_validity == 1}",
          "shuffleGroups": [],
          "template": {
            "type": "lab.flow.Sequence",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {},
            "title": "password_sequence",
            "tardy": true,
            "skip": "${this.state.password_validity == 1}",
            "content": [
              {
                "type": "lab.html.Page",
                "items": [
                  {
                    "required": false,
                    "type": "input",
                    "label": "Sem vnesi geslo, ki si ga na zadnjem treningu prejel_a:",
                    "name": "password",
                    "help": "To remind you: the password is a 4-digit number that you receive at the end of the training session.",
                    "attributes": {
                      "type": "number",
                      "min": "1000",
                      "max": "9999"
                    }
                  }
                ],
                "scrollTop": true,
                "submitButtonText": "Nadaljuj →",
                "submitButtonPosition": "right",
                "files": {},
                "responses": {
                  "": ""
                },
                "parameters": {},
                "messageHandlers": {
                  "after:end": function anonymous(
) {
this.state.password = this.state.password.toUpperCase();
this.state.password = this.state.password.replace(/\s+/g, '');
this.state.password_numeric = Number(this.state.password)

if (this.state.valid_passwords.includes(this.state.password_numeric)) {
  this.state.password_validity = 1;
} else {
  this.state.password_validity = 0;
}

}
                },
                "title": "password",
                "tardy": true,
                "skip": "${this.state.first_time == \"yes\" || this.state.password_validity === 1}"
              },
              {
                "type": "lab.html.Page",
                "items": [
                  {
                    "type": "text",
                    "title": "Nepravilno geslo!",
                    "content": "Geslo, ki si ga vpisal_a, ni pravilno. Lahko, da si se zatipkal_a. Če nisi prepričan_a, vprašaj učitelja ali učiteljico. Klikni \u003Ckbd\u003Eposkusi znova\u003C\u002Fkbd\u003E za nov poskus vpisa gesla. "
                  }
                ],
                "scrollTop": true,
                "submitButtonText": "Poskusi znova",
                "submitButtonPosition": "right",
                "files": {},
                "responses": {
                  "": ""
                },
                "parameters": {},
                "messageHandlers": {},
                "title": "try_again",
                "tardy": true,
                "skip": "${this.state.password_validity === 1}"
              }
            ]
          }
        },
        {
          "type": "lab.html.Screen",
          "files": {},
          "responses": {
            "mousedown button#continue": "continue"
          },
          "parameters": {},
          "messageHandlers": {},
          "title": "professor_introduction_1",
          "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv class=\"inner-main-divs\"\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv class=\"inner-main-divs\"\u003E\n      \u003Cp class=\"inner-main-divs\"\u003E Živijo! Jaz sem Profesor SMART in lepo te pozdravljam v mojem SMART možganskem treningu!\u003Cbr\u003E\u003Cbr\u003ECilj mojega treninga je to, da tvoje možgane naredi tako pametne, kot je to le mogoče - posebej zato, da boš težke probleme lažje reševal_a hitro in pravilno! \u003Cbr\u003E\u003Cbr\u003EZato boš naslednjih nekaj tednov raziskal_a več kot 100 stopenj mojega treninga!\u003Cbr\u003ESkupaj naju tako čaka kar nekaj dela!\u003Cbr\u003E\u003Cbr\u003EAmpak ne skrbi – imam namreč nekaj pomočnikov, ki ti bodo pomagali.\u003Cbr\u003ENisem namreč samo profesor možganskega treninga – sem tudi Pokémon profesor!\u003Cbr\u003ENekaj svojih Pokémonov sem skril na različnih stopnjah mojega treninga. \u003Cbr\u003EVsakič, ko dosežeš novo stopnjo, boš odkril novega!\u003C\u002Fp\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n\n      \u003Cbutton id=\"continue\"\u003ENadaljuj →\u003C\u002Fbutton\u003E\n      \u003C\u002Fdiv\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fmain\u003E",
          "tardy": true,
          "correctResponse": "continue",
          "skip": "${this.state.first_time == \"no\"}"
        },
        {
          "type": "lab.html.Screen",
          "files": {},
          "responses": {
            "mousedown button#continue": "continue"
          },
          "parameters": {},
          "messageHandlers": {
            "run": function anonymous(
) {
this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 

this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
          },
          "title": "professor_introduction_2",
          "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Za začetek naj ti predstavim prvega Pokémona -\u003Cbr\u003Eto je moj listnati prijatelj Bulbasaur!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\n      \u003Cdiv\u003E\n        \u003Cimg src=\"static\u002FBulbasaur 5.png\" height=\"300px\" width = \"300px\"\u003E\n      \u003C\u002Fdiv\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj →\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
          "tardy": true,
          "skip": "${this.state.first_time == \"no\"}"
        },
        {
          "type": "lab.html.Screen",
          "files": {},
          "responses": {
            "mousedown button#continue": "continue"
          },
          "parameters": {},
          "messageHandlers": {},
          "title": "professor_introduction_3",
          "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n      \u003Cp\u003E Torej, kako poteka moj trening? Kot sem rekel, trening vsebuje veliko različnih stopenj. Tvoj cilj je, da jih dokončaš toliko, kolikor le lahko!\u003Cbr\u003E\u003Cbr\u003EVsaka stopnja vsebuje dva dela: \u003Ckbd\u003Etrening\u003C\u002Fkbd\u003E in \u003Ckbd\u003Etest\u003C\u002Fkbd\u003E.\u003Cbr\u003E V obeh delih boš prebral_a različne namišljene besede in to, kako so te besede med seboj povezane (na primer: CUG je enako JOM, JOM je enako VEK).\u003Cbr\u003EPo tem te bom vprašal vprašanje o teh namišljenih besedah\u003Cbr\u003E(na primer: Je CUG enako VEK?).\u003Cbr\u003E\u003Cbr\u003ETvoj cilj je na ta vprašanja odgovoriti tako hitro in natančno\u003Cbr\u003E kot je le mogoče, tako da klikneš \"JA\" ali \"NE\" z računalniško miško.\u003Cbr\u003E\u003Cbr\u003EPri \u003Ckbd\u003Etreningu\u003C\u002Fkbd\u003E ti bom povedal, ali je bil tvoj odgovor pravilen ali ne.\u003Cbr\u003EPri \u003Ckbd\u003Etestu\u003C\u002Fkbd\u003E pa ti tega \u003Cb\u003Ene bom\u003C\u002Fb\u003E povedal!\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbutton id=\"continue\"\u003ENadaljuj →\u003C\u002Fbutton\u003E\n      \u003C\u002Fdiv\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fmain\u003E",
          "tardy": true,
          "skip": "${this.state.first_time == \"no\"}"
        },
        {
          "type": "lab.html.Screen",
          "files": {},
          "responses": {
            "mousedown button#continue": "continue"
          },
          "parameters": {},
          "messageHandlers": {
            "run": function anonymous(
) {
this.state.password = 3368
}
          },
          "title": "professor_introduction_4",
          "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv class=\"inner-main-divs\"\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n      \u003Cp\u003E Vsaka stopnja SMART treninga je težja od prejšnje.\u003Cbr\u003EV \u003Ckbd\u003Etreningu\u003C\u002Fkbd\u003E vsake stopnje boš odgovarjal_a na vprašanja,\u003Cbr\u003Edokler ne boš dosegel_a 16 pravilnih odgovorov zapored. Ko boš enkrat dosegel_a\u003Cbr\u003Eteh 16 zaporednih pravilnih odgovorov, boš napredoval_a na \u003Ckbd\u003Etest\u003C\u002Fkbd\u003E. \u003Cbr\u003ETa \u003Ckbd\u003Etest\u003C\u002Fkbd\u003E obsega le 16 vprašanj!\u003Cbr\u003E\u003Cbr\u003EČe na vseh teh 16 vprašanj odgovoriš pravilno, potem napreduješ na naslednjo stopnjo! Če pa na vsaj eno vprašanje odgovoriš napačno, moraš nazaj na \u003Ckbd\u003Etrening\u003C\u002Fkbd\u003E te stopnje.\u003Cbr\u003EZaradi tega je včasih ta trening zelo zahteven ampak je pa to najboljši način, kako tvoje možgane narediti čim bolj pametne.\u003Cbr\u003EIn to so dokazali tudi drugi znanstveniki!\u003Cbr\u003E\u003Cbr\u003EProsim, zapomni si, da je to \u003Cu\u003E\u003Cb\u003Etrening\u003C\u002Fu\u003E\u003C\u002Fb\u003E možganov, \u003Cb\u003ENE\u003C\u002Fb\u003E pa test.\u003Cbr\u003ETo pomeni, da so \u003Ci\u003Enapake čisto normalne\u003C\u002Fi\u003E in tudi pomemben del učnega procesa.\u003Cbr\u003E\u003Cbr\u003ETudi vožnje s kolesom se ne moreš naučiti brez padcev -\u003Cbr\u003Epa tudi lovljenja Pokémonov ne, brez da bi kakšnega zgrešil_a! :-)\u003Cbr\u003EZato se ne počuti slabo, če narediš kakšno napako, ali pa če so naloge zate zelo težke. Čez čas bo trening namreč postal lažji - ti moraš le vztrajno trenirati in ne smeš obupati!\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbutton id=\"continue\"\u003ENadaljuj →\u003C\u002Fbutton\u003E\n      \u003C\u002Fdiv\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fmain\u003E",
          "tardy": true,
          "skip": "${this.state.first_time == \"no\"}"
        },
        {
          "type": "lab.html.Screen",
          "files": {},
          "responses": {
            "mousedown button#continue": "continue"
          },
          "parameters": {},
          "messageHandlers": {
            "run": function anonymous(
) {
document.getElementById("last-pokemon").src=this.state.current_pokemon_image;
},
            "before:prepare": function anonymous(
) {
if (this.state.password == '3368') { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.password == '6272') { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.password == '2251') { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.password == '9825') { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.password == '1355') { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.password == '8699') { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.password == '4953') { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.password == '6402') { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.password == '1931') { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.password == '6636') { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.password == '5001') { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.password == '1258') { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.password == '6433') { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.password == '1480') { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.password == '8325') { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.password == '9490') { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.password == '3453') { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.password == '8788') { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.password == '6467') { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.password == '7340') { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.password == '3273') { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.password == '3551') { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.password == '1726') { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.password == '1944') { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.password == '1625') { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.password == '5357') { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.password == '7533') { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.password == '2395') { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.password == '6122') { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.password == '3817') { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.password == '1516') { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.password == '9224') { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.password == '9976') { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.password == '1102') { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.password == '6347') { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.password == '8145') { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.password == '2692') { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.password == '5171') { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.password == '6896') { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.password == '6610') { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.password == '4618') { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.password == '1015') { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.password == '6444') { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.password == '1987') { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.password == '8809') { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.password == '9273') { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.password == '3343') { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.password == '1148') { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.password == '8139') { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.password == '6688') { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.password == '1099') { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.password == '3345') { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.password == '3449') { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.password == '1090') { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.password == '7924') { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.password == '8348') { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.password == '6173') { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.password == '7994') { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.password == '5815') { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.password == '6877') { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.password == '7781') { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.password == '9618') { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.password == '7585') { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.password == '6231') { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.password == '5679') { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.password == '8452') { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.password == '1950') { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.password == '9101') { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.password == '6260') { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.password == '2924') { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.password == '5406') { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.password == '3858') { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.password == '5855') { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.password == '2888') { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.password == '9963') { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.password == '2906') { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.password == '9894') { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.password == '4309') { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.password == '7669') { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.password == '3309') { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.password == '5394') { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.password == '8613') { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.password == '5894') { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.password == '7049') { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.password == '3909') { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.password == '2247') { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.password == '8381') { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.password == '5389') { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.password == '1606') { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.password == '3830') { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.password == '9737') { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.password == '3473') { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.password == '3235') { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.password == '9445') { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.password == '9459') { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.password == '5735') { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.password == '4481') { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.password == '3088') { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.password == '8360') { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.password == '9855') { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.password == '2121') { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.password == '7680') { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.password == '1161') { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.password == '1635') { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.password == '3753') { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.password == '6663') { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.password == '4994') { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.password == '6816') { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.password == '5891') { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.password == '7773') { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.password == '4108') { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.password == '3820') { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.password == '5173') { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.password == '5621') { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.password == '4739') { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.password == '4168') { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.password == '7626') { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.password == '4545') { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }





// other code above
// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
          },
          "title": "professor_welcomeback",
          "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003EPonovno pozdravljen_a v SMART možganskem treningu Profesorja SMART!\u003Cbr\u003EVesel sem, da te spet vidim!\u003Cbr\u003E\u003Cbr\u003EOb najinem zadnjem srečanju si odkril_a \u003Cb\u003E${this.state.current_pokemon_name}\u003C\u002Fb\u003E!\u003Cbr\u003ENo, ${this.state.current_pokemon_name} je čakal, da se vrneš\u003Cbr\u003Ein je pripravljen s tabo nadaljevati tvoje popotovanje skozi moj trening!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\n      \u003Cdiv\u003E\n        \u003Cimg id=\"last-pokemon\" src=\"static\u002FBulbasaur 5.png\" height=\"300px\" width = \"300px\"\u003E\n      \u003C\u002Fdiv\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj →\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
          "tardy": true,
          "skip": "${this.state.first_time == \"yes\"}"
        },
        {
          "type": "lab.html.Screen",
          "files": {},
          "responses": {
            "mousedown button#continue": "continue"
          },
          "parameters": {},
          "messageHandlers": {
            "before:prepare": function anonymous(
) {
this.state.current_tally = 0

if (this.state.password == '3368') { 
 this.state.stage = '5'
}
else if (this.state.password == '6272') { 
 this.state.stage = '6'
}
else if (this.state.password == '2251') { 
 this.state.stage = '7'
}
else if (this.state.password == '9825') { 
 this.state.stage = '8'
}
else if (this.state.password == '1355') { 
 this.state.stage = '9'
}
else if (this.state.password == '8699') { 
 this.state.stage = '10'
}
else if (this.state.password == '4953') { 
 this.state.stage = '11'
}
else if (this.state.password == '6402') { 
 this.state.stage = '12'
}
else if (this.state.password == '1931') { 
 this.state.stage = '13'
}
else if (this.state.password == '6636') { 
 this.state.stage = '14'
}
else if (this.state.password == '5001') { 
 this.state.stage = '15'
}
else if (this.state.password == '1258') { 
 this.state.stage = '16'
}
else if (this.state.password == '6433') { 
 this.state.stage = '17'
}
else if (this.state.password == '1480') { 
 this.state.stage = '18'
}
else if (this.state.password == '8325') { 
 this.state.stage = '19'
}
else if (this.state.password == '9490') { 
 this.state.stage = '20'
}
else if (this.state.password == '3453') { 
 this.state.stage = '21'
}
else if (this.state.password == '8788') { 
 this.state.stage = '22'
}
else if (this.state.password == '6467') { 
 this.state.stage = '23'
}
else if (this.state.password == '7340') { 
 this.state.stage = '24'
}
else if (this.state.password == '3273') { 
 this.state.stage = '25'
}
else if (this.state.password == '3551') { 
 this.state.stage = '26'
}
else if (this.state.password == '1726') { 
 this.state.stage = '27'
}
else if (this.state.password == '1944') { 
 this.state.stage = '28'
}
else if (this.state.password == '1625') { 
 this.state.stage = '29'
}
else if (this.state.password == '5357') { 
 this.state.stage = '30'
}
else if (this.state.password == '7533') { 
 this.state.stage = '31'
}
else if (this.state.password == '2395') { 
 this.state.stage = '32'
}
else if (this.state.password == '6122') { 
 this.state.stage = '33'
}
else if (this.state.password == '3817') { 
 this.state.stage = '34'
}
else if (this.state.password == '1516') { 
 this.state.stage = '35'
}
else if (this.state.password == '9224') { 
 this.state.stage = '36'
}
else if (this.state.password == '9976') { 
 this.state.stage = '37'
}
else if (this.state.password == '1102') { 
 this.state.stage = '38'
}
else if (this.state.password == '6347') { 
 this.state.stage = '39'
}
else if (this.state.password == '8145') { 
 this.state.stage = '40'
}
else if (this.state.password == '2692') { 
 this.state.stage = '41'
}
else if (this.state.password == '5171') { 
 this.state.stage = '42'
}
else if (this.state.password == '6896') { 
 this.state.stage = '43'
}
else if (this.state.password == '6610') { 
 this.state.stage = '44'
}
else if (this.state.password == '4618') { 
 this.state.stage = '45'
}
else if (this.state.password == '1015') { 
 this.state.stage = '46'
}
else if (this.state.password == '6444') { 
 this.state.stage = '47'
}
else if (this.state.password == '1987') { 
 this.state.stage = '48'
}
else if (this.state.password == '8809') { 
 this.state.stage = '49'
}
else if (this.state.password == '9273') { 
 this.state.stage = '50'
}
else if (this.state.password == '3343') { 
 this.state.stage = '51'
}
else if (this.state.password == '1148') { 
 this.state.stage = '52'
}
else if (this.state.password == '8139') { 
 this.state.stage = '53'
}
else if (this.state.password == '6688') { 
 this.state.stage = '54'
}
else if (this.state.password == '1099') { 
 this.state.stage = '55'
}
else if (this.state.password == '3345') { 
 this.state.stage = '56'
}
else if (this.state.password == '3449') { 
 this.state.stage = '57'
}
else if (this.state.password == '1090') { 
 this.state.stage = '58'
}
else if (this.state.password == '7924') { 
 this.state.stage = '59'
}
else if (this.state.password == '8348') { 
 this.state.stage = '60'
}
else if (this.state.password == '6173') { 
 this.state.stage = '61'
}
else if (this.state.password == '7994') { 
 this.state.stage = '62'
}
else if (this.state.password == '5815') { 
 this.state.stage = '63'
}
else if (this.state.password == '6877') { 
 this.state.stage = '64'
}
else if (this.state.password == '7781') { 
 this.state.stage = '65'
}
else if (this.state.password == '9618') { 
 this.state.stage = '66'
}
else if (this.state.password == '7585') { 
 this.state.stage = '67'
}
else if (this.state.password == '6231') { 
 this.state.stage = '68'
}
else if (this.state.password == '5679') { 
 this.state.stage = '69'
}
else if (this.state.password == '8452') { 
 this.state.stage = '70'
}
else if (this.state.password == '1950') { 
 this.state.stage = '71'
}
else if (this.state.password == '9101') { 
 this.state.stage = '72'
}
else if (this.state.password == '6260') { 
 this.state.stage = '73'
}
else if (this.state.password == '2924') { 
 this.state.stage = '74'
}
else if (this.state.password == '5406') { 
 this.state.stage = '75'
}
else if (this.state.password == '3858') { 
 this.state.stage = '76'
}
else if (this.state.password == '5855') { 
 this.state.stage = '77'
}
else if (this.state.password == '2888') { 
 this.state.stage = '78'
}
else if (this.state.password == '9963') { 
 this.state.stage = '79'
}
else if (this.state.password == '2906') { 
 this.state.stage = '80'
}
else if (this.state.password == '9894') { 
 this.state.stage = '81'
}
else if (this.state.password == '4309') { 
 this.state.stage = '82'
}
else if (this.state.password == '7669') { 
 this.state.stage = '83'
}
else if (this.state.password == '3309') { 
 this.state.stage = '84'
}
else if (this.state.password == '5394') { 
 this.state.stage = '85'
}
else if (this.state.password == '8613') { 
 this.state.stage = '86'
}
else if (this.state.password == '5894') { 
 this.state.stage = '87'
}
else if (this.state.password == '7049') { 
 this.state.stage = '88'
}
else if (this.state.password == '3909') { 
 this.state.stage = '89'
}
else if (this.state.password == '2247') { 
 this.state.stage = '90'
}
else if (this.state.password == '8381') { 
 this.state.stage = '91'
}
else if (this.state.password == '5389') { 
 this.state.stage = '92'
}
else if (this.state.password == '1606') { 
 this.state.stage = '93'
}
else if (this.state.password == '3830') { 
 this.state.stage = '94'
}
else if (this.state.password == '9737') { 
 this.state.stage = '95'
}
else if (this.state.password == '3473') { 
 this.state.stage = '96'
}
else if (this.state.password == '3235') { 
 this.state.stage = '97'
}
else if (this.state.password == '9445') { 
 this.state.stage = '98'
}
else if (this.state.password == '9459') { 
 this.state.stage = '99'
}
else if (this.state.password == '5735') { 
 this.state.stage = '100'
}
else if (this.state.password == '4481') { 
 this.state.stage = '101'
}
else if (this.state.password == '3088') { 
 this.state.stage = '102'
}
else if (this.state.password == '8360') { 
 this.state.stage = '103'
}
else if (this.state.password == '9855') { 
 this.state.stage = '104'
}
else if (this.state.password == '2121') { 
 this.state.stage = '105'
}
else if (this.state.password == '7680') { 
 this.state.stage = '106'
}
else if (this.state.password == '1161') { 
 this.state.stage = '107'
}
else if (this.state.password == '1635') { 
 this.state.stage = '108'
}
else if (this.state.password == '3753') { 
 this.state.stage = '109'
}
else if (this.state.password == '6663') { 
 this.state.stage = '110'
}
else if (this.state.password == '4994') { 
 this.state.stage = '111'
}
else if (this.state.password == '6816') { 
 this.state.stage = '112'
}
else if (this.state.password == '5891') { 
 this.state.stage = '113'
}
else if (this.state.password == '7773') { 
 this.state.stage = '114'
}
else if (this.state.password == '4108') { 
 this.state.stage = '115'
}
else if (this.state.password == '3820') { 
 this.state.stage = '116'
}
else if (this.state.password == '5173') { 
 this.state.stage = '117'
}
else if (this.state.password == '5621') { 
 this.state.stage = '118'
}
else if (this.state.password == '4739') { 
 this.state.stage = '119'
}
else if (this.state.password == '4168') { 
 this.state.stage = '120'
}
else if (this.state.password == '7626') { 
 this.state.stage = '121'
}
else if (this.state.password == '4545') { 
 this.state.stage = '122'
};

this.state.phase = "Trening"
}
          },
          "title": "professor_begin_training",
          "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv class=\"inner-main-divs\"\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n      \u003Cp\u003E Ko klikneš \"začni trening\", boš začel_a z 30-minutnim treningom.\u003Cbr\u003EProsim, da teh 30 minut treningu posvetiš vso svojo pozrnost.\u003Cbr\u003EČe imaš težave, za pomoč prosi učitelja ali učiteljico.\u003Cbr\u003E\u003Cbr\u003EPa še ena zelo pomembna stvar: med treningom ne klikni gumba \"osveži\"!\u003Cbr\u003ETa gumb te namreč popelje vse do začetka treninga, \u003Cbr\u003Es tem pa boš izgubil_a napredek, ki si ga dosegel_a v tistem dnevu!\u003Cbr\u003E\u003Cbr\u003EVso srečo in daj vse od sebe!\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbutton id=\"continue\"\u003EZačni trening\u003C\u002Fbutton\u003E\n      \u003C\u002Fdiv\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fmain\u003E",
          "tardy": true
        }
      ]
    },
    {
      "type": "lab.html.Frame",
      "context": "\u003Cheader class=\"header-plain\"\u003E\n      \u003Cdiv class=\"left-top\"\u003E\n          \u003Cimg class=\"header-image\" id=\"current-character\" src=\"static\u002FBulbasaur 5.png\"\u003E   \n        \u003Cdiv class=\"text-container\"\u003E \n          \u003Cimg src=\"static\u002Fspeech_bubble.png\" class=\"speech-bubble\"\u003E\n          \u003Cdiv id=\"pokemon-motivation\" class=\"pokemon-speech\"\u003E\u003Cp\u003E\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n          \u003C\u002Fdiv\u003E\n          \u003C\u002Fdiv\u003E\n\n  \u003Cdiv class=\"middle-top\"\u003E\n    \u003Cdiv class=\"level-text\" id=\"level-display\"\u003EStopnja ${this.state.stage}: ${this.state.phase}\u003C\u002Fdiv\u003E\n    \u003Cdiv class=\"trial-text\" id=\"trial-display\"\u003E\u003C\u002Fdiv\u003E\n  \u003C\u002Fdiv\u003E\n\n  \u003Cdiv class=\"right-top\" id=\"countdown\"\u003E\n  \u003Ccanvas id=\"timer-circle\"\u003E\u003C\u002Fcanvas\u003E\n  \u003C\u002Fdiv\u003E\n    \n\n\u003C\u002Fheader\u003E\n\n\u003Cmain data-labjs-section=\"frame\"\u003E\n  \u003C!-- Content gets inserted here --\u003E\n\u003C\u002Fmain\u003E\n\n\u003Cfooter class=\"footer-full\"\u003E\n\u003Cdiv id=\"session-countdown\"\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E\n\n",
      "contextSelector": "[data-labjs-section=\"frame\"]",
      "files": {},
      "responses": {
        "": ""
      },
      "parameters": {},
      "messageHandlers": {
        "run": function anonymous(
) {
window.onbeforeunload = function() {
  return "Današnje delo bo izgubljeno, če zapustiš to stran. Si prepričan_a?";};

// motivational text chooser function
chooseSpeechText = setInterval(function() {
  document.getElementById("pokemon-motivation").innerHTML = motivations[Math.floor(Math.random() * motivations.length)];
}, 60000) 


// timer parameters
session_time_left = 1859;
session_minutes_left = (time_left / 60)

// timer function
sessiontimer = setInterval(function(){
  if(session_time_left <= 0){
    clearInterval(sessiontimer);
    document.getElementById("session-countdown").innerHTML = "Finished";
  } else {
    document.getElementById("session-countdown").innerHTML = Math.trunc(session_minutes_left) + " minut do konca";
  }
  session_time_left -= 1;
  session_minutes_left = (session_time_left / 60);
}, 1000);
},
        "before:prepare": function anonymous(
) {
const unloadHandler = (e) => {
  const warning = 'Če zapreš to okno, bo študija prekinjena. Ali si prepričan_a?';
  e.returnValue = warning;
  return warning;
}

class NavigationGuard {
  handle(_, event) {
    if (event === 'prepare') {
      window.addEventListener('beforeunload', unloadHandler);
    } else if (event === 'end') {
      window.removeEventListener('beforeunload', unloadHandler);
    }
  }
}

this.internals.root.plugins.add(new NavigationGuard())

// define each of the four potential stimuli per trial //
stimulus_1_bucket = ['SAR', 'FOL', 'KEZ', 'JIK', 'KAŠ', 'KOG', 'KOJ', 'NAC', 'NUC', 'PEJ', 'NEJ', 'RAV', 'CUV', 'JER', 'PUZ', 'NEC', 'VEJ', 'JUZ', 'HIR', 'CUP', 'ŠEC', 'KOB', 'CUR', 'VOV', 'LUF', 'CED', 'KIG', 'CEP', 'KUL', 'CUH', 'TEO', 'KUS', 'NUZ', 'GIŠ', 'ŠAZ', 'DIZ', 'CIL', 'FEC', 'TUS', 'VOK', 'RIZ', 'GUK', 'PIŽ', 'GOM', 'KIŠ', 'ŽEJ', 'CUF', 'VIL', 'VOR', 'JEZ', 'SUZ', 'CEF', 'VOP', 'FUŽ', 'FAJ', 'KIB', 'VAB', 'ŽIK', 'RIV', 'FAM', 'KAD', 'JOL', 'LAZ', 'KUV', 'ROR', 'BAAG', 'BAEJ', 'BAIF', 'BAUC', 'BAUK', 'BEID', 'BEOB', 'BIAL', 'BIIL', 'BIIM', 'BOIB', 'BOUF', 'BOUG', 'BUIF', 'CAIH', 'CEAB', 'CEEC', 'CEEF', 'CEIB', 'CEIC', 'CEOJ', 'CIEM', 'CIOH', 'CIOK', 'CIOM', 'CIUB', 'CIUM', 'COIM', 'CUEK', 'CUEM', 'DEIG', 'DEIM', 'DEOG', 'DEUL', 'DIOK', 'DUUG', 'FAED', 'FAIF', 'FAIK', 'FEOF', 'FEOJ', 'FIAG', 'FIOF', 'FIUJ', 'FOAC', 'FOEC', 'FOED', 'FUEK', 'FUOH', 'FUUC', 'GAAB', 'GAAG', 'GAAK', 'GAOF', 'GAOH', 'GAUC', 'GEIF', 'GEIM', 'GOIF', 'GOUM', 'GUAH', 'GUEM', 'GUIG', 'GUIL', 'GUOB', 'GUUC', 'GUUM', 'HAUG', 'HEAJ', 'HEIK', 'HEOD', 'HEOM', 'HIUB', 'HIUC', 'HIUF', 'HOIJ', 'HOUF', 'HUAG', 'HUOJ', 'HUUM', 'JAAD', 'JAAL', 'JAID', 'JAIG', 'JEAL', 'JEEJ', 'JEOJ', 'JEOM', 'JIIH', 'JIIL', 'JIOF', 'JOEC', 'JOED', 'JOIC', 'JOOM', 'JUAG', 'JUIF', 'JUUH', 'KAEB', 'KAOF', 'KAOK', 'KEED', 'KEOJ', 'KEUL', 'KIAM', 'KIIB', 'KIOK', 'KIOM', 'KOEJ', 'KOUB', 'KUAG', 'KUIG', 'LAEK', 'LAOK', 'LAUH', 'LAUL', 'LEAJ', 'LEEH', 'LEOM', 'LEUC', 'LIAJ', 'LIAK', 'LIIF', 'LOEB', 'LOUC', 'LUIL', 'LUOL', 'LUUD', 'MAEH', 'MAEK', 'MAIC', 'MAOG', 'MAUH', 'MEIF', 'MEUH', 'MIAD', 'MIAG', 'MIAL', 'MIIB', 'MIIG', 'MIOM', 'MOAC', 'MOEG', 'MOUH', 'MUAD', 'MUAM', 'MUUH', 'NAAH', 'NAOG', 'NAUB', 'NAUH', 'NEOF', 'NEOJ', 'NEUD', 'NOEM', 'NOIK', 'NOUB', 'NOUM', 'NUOC', 'NUUF', 'NUUJ', 'PEAM', 'PEEF', 'PEIF', 'PEIK', 'PEOL', 'PIIM', 'PIOK', 'POAG', 'POAH', 'POED', 'POIC', 'POUD', 'PUIG', 'PUIL', 'PUOF', 'PUOM', 'PUUB', 'PUUL', 'KAEM', 'KEAC', 'KEAK', 'KEIH', 'KIOL', 'KIUL', 'KOIL', 'KOOB', 'KOUC', 'KOUD', 'KOUH', 'KUAM', 'KUIM', 'RAOB', 'RAOF', 'REIL', 'RIIM', 'ROAG', 'ROAL', 'ROIH', 'ROOB', 'ROOL', 'ROUJ', 'ROUM', 'RUOB', 'SAAK', 'SAUH', 'SEIJ', 'SEUC', 'SEUH', 'SIIK', 'SIIL', 'SIIM', 'SIOL', 'SOAD', 'SOEB', 'SOEJ', 'SOIK', 'SUUB', 'TAAG', 'TAIC', 'TAID', 'TAIJ', 'TAOM', 'TEOG', 'TEOJ', 'TEUB', 'TEUD', 'TIAK', 'TIEL', 'TIOH', 'TOOH', 'TUAB', 'TUIH', 'TUIM', 'TUUC', 'TUUL', 'VAOJ', 'VEIG', 'VEUB', 'VEUL', 'VIUJ', 'VIUL', 'VOAL', 'VOAM', 'VOEK', 'VUAF', 'VUUL', 'ŽAEC', 'ŽAEM', 'ŽAUF', 'ŽEOF', 'ŽEUH', 'ŽEUM', 'ŽIAG', 'ŽIAL', 'ŽIEF', 'ŽIIC', 'ŽOAH', 'ŽOIB', 'ŽOID', 'ŽOUC', 'ŽUAD', 'ŽUAF', 'ŽUIB', 'ŽUIF', 'CAAJ', 'CAUH', 'CAUL', 'CEAG', 'CEEJ', 'CEUF', 'CEUJ', 'CIEF', 'CIIH', 'CIIL', 'CIOD', 'CIUF', 'COEJ', 'CUAF', 'CUIL', 'CUOG', 'ŠAIJ', 'ŠAUG', 'ŠAUM', 'ŠEIB', 'ŠEIM', 'ŠIEM', 'ŠIIF', 'ŠOEG', 'ŠOIC', 'ŠOOC', 'ŠUAJ', 'ŠUEF', 'ŠUOK', 'ŠUUJ', 'ZAID', 'ZAOK', 'ZEAD', 'ZEOC', 'ZEOH', 'ZIEC', 'ZIIM', 'ZOAH', 'ZOID', 'ZOOC', 'ZUEM', 'ZUOH', 'ZAOP', 'ZAOŽ', 'ZEAN', 'ZEAP', 'ZEAV', 'ZEAC', 'ZEIP', 'ZEIT', 'ZIAN', 'ZIEK', 'ZOAT', 'ZOIT', 'ZOUV', 'ZUIR', 'NEUZ', 'NIIZ', 'NOIZ', 'SAEZ', 'SUAZ', 'TEIZ', 'TIUZ', 'VAIZ', 'VIEZ', 'ŽAIZ', 'ŽIOZ', 'COAZ', 'ŠOAZ', 'ŠOOZ', 'NAAT', 'NEES', 'NEIR', 'NEOR', 'NEOS', 'NIEV', 'NIUK', 'NOAŽ', 'NOAC', 'NUEŽ', 'NUIT', 'NUOT', 'NUOŠ', 'NUUŽ', 'PAAV', 'PAOV', 'PAOŠ', 'PIAC', 'PIIS', 'PIOP', 'PIOR', 'PIOV', 'PIUP', 'POIP', 'PUAV', 'PUIP', 'PUUC', 'KAAP', 'KAEŽ', 'KAIS', 'KEAS', 'KEOC', 'KIAK', 'KIIŠ', 'KIOT', 'KIUC', 'KOAK', 'KOEK', 'KOEŽ', 'KOIŠ', 'KOOV', 'KOUT', 'KUEK', 'KUES', 'KUUN', 'RAEP', 'RAIP', 'RAUN', 'REON', 'REOR', 'RIAC', 'RIAŠ', 'RIEŠ', 'RIIP', 'RIIŽ', 'RIOS', 'RIOV', 'RIOŠ', 'ROAV', 'ROAŽ', 'ROIT', 'ROIV', 'ROIŽ', 'RUAT', 'RUUŽ', 'RUUC', 'SAEŠ', 'SAOT', 'SAOC', 'SIAŽ', 'SIEK', 'SIUK', 'SOAN', 'SUAV', 'SUIŽ', 'SUOR', 'TAUK', 'TEAŠ', 'TEET', 'TEOT', 'TIAV', 'TIAŠ', 'TIOR', 'TIOS', 'TIOŽ', 'TIUP', 'TIUC', 'TOIR', 'TOOS', 'TUAP', 'TUOR', 'VAEC', 'VAUR', 'VEOT', 'VEOŠ', 'VEUK', 'VIEK', 'VIUV', 'VOAS', 'VOIS', 'VOOV', 'VUIŠ', 'VUOK', 'ŽAEN', 'ŽAEV', 'ŽAIS', 'ŽAOŽ', 'ŽEEŠ', 'ŽEIC', 'ŽIEK', 'ŽIIS', 'ŽIOR', 'ŽOER', 'ŽOOK', 'ŽOOR', 'ŽOOV', 'ŽOUV', 'ŽUIP', 'ŽUUN', 'CAOS', 'CAUS', 'CEIN', 'CEIS', 'COOV', 'CUEŠ', 'CUOŠ', 'CUUP', 'ŠAIN', 'ŠAIT', 'ŠEET', 'ŠEOV', 'ŠIER', 'ŠIIN', 'ŠIIC', 'ŠIOP', 'ŠOAS', 'ŠOEC', 'ŠOOŽ', 'ŠUES', 'ŠUIK', 'ŠUIS', 'ŠUIT', 'ŠUUK', 'BAIK', 'BAUN', 'BEOP', 'BIAN', 'BIIN', 'BIIŽ', 'BIOR', 'BOEK', 'BUAP', 'BUEK', 'BUES', 'BUIN', 'BUUŠ', 'CAAR', 'CAAŠ', 'CAIŠ', 'CIIP', 'COIK', 'COIS', 'COIT', 'COUT', 'CUOP', 'DAUP', 'DEAS', 'DIOŠ', 'DOAR', 'DUAT', 'DUAŠ', 'DUEN', 'DUOT', 'DUOV', 'FAAR', 'FAET', 'FEIV', 'FEUV', 'FEUC', 'FIIP', 'FIIŽ', 'FIUR', 'FIUC', 'FOER', 'FOIŠ', 'FOOP', 'FOUN', 'FOUK', 'FUAP', 'GAEŽ', 'GAIR', 'GEIS', 'GEIV', 'GEOT', 'GIAV', 'GOUC', 'GUIN', 'GUIP', 'GUOP', 'HAOT', 'HAUR', 'HEAK', 'HEOV', 'HIUP', 'HOEV', 'HOIP', 'HOUP', 'HUOK', 'HUOV', 'HUUT', 'JAAŠ', 'JEEK', 'JIAN', 'JIEN', 'JIUK', 'JOUR', 'JOUS', 'JUAC', 'JUOV', 'KAAŠ', 'KAEP', 'KAEV', 'KAIR', 'KAIŠ', 'KAOR', 'KAOT', 'KIAC', 'KIUP', 'LOAŠ', 'LOIR', 'LUAK', 'MAEV', 'MEAP', 'MOIN', 'MOIP', 'MOUR', 'MUEN', 'MUER', 'MUEC', 'MUOR', 'BAUZ', 'BEEZ', 'BUEZ', 'BUIZ', 'BUOZ', 'CAIZ', 'CIEZ', 'DAAZ', 'DIIZ', 'DUOZ', 'FAUZ', 'FIUZ', 'GIIZ', 'GIOZ', 'HAUZ', 'HEOZ', 'HOEZ', 'JAOZ', 'JAUZ', 'JEOZ', 'KOUZ', 'LUOZ', 'MAOZ', 'PAZ', 'FUP', 'SUK', 'TEB', 'COP', 'HEH', 'SEH', 'ŠOZ', 'POB', 'ŠAT', 'GOF', 'GEF', 'ŠAN', 'TUŠ', 'ŠAB', 'BUD', 'HAB', 'KOH', 'JEP', 'KOE', 'DUL', 'HIB', 'HOC', 'KOZ', 'KIL', 'DIŽ', 'CAŠ', 'SIF', 'TAC', 'ŠIR', 'TOV', 'VEB', 'KIN', 'HIL', 'KIJ', 'SIJ', 'NAH', 'JUC', 'ŠIJ', 'JOZ', 'SAV', 'SOJ', 'HUC', 'ŽOC', 'VIK', 'NER', 'LOH', 'FUF', 'ROP', 'COF', 'FAK', 'KUH', 'FEJ', 'POK', 'NEH', 'DUC', 'FOV', 'HOV', 'JOP', 'CEO', 'ŠUH', 'GEK', 'TIV', 'BAED', 'BEAB', 'BEAJ', 'BEIB', 'BEIF', 'BEIH', 'BIEM', 'BIOL', 'BIUL', 'BUAC', 'BUEG', 'BUOJ', 'CAEG', 'CAEM', 'CAOL', 'CIIJ', 'COUB', 'CUUB', 'DAOH', 'DAOK', 'DAUC', 'DEAJ', 'DOAF', 'DOAG', 'DOIH', 'DOOB', 'DUED', 'DUIJ', 'FAEH', 'FEEM', 'FEIG', 'FEIH', 'FOID', 'FUIJ', 'FUIL', 'FUOD', 'FUUF', 'GAAH', 'GAUF', 'GIAH', 'GIAJ', 'GIEL', 'GIID', 'GIOD', 'GOEJ', 'GOOB', 'GOUL', 'GUAK', 'GUOF', 'GUUJ', 'HAEH', 'HAIC', 'HAIJ', 'HAOD', 'HAOG', 'HEAB', 'HEUK', 'HIIG', 'HIOF', 'HOAG', 'HOAM', 'HOEJ', 'HOOJ', 'JAAM', 'JAOH', 'JEAH', 'JEIL', 'JIAD', 'JIAL', 'JIEF', 'JIUG', 'JOAF', 'JUOF', 'JUUF', 'JUUG', 'JUUL', 'KAAD', 'KAIH', 'KAOC', 'KEAJ', 'KEEG', 'KEOB', 'KIUG', 'KOAH', 'KUAB', 'KUAL', 'LAAB', 'LAEF', 'LAEL', 'LAUC', 'LEEJ', 'LEIC', 'LEIM', 'LEOB', 'LEUF', 'LEUJ', 'LIEB', 'LIIL', 'LIOC', 'LIUC', 'LOIG', 'LOIJ', 'LOIK', 'LOOC', 'LUEB', 'LUOM', 'MAEF', 'MAIB', 'MAOC', 'MAUC', 'MAUJ', 'MAUM', 'MEAK', 'MOAJ', 'MOEB', 'MOOJ', 'MUAF', 'MUAG', 'MUEB', 'MUIH', 'MUOC', 'MUOM', 'NAAC', 'NAEJ', 'NAUD', 'NAUM', 'NEIB', 'NEIM', 'NIEJ', 'NIIM', 'NOOC', 'NOOG', 'PAAF', 'PAAK', 'PAEB', 'PAEC', 'PEEB', 'PEOB', 'PEOH', 'PEUB', 'PIAJ', 'PIIG', 'POUJ', 'PUEH', 'PUIJ', 'KEOL', 'KIAB', 'KIOB', 'KIUD', 'KUEJ', 'KUOM', 'RAED', 'RAIH', 'RAIK', 'RAOJ', 'RIEB', 'RIUF', 'ROED', 'ROEL', 'ROIC', 'RUAB', 'RUEM', 'RUIK', 'SAIB', 'SAIM', 'SEEG', 'SEOB', 'SEOG', 'SEOL', 'SEUK', 'SIIF', 'SOAH', 'SUOD', 'SUOH', 'SUUJ', 'TAAD', 'TAEG', 'TAEJ', 'TAEK', 'TAOD', 'TIIH', 'TOIF', 'TOUD', 'TUAJ', 'TUAM', 'VAOH', 'VAUG', 'VEEC', 'VEIH', 'VEUC', 'VIAF', 'VIOF', 'VOED', 'VOIF', 'VOOG', 'VOOL', 'VOOM', 'VOUG', 'VUAM', 'VUEF', 'VUOJ', 'VUOL', 'ŽAAF', 'ŽAIC', 'ŽAUM', 'ŽEEB', 'ŽIAF', 'ŽIIF', 'ŽIOG', 'ŽIUG', 'ŽOAF', 'ŽOEM', 'ŽUAC', 'ŽUAL', 'ŽUEJ', 'ŽUOC', 'ŽUOH', 'ŽUOK', 'ŽUOL', 'ŽUOM', 'CEOB', 'COEC', 'COIL', 'COUC', 'CUAD', 'CUEF', 'CUEL', 'ŠAAC', 'ŠAAF', 'ŠEIK', 'ŠEUL', 'ŠIED', 'ŠIEL', 'ŠIIL', 'ŠIUF', 'ŠOAH', 'ŠOAL', 'ŠOIF', 'ŠOUL', 'ŠUEL', 'ŠUIJ', 'ŠUUD', 'ZAAM', 'ZAEL', 'ZAIJ', 'ZAIL', 'ZAOB', 'ZAOG', 'ZAUL', 'ZEEH', 'ZEUB', 'ZIEB', 'ZOEC', 'ZOOH', 'ZOUL', 'ZUAG', 'ZUOF', 'ZUUM', 'ZAIS', 'ZAUN', 'ZIIK', 'ZUAT', 'ZAEZ', 'ZAIZ', 'ZOEZ', 'ZUOZ', 'NEAZ', 'NUAZ', 'PEEZ', 'PIEZ', 'PUEZ', 'RAAZ', 'REAZ', 'SAUZ', 'SEIZ', 'TAIZ', 'TOOZ', 'VAOZ', 'VIUZ', 'ŽAAZ', 'ŽIUZ', 'CUUZ', 'NAON', 'NAOP', 'NAUV', 'NEEŠ', 'NEOŽ', 'NIOP', 'NIUV', 'NOET', 'NUUT', 'PAEN', 'PAIT', 'PAOR', 'PEUP', 'PIEV', 'PIEŽ', 'POAR', 'PUEŠ', 'PUUP', 'KAES', 'KAOŽ', 'KEIP', 'KEOS', 'KEOV', 'KEUV', 'KIUR', 'KUIŽ', 'KUOC', 'RAEV', 'RAIC', 'REAC', 'REIK', 'RIEŽ', 'RIIS', 'RIOC', 'ROEK', 'ROIN', 'ROIŠ', 'ROUR', 'RUAR', 'RUIR', 'RUIC', 'RUOR', 'RUOS', 'SAIŽ', 'SAIC', 'SAUK', 'SEOP', 'SIEP', 'SIIŠ', 'SIOS', 'SOAŠ', 'SOUT', 'SUIV', 'SUOP', 'SUOS', 'TAAP', 'TAAK', 'TAER', 'TEAN', 'TEAC', 'TIAR', 'TIEK', 'TION', 'TIUŽ', 'TOAP', 'TOEV', 'TOUŠ', 'VAAK', 'VAEV', 'VAOC', 'VAUK', 'VEEV', 'VEOS', 'VIEŠ', 'VIIR', 'VOAŽ', 'VOAC', 'VOEŽ', 'VOIV', 'VOOŠ', 'VUUK', 'ŽAER', 'ŽAOT', 'ŽIAP', 'ŽIIP', 'ŽIIŠ', 'ŽOEV', 'CAIS', 'CAOV', 'CAUP', 'CAUT', 'CEES', 'CIAC', 'CIIN', 'CIIS', 'CIOŠ', 'CIUS', 'COET', 'COUK', 'ŠAAN', 'ŠAEV', 'ŠEIN', 'ŠEIŠ', 'ŠEUP', 'ŠIEP', 'ŠIIK', 'ŠIOV', 'ŠOEŽ', 'ŠOIN', 'ŠOIP', 'ŠOIŽ', 'ŠUEP', 'ŠUET', 'ŠUOT', 'BAEP', 'BAEŠ', 'BAOK', 'BEEŽ', 'BEIV', 'BIAŽ', 'BIOŽ', 'BIUP', 'BIUŠ', 'BOIV', 'BOOK', 'BOOV', 'BUAV', 'BUEV', 'BUIŽ', 'COIV', 'CUOŽ', 'DAOC', 'DAUV', 'DEAŠ', 'DEET', 'DIAR', 'DIAT', 'DIAC', 'DIIŠ', 'DOAŠ', 'DOEŠ', 'DOIR', 'DUAK', 'DUAR', 'DUEP', 'FAEP', 'FAEK', 'FAEŽ', 'FAOR', 'FEER', 'FEIK', 'FEON', 'FEUN', 'FEUŽ', 'FIEŽ', 'FOEN', 'FOIC', 'FOUV', 'FUAC', 'FUES', 'FUOV', 'GAIP', 'GAOS', 'GAOŽ', 'GAUS', 'GAUV', 'GAUŠ', 'GEAP', 'GOEŠ', 'GOIP', 'GOIR', 'GOIS', 'GOIŽ', 'GUAV', 'GUEV', 'GUEŠ', 'GUIS', 'GUIV', 'HAIS', 'HEEŽ', 'HEIN', 'HEOP', 'HEUN', 'HIAV', 'HIAŽ', 'HIEŽ', 'HIOŽ', 'HIUR', 'HOAT', 'HOUK', 'HOUV', 'HUAP', 'HUEV', 'HUIK', 'HUIC', 'HUUV', 'HUUŠ', 'JAIŽ', 'JAOV', 'JEAR', 'JEEŽ', 'JEIS', 'JEOŠ', 'JIAŠ', 'JIEV', 'JIIT', 'JIIC', 'JIOP', 'JIOC', 'JIUN', 'JOAŽ', 'JOOV', 'JUEP', 'JUEŽ', 'JUON', 'JUUP', 'JUUŠ', 'KAUŠ', 'KEIŽ', 'KEOT', 'KIOP', 'KOAV', 'KOUŽ', 'LAIS', 'LAOR', 'LIIŽ', 'LIOT', 'LIUR', 'LOES', 'LOEŠ', 'LOOŠ', 'LUEŽ', 'LUIN', 'LUIK', 'LUUP', 'LUUC', 'MAON', 'MAUŽ', 'MEAR', 'MEAC', 'MEUC', 'MIEK', 'MIOS', 'MIOV', 'MOAK', 'MUAK', 'MUAŠ', 'MUOT', 'BEOZ', 'COOZ', 'FIAZ', 'GOUZ', 'JAAZ', 'JOEZ', 'KAIZ', 'MOUZ;', 'NEZ', 'LAJ', 'CIP', 'MIŽ', 'DOZ', 'HIZ', 'VUJ', 'MUZ', 'COH', 'POZ', 'JEG', 'GUH', 'TAZ', 'ŠUS', 'ŠUC', 'KUŽ', 'DOH', 'CIM', 'GAK', 'HED', 'RER', 'VOT', 'CUT', 'JAH', 'JOD', 'LUJ', 'CIZ', 'TEF', 'ROL', 'FOS', 'SED', 'PUC', 'RUR', 'VIH', 'POC', 'NUV', 'TEI', 'TEP', 'LIF', 'GIC', 'ŠAG', 'KIR', 'GAJ', 'LIŽ', 'HUS', 'NUJ', 'TIŠ', 'JIŠ', 'SUS', 'HOZ', 'CAN', 'LUC', 'ŽUF', 'ŽUŠ', 'PIV', 'BAEC', 'BAIM', 'BAOF', 'BEAG', 'BEOL', 'BEUF', 'BIIC', 'BIIH', 'BIUG', 'BIUK', 'BOAD', 'BOIM', 'BUUB', 'BUUD', 'CAUG', 'CEOH', 'CEOM', 'CEUB', 'CIUD', 'CUOL', 'CUOM', 'DAAJ', 'DAEC', 'DAED', 'DAEK', 'DAIK', 'DAOD', 'DEEF', 'DEIJ', 'DIAM', 'DIIF', 'DIIL', 'DOAJ', 'DOEB', 'DOEH', 'DUAF', 'DUOH', 'DUUD', 'FEAF', 'FEAM', 'FEEH', 'FEOK', 'FEUB', 'FIEH', 'FIIH', 'FOAD', 'FOAJ', 'FOIK', 'FUOJ', 'GAEG', 'GEEB', 'GEIB', 'GEUK', 'GIAD', 'GIAF', 'GOAF', 'GOUB', 'GUAJ', 'GUUD', 'HAAH', 'HAEB', 'HEEF', 'HEUH', 'HIAC', 'HIEJ', 'HIIM', 'HIOC', 'HOOM', 'HOUH', 'HUAL', 'HUEF', 'HUEG', 'HUEH', 'JAOM', 'JAUH', 'JEUH', 'JIAG', 'JIAM', 'JIID', 'JOAK', 'JOIH', 'JOOC', 'JOUM', 'JUEB', 'JUEK', 'JUOJ', 'KAAB', 'KAEG', 'KAOD', 'KAUF', 'KIUF', 'KUIH', 'KUUG', 'LAAJ', 'LAEC', 'LAIH', 'LAIJ', 'LEOC', 'LEOG', 'LEOK', 'LIEG', 'LIIM', 'LIOB', 'LOOH', 'LUAD', 'LUAF', 'LUIF', 'LUOH', 'MAAH', 'MEAB', 'MEAM', 'MEOH', 'MIAF', 'MIIJ', 'MIIM', 'MOOG', 'MOOK', 'MUIB', 'MUIM', 'MUUD', 'NAEL', 'NAIM', 'NEAB', 'NEAH', 'NEOD', 'NIAB', 'NIAJ', 'NIUG', 'NOIJ', 'NOOM', 'NOUL', 'NUEL', 'NUID', 'NUIJ', 'NUOD', 'NUOJ', 'NUUH', 'PAAH', 'PAEG', 'PAIC', 'PAIM', 'PAUF', 'PIIB', 'PIUC', 'POAD', 'POAF', 'POEJ', 'POIK', 'PUAJ', 'PUEF', 'PUEJ', 'PUUJ', 'KAIL', 'KIUJ', 'KUOG', 'RAOM', 'RAUG', 'RAUM', 'RIIL', 'RIOG', 'RIOJ', 'RIUD', 'RIUH', 'ROAK', 'RUOL', 'RUUF', 'RUUG', 'RUUJ', 'SEAD', 'SEIH', 'SEIM', 'SEUF', 'SIAC', 'SIED', 'SIEH', 'SIEJ', 'SIOF', 'SIUF', 'SIUM', 'SOEC', 'SOEF', 'SOEH', 'SOOB', 'SOUM', 'SUAC', 'SUEJ', 'SUIL', 'TAOH', 'TEEH', 'TEEJ', 'TIEG', 'TIEJ', 'TIOK', 'TOEB', 'TOEG', 'TOEJ', 'TOIB', 'TOIM', 'TOOB', 'TOUJ', 'TUEL', 'TUID', 'TUOC', 'TUOM', 'VIUK', 'VOIG', 'VOIH', 'VUUG', 'ŽAAC', 'ŽAIH', 'ŽAOH', 'ŽAOM', 'ŽEIB', 'ŽIUM', 'ŽOEB', 'ŽUAG', 'ŽUIK', 'CIEL', 'COOL', 'COUM', 'ŠAEK', 'ŠAOH', 'ŠAOJ', 'ŠEUC', 'ŠEUM', 'ŠIAL', 'ŠIOC', 'ŠOIH', 'ŠUAG', 'ŠUOB', 'ŠUOM', 'ŠUUC', 'ZEAF', 'ZEIB', 'ZIOM', 'ZIUK', 'ZOEB', 'ZOEM', 'ZAER', 'ZAES', 'ZAIK', 'ZAOR', 'ZAOŠ', 'ZEUŽ', 'ZIAP', 'ZIAŽ', 'ZIUS', 'ZIUV', 'ZOIP', 'ZOOT', 'ZUAN', 'ZUAP', 'ZUAV', 'ZIIZ', 'NAOZ', 'NOOZ', 'PUOZ', 'ROOZ', 'SOAZ', 'TIAZ', 'TOUZ', 'VOAZ', 'ŽOIZ', 'CAEZ', 'CUEZ', 'ŠAOZ', 'NAIN', 'NAIV', 'NAUN', 'NAUR', 'NEUR', 'NIAT', 'NIOŠ', 'NOAN', 'NOER', 'NOOV', 'NUAŽ', 'NUAC', 'NUER', 'NUIR', 'NUIŠ', 'NUON', 'NUOŽ', 'NUUP', 'NUUR', 'PAAŽ', 'PAES', 'PAIK', 'PEAŽ', 'PEEV', 'PEIŠ', 'PIAT', 'PIAŠ', 'PIEK', 'PIIŠ', 'PIUŠ', 'POEŠ', 'POUS', 'KEEN', 'KEOR', 'KOAR', 'KOAŠ', 'KOOS', 'KUAŽ', 'KUIS', 'KUIŠ', 'RAOK', 'RAOR', 'RAOŠ', 'RAUV', 'RIER', 'RIIV', 'RIUK', 'ROIR', 'RUAS', 'RUIV', 'RUUS', 'RUUV', 'SIES', 'SION', 'SIOT', 'SIUŽ', 'SOEŽ', 'SOIN', 'SOIP', 'SUAP', 'TAAT', 'TAUŽ', 'TEEV', 'TEOS', 'TIIS', 'TIOT', 'TOAV', 'TOIS', 'TUEŠ', 'TUUP', 'TUUŽ', 'VAEN', 'VEET', 'VEIR', 'VEUP', 'VIIT', 'VIOR', 'VIOS', 'VIOT', 'VIUP', 'VOAR', 'VOEP', 'VOEV', 'VOUN', 'VUAT', 'VUER', 'VUIP', 'VUIT', 'VUOS', 'ŽAAK', 'ŽEAT', 'ŽEOŽ', 'ŽIUP', 'ŽOEN', 'ŽOOŠ', 'ŽOUS', 'ŽUAN', 'ŽUAR', 'ŽUAT', 'ŽUIŽ', 'ŽUIŠ', 'CAIŽ', 'CIAV', 'CIOŽ', 'COAR', 'COIP', 'CUAV', 'CUES', 'ŠAEP', 'ŠAIS', 'ŠAUK', 'ŠEOP', 'ŠEOT', 'ŠIAT', 'ŠIIR', 'ŠIIT', 'ŠOUP', 'ŠOUŠ', 'ŠUAV', 'ŠUEŽ', 'ŠUIN', 'BAAV', 'BIAV', 'BION', 'BOAN', 'BOOŠ', 'BOUC', 'BUOT', 'BUOV', 'BUUP', 'CEIP', 'CEIŠ', 'CIES', 'CIEŠ', 'CUON', 'CUUT', 'DAEP', 'DAER', 'DEIP', 'DIEV', 'DIOŽ', 'DOUS', 'FAEŠ', 'FAOT', 'FEIP', 'FOAP', 'FOEP', 'FOEŠ', 'FOIR', 'FUIP', 'GEAT', 'GEEŽ', 'GEIR', 'GIIN', 'GIOV', 'GOOŠ', 'GOUS', 'GUAŽ', 'GUON', 'GUOR', 'GUUP', 'HAAV', 'HAAŠ', 'HAIT', 'HEEV', 'HIUŽ', 'HOIR', 'HOOŽ', 'HUAN', 'HUOŽ', 'HUUŽ', 'JAIC', 'JAOS', 'JAUK', 'JAUS', 'JAUT', 'JEET', 'JIER', 'JOET', 'JOIR', 'JOIV', 'JUAR', 'JUAV', 'JUER', 'JUEV', 'JUEC', 'JUIT', 'KEAP', 'LAAŠ', 'LAOŽ', 'LEIŽ', 'LEIŠ', 'LEOŽ', 'LEUŽ', 'LIAP', 'LIIN', 'LIUN', 'LOAS', 'LOEK', 'LOEV', 'LUAS', 'LUOK', 'LUUT', 'MAOR', 'MEEK', 'MEIT', 'MIEŠ', 'MIIŽ', 'MOUN', 'MUUP', 'BUAZ', 'FOOZ', 'HOAZ', 'JIAZ', 'KEAZ', 'KIOZ', 'MUUZ;', 'NIŠ', 'COB', 'NOZ', 'VUD', 'NIR', 'BIH', 'CAP', 'ŽEP', 'GIV', 'ŽOV', 'NUŽ', 'ŽOH', 'HIK', 'FAF', 'KEU', 'ŽIŽ', 'ŽUG', 'MEB', 'LIZ', 'FOF', 'FEM', 'NUK', 'SOP', 'TOS', 'ŠIG', 'LUH', 'HEJ', 'ŠEB', 'NUG', 'CON', 'ŠIV', 'RIA', 'ŠAV', 'DAC', 'ŽIH', 'PAJ', 'POJ', 'FOM', 'NUP', 'JIP', 'KUT', 'VUZ', 'LEH', 'BAAD', 'BAIG', 'BAOH', 'BIEH', 'BIIJ', 'BOEB', 'BOIH', 'BUAL', 'BUEB', 'BUED', 'BUEM', 'CAIJ', 'CEAL', 'CEOF', 'CUIH', 'DAOB', 'DIIH', 'DIOG', 'DIUJ', 'DIUM', 'DOUM', 'DUIL', 'DUOG', 'FAOL', 'FAUD', 'FEEG', 'FEOH', 'FEUL', 'FOAG', 'FOIH', 'FOUM', 'FUAG', 'FUAL', 'FUID', 'GAOG', 'GEAH', 'GEEM', 'GEIH', 'GIIB', 'GIIM', 'GIOL', 'GOIH', 'GOIJ', 'GOUF', 'GUAM', 'GUEJ', 'GUEL', 'GUIH', 'GUOH', 'HAUM', 'HEAM', 'HEUL', 'HIAD', 'HIIJ', 'HIOB', 'HOEB', 'HOIC', 'HUAM', 'HUIB', 'HUOB', 'HUOH', 'HUUF', 'JAOC', 'JEAM', 'JEOD', 'JEUF', 'JEUJ', 'JIEB', 'JIEG', 'JIIF', 'JIOJ', 'JIOL', 'JOEJ', 'JOOJ', 'JOUF', 'JUEG', 'JUIB', 'JUIL', 'KAIB', 'KEEH', 'KUIJ', 'LAOB', 'LEUB', 'LEUH', 'LEUM', 'LIUJ', 'LIUM', 'LOEG', 'LUAG', 'LUEM', 'LUOD', 'LUUM', 'MEAG', 'MEOG', 'MEUJ', 'MOEJ', 'MOIB', 'MOIH', 'MUIF', 'MUUJ', 'NEAJ', 'NEIJ', 'NEUF', 'NEUJ', 'NIAD', 'NIEF', 'NIIB', 'NIOB', 'NOED', 'NOUF', 'NOUH', 'NUED', 'NUOF', 'PAIB', 'PAIJ', 'PAOM', 'PEAB', 'PEAF', 'PEOF', 'PEUM', 'PIEG', 'PIOD', 'PIUB', 'PIUF', 'PIUJ', 'POIF', 'POIL', 'PUAF', 'PUAH', 'PUEC', 'PUIB', 'KAIF', 'KOOL', 'RAEM', 'RAIM', 'REEJ', 'REOF', 'REUJ', 'REUM', 'RIAD', 'RIAJ', 'RIEH', 'RIIG', 'RIOF', 'RIUG', 'ROUH', 'RUAD', 'RUEG', 'RUUD', 'SEAB', 'SEAJ', 'SEEJ', 'SEUD', 'SIAG', 'SIEB', 'SIOG', 'SIUD', 'SOED', 'SUIF', 'SUOB', 'SUUH', 'TAEH', 'TEEL', 'TEIG', 'TEOM', 'TOAF', 'TOIK', 'TUAL', 'TUEM', 'TUOK', 'VAEB', 'VAEH', 'VAEL', 'VEEF', 'VEOD', 'VIAM', 'VIIF', 'VOIJ', 'VUAD', 'VUED', 'ŽAEH', 'ŽAID', 'ŽAOD', 'ŽAUG', 'ŽEAJ', 'ŽEEJ', 'ŽEIM', 'ŽIAJ', 'ŽIEB', 'ŽIIM', 'ŽIUD', 'ŽIUF', 'ŽOAB', 'ŽUOG', 'CAID', 'ŠAAJ', 'ŠAAM', 'ŠAOF', 'ŠEEH', 'ŠEID', 'ŠEOG', 'ŠEUH', 'ŠIAD', 'ŠIUL', 'ŠOAJ', 'ŠOEM', 'ŠOIG', 'ŠOOB', 'ŠOOJ', 'ŠOUK', 'ŠUAB', 'ŠUUG', 'ZAEM', 'ZAIF', 'ZEID', 'ZEOD', 'ZIAD', 'ZIIG', 'ZOIF', 'ZOUF', 'ZUAH', 'ZUEG', 'ZUIF', 'ZUOL', 'ZUUH', 'ZAIP', 'ZIAŠ', 'ZOOŠ', 'ZUAS', 'ZUEP', 'ZUUŽ', 'ZEEZ', 'ZEOZ', 'ZIOZ', 'ZOAZ', 'ZOIZ', 'ZUIZ', 'POOZ', 'SEUZ', 'SIUZ', 'SUEZ', 'VIAZ', 'VOOZ', 'VUOZ', 'ŽUIZ', 'CUIZ', 'ŠUEZ', 'NAER', 'NAEŽ', 'NEEŽ', 'NEIV', 'NEIŠ', 'NIEŽ', 'NIIŠ', 'NOAŠ', 'NOOS', 'NOOŠ', 'NUAV', 'NUIŽ', 'NUUS', 'PAER', 'PEAŠ', 'PEOV', 'PIAR', 'POIT', 'PUEN', 'PUES', 'PUIŠ', 'PUUV', 'KAAN', 'KEES', 'KIER', 'KIUS', 'KOAN', 'KOIŽ', 'KOOT', 'KUUR', 'KUUV', 'RAEN', 'RAIV', 'REOŽ', 'REUR', 'RION', 'ROOŠ', 'RUAŽ', 'RUUŠ', 'SAES', 'SAEŽ', 'SAIT', 'SAOŽ', 'SAUP', 'SAUŽ', 'SEUP', 'SEUS', 'SIIV', 'SIOR', 'SOET', 'SUAN', 'SUAŠ', 'SUOT', 'TAIS', 'TAUŠ', 'TEIP', 'TEIR', 'TIAN', 'TIEŽ', 'TIUS', 'TIUŠ', 'TOAR', 'TOEŽ', 'TUAŽ', 'TUER', 'TUEV', 'TUEŽ', 'TUIV', 'TUUŠ', 'VAAŽ', 'VAIS', 'VAUŠ', 'VEUR', 'VIOV', 'VIOŠ', 'VIUŽ', 'VOAŠ', 'VOEŠ', 'VUUN', 'VUUT', 'VUUŠ', 'ŽAAŽ', 'ŽAOS', 'ŽEOV', 'ŽIAS', 'ŽIAV', 'ŽIEŽ', 'ŽIIŽ', 'ŽOAN', 'ŽOAT', 'ŽOEP', 'ŽOIS', 'ŽUAP', 'ŽUIS', 'ŽUUT', 'ŠEAP', 'ŠEOŠ', 'ŠIAN', 'ŠIEV', 'ŠIOŠ', 'ŠOIV', 'BEIŠ', 'BEOS', 'BEOŽ', 'BIAP', 'BIUŽ', 'BOAP', 'BUAŠ', 'BUEŽ', 'DAAN', 'DAAT', 'DAEN', 'DAIŽ', 'DAOŠ', 'DEIS', 'DIUP', 'DUIS', 'DUOR', 'DUOŽ', 'DUUN', 'FIIT', 'FIOS', 'FIUT', 'FOAN', 'FOIT', 'FUUN', 'GAON', 'GEIŽ', 'GEUN', 'GIAP', 'GIET', 'GOAN', 'GOEP', 'GOUŠ', 'GUET', 'GUOT', 'GUUS', 'HAUP', 'HEAS', 'HEAŽ', 'HEUV', 'HIIŠ', 'HIOV', 'HIUŠ', 'HOEŽ', 'HUER', 'HUET', 'JAET', 'JAEV', 'JAOP', 'JEOV', 'JIAR', 'JIIS', 'JIUŠ', 'JOEV', 'JOEŽ', 'JOIP', 'JOUT', 'JOUV', 'LAIT', 'LAIŠ', 'LAOV', 'LAUP', 'LEAŽ', 'LEIT', 'LIOS', 'LIUP', 'LOIŠ', 'LUET', 'MAER', 'MEEV', 'MEOŠ', 'MIIN', 'MOIT', 'MOUP', 'MUES', 'MUUN', 'BIAZ', 'BIOZ', 'BOUZ', 'DAEZ', 'DIAZ', 'DOUZ', 'FEUZ', 'GAOZ', 'GEAZ', 'GEOZ', 'GIAZ', 'HAAZ', 'LIIZ', 'LUAZ', 'MOIZ'];
stimulus_2_bucket = ['LAH', 'KAO', 'CUŽ', 'GAC', 'CAK', 'ŠOK', 'FUH', 'ŽAK', 'RAE', 'NUM', 'VUŠ', 'JIV', 'GUC', 'ŠOŠ', 'BEZ', 'BUJ', 'TIC', 'DOJ', 'KUR', 'RAZ', 'FIŽ', 'KUF', 'SIZ', 'DEC', 'SIL', 'FIF', 'KEL', 'COŠ', 'FUV', 'MEC', 'JIR', 'LUB', 'KEB', 'VEF', 'RIŠ', 'JAL', 'JOM', 'MUŽ', 'CIK', 'JIJ', 'CUG', 'DIH', 'ŠUD', 'JOC', 'CUM', 'GIR', 'KOŠ', 'CUŠ', 'COC', 'GEC', 'ŠAK', 'KAS', 'NOŠ', 'JEK', 'ŠEF', 'TUR', 'FOŽ', 'TAH', 'MIŠ', 'ŽEZ', 'PIH', 'KIŽ', 'JIC', 'DEZ', 'LAL', 'ŽOM', 'LAK', 'KEJ', 'KUB', 'ŠUK', 'PEH', 'NEM', 'VAF', 'JAV', 'KUŠ', 'SAF', 'BAAF', 'BAIC', 'BAUG', 'BEAH', 'BEIC', 'BEOC', 'BIAB', 'BIIF', 'BOAH', 'BOAL', 'BOOJ', 'BOUL', 'BUAF', 'BUEJ', 'BUEL', 'BUIC', 'BUUH', 'BUUM', 'CAAM', 'CAEJ', 'CAIB', 'CAOD', 'CAUD', 'CEEH', 'CEIF', 'CEIJ', 'CEUD', 'CIAM', 'CIEK', 'CIIF', 'COEL', 'COEM', 'COOC', 'COOG', 'CUAK', 'CUIK', 'DAAB', 'DAAG', 'DAAK', 'DAEM', 'DAOF', 'DAUG', 'DAUK', 'DEEK', 'DEIC', 'DEUJ', 'DIAK', 'DIEJ', 'DIIB', 'DIID', 'DIOC', 'DIOM', 'DIUG', 'DOIB', 'DOUH', 'DUEC', 'DUOF', 'FAAH', 'FAIB', 'FEUH', 'FEUJ', 'FIEB', 'FIEM', 'FIIF', 'FIIG', 'FOEG', 'FOOM', 'FUEG', 'FUIH', 'GAOM', 'GEAD', 'GEOB', 'GEUC', 'GIUB', 'GIUH', 'GIUJ', 'GOIB', 'GOUJ', 'GUOK', 'HAOK', 'HAUH', 'HIAF', 'HIID', 'HIOD', 'HOIH', 'HOIL', 'HUEK', 'HUUG', 'JAAH', 'JAEL', 'JAIF', 'JAOG', 'JEAG', 'JEOC', 'JIAC', 'JIIK', 'JUAB', 'JUAH', 'JUOL', 'JUOM', 'KAAF', 'KAUD', 'KEAL', 'KEOH', 'KEUB', 'KIOG', 'KUAK', 'KUEL', 'LAOD', 'LEEB', 'LEOH', 'LEUL', 'LIEK', 'LIEL', 'LIEM', 'LOAH', 'LOEJ', 'LOUJ', 'LUUB', 'MAEM', 'MAOH', 'MEOJ', 'MIEB', 'MIUJ', 'MOAB', 'MOOC', 'MUAC', 'MUEJ', 'NAEC', 'NAIB', 'NAUJ', 'NEIC', 'NEUB', 'NEUH', 'NIOC', 'NIOD', 'NIOM', 'NIUB', 'NOAJ', 'NOIM', 'NUAF', 'NUEC', 'NUIC', 'NUOB', 'NUUB', 'NUUC', 'PAAB', 'PAAD', 'PAOG', 'PIEJ', 'PIIL', 'PIUM', 'POIJ', 'POIM', 'PUOK', 'KAEF', 'KEEF', 'KEIC', 'KEIL', 'KEUM', 'KIEM', 'KOOM', 'KUEB', 'RAEB', 'RAEH', 'REAF', 'REOJ', 'ROOG', 'RUEL', 'RUOG', 'RUOM', 'SAAL', 'SAUB', 'SAUD', 'SAUF', 'SEOD', 'SEOJ', 'SOIM', 'SOOJ', 'SUIM', 'SUUM', 'TAEF', 'TAIB', 'TAOC', 'TEAJ', 'TEIB', 'TEIF', 'TEIK', 'TEOC', 'TIIB', 'TIIC', 'TIIJ', 'TOAG', 'TOUL', 'TOUM', 'TUIJ', 'VAID', 'VAIF', 'VAIJ', 'VAUH', 'VEOF', 'VIAK', 'VIEJ', 'VIIH', 'VIIL', 'VOEL', 'VOUF', 'VOUH', 'VUIH', 'VUIM', 'ŽAOC', 'ŽAUD', 'ŽEAC', 'ŽEEF', 'ŽEOC', 'ŽIID', 'ŽOAG', 'ŽOOB', 'ŽUEC', 'ŽUEH', 'ŽUUD', 'CAOM', 'CEUM', 'CIAJ', 'CIOL', 'COAH', 'COEB', 'COIC', 'COUH', 'CUOB', 'ŠAEB', 'ŠAED', 'ŠAOG', 'ŠEAG', 'ŠEOD', 'ŠEUB', 'ŠEUD', 'ŠIAK', 'ŠIOD', 'ŠOAD', 'ŠOAM', 'ŠOEB', 'ŠOIB', 'ŠOID', 'ŠOIK', 'ŠOUD', 'ŠUIB', 'ŠUIC', 'ŠUIL', 'ŠUOH', 'ŠUUL', 'ZAAH', 'ZAED', 'ZAOM', 'ZEAK', 'ZEUD', 'ZEUH', 'ZIOD', 'ZIOK', 'ZOAJ', 'ZOIL', 'ZOOB', 'ZUEH', 'ZAIT', 'ZAIV', 'ZEON', 'ZEOT', 'ZIIC', 'ZIOV', 'ZOAK', 'ZOOV', 'ZOUP', 'ZUET', 'ZUOK', 'ZUOT', 'NEEZ', 'KIIZ', 'RIOZ', 'ROIZ', 'SIEZ', 'SOIZ', 'SOOZ', 'TIIZ', 'VEIZ', 'ŠAIZ', 'ŠAUZ', 'ŠUAZ', 'NAIC', 'NEOP', 'NEOV', 'NEUK', 'NEUV', 'NIEC', 'NIIV', 'NIOV', 'NOEP', 'NOIŽ', 'NUOV', 'PAIŽ', 'PAOS', 'PAUP', 'PEEŠ', 'PEIŽ', 'PIIR', 'PIIŽ', 'POUŠ', 'KAUP', 'KEET', 'KEIK', 'KEIR', 'KEIT', 'KEIŠ', 'KEUS', 'KIEK', 'KIEŽ', 'KIIK', 'KOIS', 'KUER', 'KUOR', 'KUOŠ', 'RAAN', 'RAER', 'RAIT', 'RAUŠ', 'REAŠ', 'REIV', 'REIC', 'RIEC', 'RIIN', 'RIIŠ', 'ROAC', 'ROUV', 'RUAŠ', 'RUIŽ', 'RUUP', 'SAOK', 'SAOV', 'SAUV', 'SEIŽ', 'SIAP', 'SIAV', 'SIAŠ', 'SIIN', 'SIUR', 'SOER', 'SOIR', 'SOUV', 'SUIN', 'SUOV', 'SUUC', 'TAEŠ', 'TEAP', 'TEIT', 'TEOP', 'TIIV', 'TIUK', 'TIUV', 'TOAŽ', 'TOIŽ', 'TOOŽ', 'TOUP', 'TUAK', 'VAAV', 'VAER', 'VAOŽ', 'VAUŽ', 'VEAŠ', 'VEIC', 'VEUT', 'VIEV', 'VUET', 'VUIV', 'VUUC', 'ŽAAP', 'ŽAEP', 'ŽAIŽ', 'ŽAOP', 'ŽAUN', 'ŽEOK', 'ŽEOŠ', 'ŽEUP', 'ŽIOK', 'ŽIUV', 'ŽOET', 'ŽOOT', 'ŽOUŠ', 'ŽUAŠ', 'ŽUEŽ', 'ŽUUP', 'CAEV', 'CAEŽ', 'CAIR', 'CAOR', 'CEAŽ', 'CEER', 'CEET', 'CEIŽ', 'CEOV', 'CEUV', 'CEUŠ', 'CIAP', 'CIAT', 'CIET', 'CIEC', 'CIUC', 'COUP', 'COUS', 'COUŠ', 'CUEN', 'CUOS', 'ŠAAŽ', 'ŠAEN', 'ŠAOT', 'ŠAUN', 'ŠEIV', 'ŠIOT', 'ŠIUN', 'ŠIUP', 'ŠOIT', 'ŠOOP', 'ŠOUT', 'ŠUAR', 'ŠUAS', 'ŠUAŽ', 'ŠUOŽ', 'BAIP', 'BAIŠ', 'BAUR', 'BAUT', 'BEEC', 'BEIŽ', 'BEON', 'BEOK', 'BEOV', 'BEUP', 'BEUK', 'BEUŠ', 'BIIP', 'BOAC', 'BOEP', 'BOUV', 'BOUŠ', 'BUAT', 'BUUV', 'CAEN', 'CAET', 'CAON', 'COAP', 'COEP', 'COIŽ', 'CUAN', 'CUAP', 'CUIŽ', 'CUIŠ', 'CUOR', 'CUOV', 'CUUŠ', 'DAET', 'DEIV', 'DEOR', 'DEOS', 'DOEC', 'DUIV', 'DUUS', 'DUUV', 'FAUŽ', 'FEAV', 'FEEN', 'FEOŽ', 'FEUP', 'FIOV', 'FIUN', 'FOET', 'FOIS', 'FOOC', 'FOOŠ', 'FOUŽ', 'FUAŽ', 'FUIS', 'FUOR', 'GAAŽ', 'GEEV', 'GEUŽ', 'GIAC', 'GIIV', 'GOAR', 'GOIV', 'GUEK', 'GUEC', 'HAAC', 'HAEK', 'HAOŠ', 'HEEŠ', 'HEOŠ', 'HIUN', 'HOIK', 'HOIS', 'HOUN', 'JAAV', 'JAES', 'JAEŽ', 'JAIR', 'JAOT', 'JEAC', 'JEOS', 'JIES', 'JIOŠ', 'JOEK', 'JUIS', 'JUOT', 'KAAT', 'KAEN', 'KAOP', 'KEAV', 'KEEC', 'KEUN', 'KEUP', 'KIIP', 'KOIK', 'KOUV', 'KUUC', 'LAEV', 'LAON', 'LAUT', 'LEOR', 'LIIS', 'LIIT', 'LIIŠ', 'LOAR', 'LOOR', 'LOOV', 'LUAP', 'LUIŠ', 'LUOP', 'MAOK', 'MAUS', 'MEIS', 'MIAŠ', 'MIEŽ', 'MIIŠ', 'MOIS', 'MUAR', 'MUUŽ', 'BAAZ', 'COUZ', 'DAUZ', 'DUAZ', 'FEEZ', 'FIEZ', 'GAIZ', 'HIAZ', 'HIOZ', 'HIUZ', 'JOUZ', 'MEAZ', 'LOŠ', 'ŠUG', 'GOV', 'DUŠ', 'KAV', 'CEŠ', 'BOK', 'FAL', 'DED', 'RUZ', 'ŽUV', 'BOV', 'ŽER', 'KUC', 'FUC', 'HIF', 'NIJ', 'DAF', 'HUV', 'FUK', 'DET', 'SUG', 'GEJ', 'MUV', 'BOZ', 'KUJ', 'CAŽ', 'MES', 'TES', 'TEC', 'ŽEC', 'ŽOJ', 'FOJ', 'COZ', 'GUR', 'FOZ', 'KEC', 'LIR', 'FOD', 'TOH', 'SUV', 'BAP', 'PIM', 'PEM', 'FOC', 'HUŠ', 'FUZ', 'VUH', 'PIZ', 'RUC', 'ŽOB', 'KOL', 'BAIJ', 'BAUB', 'BEAC', 'BEEM', 'BEOD', 'BIAM', 'BIEC', 'BIIG', 'BUIG', 'BUIM', 'BUOF', 'CAAC', 'CEAH', 'CIIG', 'COEF', 'COEG', 'COUL', 'CUAH', 'CUID', 'CUIG', 'CUUD', 'DAAF', 'DAEG', 'DAUF', 'DEOC', 'DEOL', 'DIAG', 'DIEG', 'DUAG', 'DUAH', 'DUEF', 'FAOC', 'FAUF', 'FIAL', 'FIID', 'FIOH', 'FIUD', 'FIUK', 'FOEH', 'FOUF', 'FUEM', 'FUIC', 'FUOF', 'FUUL', 'GAOD', 'GAOJ', 'GAUB', 'GEEC', 'GIAB', 'GIOC', 'GIOK', 'GOEG', 'GOEK', 'HAEC', 'HAID', 'HAOC', 'HEEJ', 'HEID', 'HEIH', 'HEUD', 'HIIK', 'HIOG', 'HIUL', 'HOOH', 'HUEC', 'HUOD', 'JAEJ', 'JAEM', 'JAOK', 'JAUC', 'JEAF', 'JEIC', 'JEID', 'JEIF', 'JEUB', 'JIUJ', 'JIUM', 'JOIB', 'JOIF', 'JUEH', 'JUIJ', 'JUUB', 'KAED', 'KAEJ', 'KAEL', 'KEIG', 'KIEG', 'KOID', 'KOUF', 'KOUM', 'KUAF', 'KUOL', 'LAAC', 'LAIF', 'LEAB', 'LIOL', 'LIUB', 'LOAK', 'LOIL', 'LOUF', 'LUEK', 'LUUF', 'LUUL', 'MAOL', 'MEIC', 'MIAB', 'MIEH', 'MIIK', 'MIUH', 'MUAH', 'MUEG', 'MUUG', 'NAAB', 'NAAJ', 'NAEH', 'NAUF', 'NEEH', 'NEOC', 'NEUL', 'NIAM', 'NIUC', 'NOOF', 'NOUG', 'NOUJ', 'NUIF', 'NUUG', 'PAAC', 'PAOB', 'PAUC', 'PAUJ', 'PEEC', 'PEUH', 'PIIJ', 'POEB', 'POOB', 'POUG', 'PUEL', 'PUUG', 'PUUH', 'KAAC', 'KAAL', 'KAIM', 'KEOG', 'KIAH', 'KIED', 'KOAF', 'ROIG', 'ROUF', 'SAAH', 'SAOD', 'SAOF', 'SAOM', 'SEIG', 'SEUJ', 'SIAD', 'SIEM', 'SOAF', 'SOIG', 'SOOL', 'SOUB', 'SUOC', 'SUOG', 'SUOJ', 'SUUF', 'SUUG', 'TAOL', 'TEOF', 'TEUK', 'TIAC', 'TIAJ', 'TIEM', 'TOUK', 'TUEH', 'TUOD', 'TUOH', 'VAUL', 'VEOM', 'VEUM', 'VIIC', 'VIIM', 'VUEG', 'ŽAOK', 'ŽAUJ', 'ŽEAD', 'ŽIAB', 'ŽIEM', 'ŽIOH', 'ŽOEL', 'ŽOIL', 'ŽUAK', 'ŽUIJ', 'CAOK', 'CAUF', 'CEAF', 'CEEG', 'CEUC', 'CIAK', 'CIEB', 'COAB', 'COAM', 'COOK', 'COUJ', 'ŠAIM', 'ŠAOL', 'ŠEEM', 'ŠEIF', 'ŠEOF', 'ŠEOL', 'ŠIUH', 'ŠIUK', 'ŠOEL', 'ŠOOH', 'ŠOUB', 'ŠOUJ', 'ŠUAH', 'ŠUEK', 'ŠUOL', 'ŠUUH', 'ZAEJ', 'ZAIB', 'ZAIH', 'ZAIM', 'ZAUC', 'ZEEJ', 'ZEIJ', 'ZEOL', 'ZOAD', 'ZUIH', 'ZUIJ', 'ZUOM', 'ZAEP', 'ZAEV', 'ZAEŽ', 'ZAIN', 'ZAUK', 'ZEUŠ', 'ZIAV', 'ZIEP', 'ZIEŽ', 'ZIUŽ', 'ZIUŠ', 'ZOEŠ', 'ZOIS', 'ZUAŠ', 'NIUZ', 'NOEZ', 'PAEZ', 'POAZ', 'KAEZ', 'KEEZ', 'REOZ', 'SEEZ', 'TEUZ', 'TOIZ', 'VAEZ', 'VUIZ', 'ŽIAZ', 'CAUZ', 'CEIZ', 'CIOZ', 'ŠUIZ', 'NAAV', 'NAAŠ', 'NAOR', 'NIIŽ', 'NOUV', 'NOUŽ', 'NUEK', 'PAIV', 'PEUV', 'PIIN', 'PIIC', 'PIUV', 'POIŠ', 'POOK', 'PUAŠ', 'PUEK', 'PUOŽ', 'PUUS', 'KAAV', 'KAAŽ', 'KAON', 'KAUR', 'KEIN', 'KIES', 'KIIN', 'KIIS', 'KOIT', 'KOUN', 'KUAT', 'KUEN', 'KUEP', 'RAIR', 'RAOT', 'REAT', 'REAŽ', 'REEŽ', 'REIŠ', 'REOV', 'REUV', 'ROEN', 'ROEC', 'RUET', 'RUUK', 'SAAP', 'SAAS', 'SAER', 'SAOR', 'SIOV', 'SIUP', 'SIUT', 'SOEV', 'SOIV', 'SOOV', 'SUAT', 'TAAR', 'TAEN', 'TAIŽ', 'TAON', 'TEAV', 'TEIV', 'TIOV', 'TIUN', 'TIUR', 'TOAT', 'TOIV', 'TUET', 'VAIV', 'VAUT', 'VAUV', 'VEAT', 'VEEŠ', 'VIAN', 'VIAŽ', 'VIIŠ', 'VIUT', 'VIUŠ', 'VOIT', 'VOUC', 'VUEŽ', 'VUOT', 'ŽAAT', 'ŽAEŠ', 'ŽAIK', 'ŽEAV', 'ŽEEV', 'ŽEIŠ', 'ŽEOR', 'ŽEOS', 'ŽEUS', 'ŽIAŽ', 'ŽOOŽ', 'ŽUAS', 'ŽUET', 'CAAN', 'CAIN', 'CAUŠ', 'CIEŽ', 'COAŠ', 'COEŽ', 'COIR', 'COOŽ', 'CUAT', 'CUAC', 'ŠAIŽ', 'ŠAIŠ', 'ŠAOŽ', 'ŠAUV', 'ŠEAŽ', 'ŠEEP', 'ŠOER', 'ŠUAP', 'ŠUAŠ', 'BAAK', 'BAES', 'BAEV', 'BAEŽ', 'BAON', 'BEAK', 'BEAS', 'BIEK', 'BOAV', 'BUER', 'BUET', 'BUOS', 'BUUS', 'CEAS', 'CEOT', 'CEUŽ', 'COAŽ', 'COOŠ', 'CUIN', 'DAAŽ', 'DAIC', 'DEAŽ', 'DEEŽ', 'DEIŠ', 'DEUV', 'DEUŠ', 'DIOP', 'DIOR', 'DIOV', 'DIUS', 'DOOK', 'DOUN', 'DUER', 'DUEŠ', 'DUON', 'DUUŠ', 'FAAŠ', 'FEIN', 'FEIS', 'FEOP', 'FOAK', 'FOAR', 'FUAS', 'FUAV', 'FUOŠ', 'FUUP', 'FUUK', 'GAOT', 'GEAŽ', 'GEOV', 'GIIS', 'GIIŠ', 'GIOS', 'GIUV', 'GIUŽ', 'GOEŽ', 'GOIN', 'GOUN', 'HAAŽ', 'HAOP', 'HAOV', 'HAUN', 'HAUK', 'HEIT', 'HEUŠ', 'HOAP', 'HOET', 'HOEC', 'HOIT', 'HOIŠ', 'JAAC', 'JEEŠ', 'JEIŠ', 'JEUŠ', 'JIEP', 'JIIP', 'JOAT', 'JOOS', 'KIAŠ', 'KIEC', 'LAET', 'LAIV', 'LAUR', 'LAUŠ', 'LIOŽ', 'LIUŽ', 'LOAP', 'LOIV', 'LUAN', 'LUAV', 'LUAŠ', 'LUEN', 'LUOR', 'LUUS', 'MAAP', 'MAOT', 'MAUK', 'MEAS', 'MEEN', 'MIOT', 'MIUV', 'MIUŠ', 'MOAŽ', 'MOOP', 'MUAV', 'MUEK', 'MUEŠ', 'MUUV', 'BIIZ', 'DEEZ', 'DEIZ', 'DOAZ', 'DOEZ', 'DOIZ', 'FUEZ', 'HEUZ', 'HIIZ', 'JEIZ', 'JUEZ', 'JUIZ', 'KAAZ', 'KUAZ', 'KUOZ', 'MEOZ', 'ŠEŠ', 'LAV', 'JAF', 'TOZ', 'DIL', 'TOB', 'BIN', 'CAB', 'CAV', 'RUK', 'ŠEV', 'MUK', 'SEP', 'CUL', 'FAH', 'HUE', 'LUŠ', 'BEP', 'BIŠ', 'NEN', 'FUM', 'BUZ', 'KES', 'MIH', 'KUK', 'VIŠ', 'ŠAM', 'BIM', 'ŽUL', 'HUK', 'VEŠ', 'GEH', 'ŽEŽ', 'TOJ', 'VAJ', 'VUR', 'RAR', 'MUP', 'KOC', 'KED', 'LIL', 'LUN', 'KEŠ', 'PUŽ', 'TIH', 'PUH', 'HUF', 'NEF', 'FEF', 'LOJ', 'VIŽ', 'FUJ', 'SUI', 'BUP', 'RUD', 'CAM', 'TAŠ', 'GUF', 'HEV', 'SIK', 'ŠUT', 'GIH', 'FUS', 'DIK', 'MUŠ', 'VEZ', 'ŽIC', 'FOK', 'ŽIŠ', 'LEJ', 'VAK', 'KOR', 'VAN', 'LUZ', 'BAEL', 'BAOD', 'BAOM', 'BEOJ', 'BEUD', 'BIEJ', 'BIOK', 'BOAB', 'BOAF', 'BOEJ', 'BOOH', 'BOUJ', 'BUUG', 'COAJ', 'COIJ', 'COUD', 'CUAG', 'CUEJ', 'DAIH', 'DEIH', 'DEOK', 'DEUB', 'DIOJ', 'DOEF', 'DUEG', 'DUEM', 'DUIC', 'DUID', 'DUOB', 'DUOD', 'DUOL', 'DUUL', 'DUUM', 'FAAF', 'FAEG', 'FAEJ', 'FAIH', 'FAIM', 'FAOB', 'FEEK', 'FEOL', 'FEUM', 'FIAH', 'FIEC', 'FIED', 'FIOD', 'FOOH', 'FUAH', 'FUAJ', 'FUED', 'FUUG', 'GAAM', 'GAEH', 'GAIH', 'GEAL', 'GEEH', 'GEUJ', 'GIUK', 'GOOH', 'GOUG', 'GUOJ', 'HAEJ', 'HAOJ', 'HAOM', 'HAUB', 'HEOC', 'HEOJ', 'HIUD', 'HOEH', 'HOIG', 'HOIM', 'HUAF', 'HUEM', 'HUUB', 'HUUC', 'JAEF', 'JAIB', 'JAOF', 'JAUF', 'JAUJ', 'JIEH', 'JIIM', 'JIUD', 'JOOB', 'JOUL', 'JUIM', 'JUOD', 'JUOG', 'JUUD', 'KAAJ', 'KEAG', 'KEUJ', 'KOAL', 'KOIG', 'KUID', 'KUUF', 'LAAH', 'LAOC', 'LEAG', 'LEUG', 'LIEJ', 'LIIH', 'LIOH', 'LIOM', 'LIUF', 'LOEC', 'LUAC', 'LUAH', 'LUAL', 'LUOG', 'MAEB', 'MEAF', 'MEIL', 'MIEM', 'MOAF', 'MOAH', 'MOEF', 'MOOM', 'MOUG', 'MUEM', 'MUOJ', 'NAAK', 'NEEJ', 'NEOB', 'NEOM', 'NIEK', 'NOAB', 'NOEJ', 'NOOH', 'NUAL', 'NUEG', 'NUIL', 'NUOG', 'NUOH', 'PAUM', 'PEAJ', 'PEEH', 'PEOD', 'PEOG', 'PEOM', 'PEUC', 'PEUD', 'PIAH', 'PIOM', 'POID', 'PUAK', 'KEAD', 'KEIJ', 'KEUF', 'KIID', 'KIUH', 'KOOG', 'RAAL', 'RAEC', 'RAEJ', 'RAOG', 'RAOL', 'RAUD', 'REAB', 'REIG', 'REOG', 'REOL', 'REUF', 'RIAM', 'RIEJ', 'RIIB', 'RIID', 'RIOL', 'ROEB', 'ROIB', 'ROIJ', 'RUAG', 'RUAL', 'SAAJ', 'SAEB', 'SAEJ', 'SAOJ', 'SEUG', 'SEUL', 'SIAM', 'SIIG', 'SIOD', 'SOAM', 'SOEL', 'SOUF', 'SUAF', 'SUIC', 'SUIH', 'SUIJ', 'TAAJ', 'TEIJ', 'TEIM', 'TEOK', 'TEUM', 'TIAF', 'TIAH', 'TIAL', 'TIEH', 'TIOL', 'TOUH', 'TUAH', 'TUEC', 'TUEJ', 'TUUB', 'TUUD', 'VAAH', 'VAOG', 'VEAF', 'VEID', 'VIEM', 'VOAF', 'VOAK', 'VUAL', 'VUIF', 'VUUJ', 'ŽAOF', 'ŽAOG', 'ŽEAG', 'ŽEEG', 'ŽEOM', 'ŽIAK', 'ŽIEH', 'ŽIOD', 'ŽUEM', 'ŽUUB', 'ŽUUF', 'CEEL', 'COIB', 'COOH', 'CUAJ', 'ŠAEF', 'ŠAOK', 'ŠAUH', 'ŠEUF', 'ŠEUG', 'ŠIOL', 'ŠOOL', 'ŠOUC', 'ŠUAC', 'ŠUEG', 'ŠUID', 'ZEAG', 'ZEIH', 'ZIEH', 'ZIEJ', 'ZIIB', 'ZIOF', 'ZOUC', 'ZUIG', 'ZUUD', 'ZAAP', 'ZAAŽ', 'ZAOC', 'ZEAT', 'ZEEŽ', 'ZEOR', 'ZEOV', 'ZEOŽ', 'ZIOR', 'ZOAV', 'ZUAR', 'ZUES', 'ZUIC', 'ZUOR', 'ZUUV', 'NIAZ', 'PEIZ', 'POIZ', 'PUAZ', 'KEIZ', 'KOAZ', 'KOIZ', 'RIIZ', 'SAAZ', 'SUUZ', 'TUIZ', 'VUEZ', 'ŽEAZ', 'ŽUEZ', 'ŽUUZ', 'NAIR', 'NAIT', 'NEUN', 'NEUP', 'NIEN', 'NIEP', 'NIIR', 'NIUN', 'NUAT', 'NUET', 'NUEV', 'PAAŠ', 'PAON', 'PEOP', 'PIIT', 'PIUR', 'PIUŽ', 'POAŽ', 'POAC', 'POUN', 'PUAP', 'PUAR', 'PUAS', 'PUOP', 'PUUT', 'KAAS', 'KEAT', 'KEAŠ', 'KIAN', 'KIAR', 'KOEN', 'KOEŠ', 'KOOP', 'KOOŠ', 'RAAŽ', 'RAAŠ', 'RAEŠ', 'RAOP', 'RAUR', 'REIŽ', 'REUK', 'RIAS', 'ROIP', 'ROON', 'ROUK', 'RUAC', 'RUUR', 'SAOP', 'SAUT', 'SEEŠ', 'SEIV', 'SEUV', 'SIET', 'SIEŽ', 'SIIP', 'SOAŽ', 'SOIS', 'SUAR', 'SUEP', 'SUEŠ', 'SUIŠ', 'TAAS', 'TAOP', 'TEEP', 'TEIŠ', 'TEON', 'TEUR', 'TIAS', 'TIEP', 'TOAS', 'TOEP', 'VAAC', 'VAOR', 'VEAR', 'VEIP', 'VEIT', 'VEIŽ', 'VEUV', 'VIEP', 'VUUP', 'ŽAEK', 'ŽAET', 'ŽAEŽ', 'ŽAOV', 'ŽAOŠ', 'ŽEEK', 'ŽEIK', 'ŽEUV', 'ŽIAR', 'ŽION', 'ŽIOT', 'ŽIUS', 'ŽOIP', 'ŽOUP', 'ŽUES', 'ŽUOP', 'ŽUOR', 'ŽUOS', 'ŽUOT', 'CEAT', 'CIOR', 'COEV', 'COOS', 'ŠEAV', 'ŠEEŽ', 'ŠEUR', 'ŠEUS', 'ŠEUV', 'ŠEUŠ', 'ŠIUT', 'ŠOON', 'ŠUEV', 'ŠUIV', 'BAOŽ', 'BAOŠ', 'BAUŽ', 'BIAŠ', 'BIOP', 'BIUN', 'BOIK', 'BUEŠ', 'BUUC', 'CEUN', 'CUUN', 'DAAŠ', 'DAOR', 'DEEN', 'DEOP', 'DEUS', 'DIIS', 'DIUT', 'DOAN', 'DOIP', 'DOIŽ', 'FAIC', 'FAOŽ', 'FEIR', 'FIAS', 'FIIŠ', 'FIUS', 'FOOŽ', 'FOUC', 'FUAK', 'FUEN', 'FUOŽ', 'FUUV', 'GEIŠ', 'GEON', 'GIEV', 'GIIR', 'GIUT', 'GOAV', 'GOAŽ', 'GOIK', 'GUIR', 'GUOŠ', 'GUUŽ', 'HAOS', 'HEAŠ', 'HEIŽ', 'HEIC', 'HIIP', 'HIOR', 'HIOŠ', 'HOEK', 'HOIN', 'HOUS', 'HUAŠ', 'HUON', 'JAEŠ', 'JAIN', 'JAIV', 'JAUŽ', 'JAUŠ', 'JEEN', 'JEIR', 'JIOK', 'JIUP', 'JOOŠ', 'JOUP', 'JUAT', 'JUUN', 'KEOŽ', 'KOUŠ', 'KUEŠ', 'LAEN', 'LEIV', 'LEOP', 'LIIR', 'LOIC', 'LUEŠ', 'LUOV', 'LUOŠ', 'MAAŠ', 'MAIŠ', 'MAOŠ', 'MEAŽ', 'MEUS', 'MIOR', 'MOUV', 'MUIK', 'BAEZ', 'BEIZ', 'BIUZ', 'BOOZ', 'CEEZ', 'DUIZ', 'GUOZ', 'HAEZ', 'HEIZ', 'KIEZ', 'MAEZ', 'MIEZ', 'MUAZ', 'SUR', 'ŽEH', 'ŠOP', 'CEŽ', 'VAU', 'SOR', 'ŠIH', 'CID', 'LIC', 'ROF', 'FIM', 'KUN', 'DUV', 'CIO', 'NIN', 'ŽUŽ', 'HUR', 'FAP', 'LIH', 'DIŠ', 'DOD', 'MAJ', 'VUK', 'SAH', 'GIZ', 'VOH', 'DUM', 'HOJ', 'JUP', 'HUŽ', 'MEZ', 'VUV', 'ŽUB', 'KEŽ', 'BIV', 'ŽOŠ', 'MOZ', 'NIG', 'VIC', 'POG', 'CUB', 'ŠUJ', 'CAD', 'ŠUR', 'JAJ', 'VEP', 'NAZ', 'COS', 'KEG', 'MUB', 'PIR', 'LUP', 'HUZ', 'VEV', 'SEF', 'FUŠ', 'BAEB', 'BAEH', 'BAUL', 'BEAL', 'BOAM', 'BOID', 'BUOK', 'BUOL', 'CEAJ', 'CEED', 'CUIM', 'DEIF', 'DEOD', 'DIIJ', 'DIUF', 'DIUL', 'DOEJ', 'DOOC', 'DOUB', 'DUAJ', 'DUIH', 'DUUF', 'FAEL', 'FAEM', 'FAID', 'FEIF', 'FIAD', 'FIOG', 'FIOJ', 'FOAB', 'FOEK', 'FOUD', 'FOUH', 'FOUJ', 'FUUJ', 'GAUJ', 'GEOD', 'GEOL', 'GEUD', 'GIIL', 'GIOF', 'GOAB', 'GOAG', 'GOEM', 'GUAL', 'GUUH', 'HAAD', 'HAAJ', 'HAEL', 'HAUC', 'HAUF', 'HEAG', 'HEEG', 'HEIG', 'HEUB', 'HIAG', 'HIIF', 'HIIH', 'HOEL', 'HOOB', 'HOOL', 'JAIM', 'JAUG', 'JEEF', 'JEOB', 'JIIG', 'JIOB', 'JIUH', 'JIUL', 'JOAD', 'JOIJ', 'JUEM', 'JUOB', 'KAID', 'KAOL', 'KAUL', 'KEAH', 'KEUG', 'KOOH', 'LAED', 'LAOJ', 'LEIK', 'LEOF', 'LIAB', 'LIOG', 'LOIH', 'LOUM', 'LUED', 'LUOB', 'LUOF', 'MAEG', 'MEEB', 'MEEJ', 'MEIG', 'MEIH', 'MEUF', 'MIAM', 'MIOJ', 'MOOB', 'MOUB', 'MUAB', 'MUEH', 'MUEL', 'MUOD', 'MUOF', 'MUOH', 'NAAL', 'NAEF', 'NAOJ', 'NIAF', 'NIAL', 'NIEM', 'NIIF', 'NIUD', 'NOAD', 'NOIB', 'NOOJ', 'NUIH', 'PAUG', 'PEIC', 'PEOK', 'PIAB', 'PIAG', 'PIIK', 'POAM', 'PUAB', 'PUEB', 'KEIM', 'RAAJ', 'RAIJ', 'RAUJ', 'REUG', 'ROUB', 'RUAJ', 'RUEB', 'RUEH', 'SEOF', 'SEUB', 'SIAH', 'SIIB', 'SIOK', 'SIUB', 'SOAB', 'SOID', 'SOOD', 'SUAL', 'SUAM', 'SUID', 'SUIG', 'SUUD', 'TEOD', 'TIIL', 'TIIM', 'TIOD', 'TOEK', 'TOOC', 'TOUB', 'TOUG', 'TUUM', 'VAOB', 'VEAH', 'VEIF', 'VIEB', 'VOEF', 'VOOD', 'VOUB', 'VOUJ', 'VOUK', 'VUAH', 'VUIJ', 'VUOM', 'ŽAEF', 'ŽIAD', 'ŽIAH', 'ŽIUH', 'ŽOAK', 'ŽOIM', 'ŽUOJ', 'ŠAEJ', 'ŠAIH', 'ŠEAL', 'ŠEIG', 'ŠEIL', 'ŠEOH', 'ŠOAB', 'ŠOOD', 'ŠOOF', 'ŠUAD', 'ŠUAF', 'ŠUEH', 'ZAIC', 'ZAIG', 'ZAOJ', 'ZAOL', 'ZEAH', 'ZEAM', 'ZEUJ', 'ZOUM', 'ZUAM', 'ZUOJ', 'ZAOT', 'ZEEV', 'ZEOS', 'ZEOŠ', 'ZEUT', 'ZIOT', 'ZIUT', 'ZOEV', 'ZUIS', 'ZUOŽ', 'ZUOŠ', 'ZEAZ', 'ZOOZ', 'ZUAZ', 'NIEZ', 'NUEZ', 'NUUZ', 'PAUZ', 'PEAZ', 'RAIZ', 'ŽAOZ', 'ŽEUZ', 'ŽIIZ', 'ŠEEZ', 'ŠIEZ', 'ŠUUZ', 'NAAS', 'NAIŠ', 'NAOT', 'NAUT', 'NAUŠ', 'NEAŠ', 'NIAP', 'NIAŠ', 'NIUP', 'NIUS', 'NIUŽ', 'NOIN', 'PAEŽ', 'PAUT', 'PEIT', 'PEOŽ', 'PEUS', 'PIIV', 'PIOŽ', 'POUŽ', 'KAIV', 'KEAR', 'KEUT', 'KIUN', 'KIUŽ', 'KOAS', 'KOOR', 'KUIV', 'RAIŽ', 'REER', 'REOŠ', 'REUŽ', 'RIES', 'RIIT', 'RIOŽ', 'RIUŠ', 'ROIS', 'ROOR', 'RUEŽ', 'RUEŠ', 'SAAŽ', 'SAAŠ', 'SEEŽ', 'SEOŽ', 'SEOŠ', 'SEUN', 'SIIR', 'SIUN', 'SOAV', 'SOEK', 'SOOŽ', 'SOUŠ', 'SUIP', 'TAAV', 'TAES', 'TAIŠ', 'TAOV', 'TAOŽ', 'TEIŽ', 'TEOV', 'TEOŠ', 'TEUŠ', 'TOAŠ', 'TOIP', 'TOOP', 'TOOK', 'TOOV', 'TOOŠ', 'TUOT', 'TUUR', 'VAIŽ', 'VAIŠ', 'VAOT', 'VIET', 'VIIV', 'VOAT', 'VOIR', 'VOOŽ', 'VOUS', 'VOUŠ', 'VUAS', 'ŽAAV', 'ŽAIP', 'ŽAUP', 'ŽAUS', 'ŽAUV', 'ŽEAŠ', 'ŽEEŽ', 'ŽEIŽ', 'ŽEOT', 'ŽIUN', 'ŽIUŠ', 'ŽOOP', 'ŽUAV', 'ŽUOŽ', 'CAAT', 'CIOV', 'COAT', 'COOT', 'ŠAAV', 'ŠEES', 'ŠEOS', 'ŠEUŽ', 'ŠIAR', 'ŠOAN', 'ŠOAP', 'ŠOET', 'ŠUER', 'ŠUUR', 'BAAP', 'BAOR', 'BEOR', 'BIIR', 'BIUS', 'BOEN', 'BOEŽ', 'BUAN', 'BUEP', 'DAES', 'DAIR', 'DAON', 'DAOT', 'DAOŽ', 'DEIN', 'DEOŠ', 'DEUT', 'DIUŠ', 'DOIS', 'DUAP', 'FAEN', 'FAIS', 'FAUT', 'FEAŽ', 'FEIŠ', 'FIAP', 'FIES', 'FIIV', 'FIUŠ', 'FOEŽ', 'FOIP', 'FOIV', 'FOON', 'FOOV', 'FUIR', 'FUOT', 'GAEŠ', 'GAIS', 'GAIV', 'GAOP', 'GEIP', 'GIIT', 'GIOT', 'GIUN', 'GOEN', 'GUAT', 'GUOŽ', 'GUUN', 'HAEŠ', 'HEEK', 'HIAP', 'HIOP', 'HOAŽ', 'HOOŠ', 'HOUŠ', 'HUOP', 'HUOR', 'JAAS', 'JAIŠ', 'JAOŽ', 'JEAŠ', 'JIEŽ', 'JIEŠ', 'JIOŽ', 'JOEN', 'JUAS', 'JUEŠ', 'JUIN', 'JUIR', 'JUOP', 'JUUŽ', 'KOAT', 'LEOS', 'LIAŽ', 'LIIV', 'LOIT', 'LOUN', 'LUAR', 'LUAŽ', 'MAOV', 'MEIŽ', 'MEOS', 'MEOV', 'MEUR', 'MIAŽ', 'MIIP', 'MOAP', 'MOEN', 'MOEP', 'MOEŠ', 'MOIR', 'MUUŠ', 'FAEZ', 'FIOZ', 'FOAZ', 'FOIZ', 'FUUZ', 'GAEZ', 'LIOZ', 'LUEZ', 'MAIZ', 'MIIZ', 'MUEZ'];
stimulus_3_bucket = ['BOU', 'CUZ', 'ŽIZ', 'ŠED', 'PEK', 'ŠIŠ', 'SUŠ', 'RUH', 'BAC', 'PIF', 'KIC', 'NAL', 'NAU', 'VIB', 'CIG', 'LOD', 'CUC', 'CEI', 'KEM', 'GOŽ', 'KAB', 'CEC', 'JUL', 'TUJ', 'BUH', 'COT', 'NID', 'GON', 'GIŽ', 'SEB', 'COG', 'HEZ', 'KAZ', 'DEJ', 'REZ', 'LUK', 'KOŽ', 'GOK', 'KEK', 'ŠUB', 'CAZ', 'TUH', 'ŠUN', 'PUŠ', 'LOZ', 'COM', 'FAC', 'NOC', 'ROM', 'CIB', 'KEF', 'ŠIŽ', 'REL', 'DUZ', 'KUM', 'SOZ', 'SEV', 'ŠOT', 'CEK', 'LEC', 'HIH', 'RUJ', 'ŽIM', 'COJ', 'VEH', 'ŽOK', 'MIP', 'ŽAH', 'KAN', 'VIF', 'DAK', 'CEM', 'HIŽ', 'BAEG', 'BAOL', 'BAUJ', 'BEEH', 'BEOH', 'BIAF', 'BIOJ', 'BIOM', 'BOAG', 'BOOF', 'BUEC', 'BUEH', 'BUIH', 'BUOB', 'BUUK', 'CAAF', 'CAAH', 'CAIM', 'CAUJ', 'CEAC', 'CEEM', 'CEID', 'CEUG', 'CIIM', 'CIUH', 'COIG', 'CUEH', 'CUOC', 'CUOD', 'CUUG', 'DAIJ', 'DEOJ', 'DEUD', 'DIOF', 'DIUB', 'DIUK', 'DOAD', 'DOIL', 'DOUC', 'DUEH', 'DUOC', 'DUOM', 'FEAD', 'FEAH', 'FEAK', 'FEEB', 'FEEJ', 'FEUG', 'FIIJ', 'FOEB', 'FOOF', 'FOOK', 'FUUH', 'GAAJ', 'GAIC', 'GOAK', 'GOEH', 'GOIL', 'GOUH', 'HAEF', 'HAIG', 'HAOF', 'HAUD', 'HOAF', 'HOAJ', 'HOID', 'JAAK', 'JAOB', 'JAUD', 'JEAB', 'JEIB', 'JEIG', 'JIAK', 'JIED', 'JIEK', 'JIIB', 'JOAJ', 'JOOG', 'JUID', 'JUOC', 'JUUJ', 'KAEH', 'KAOH', 'KAOJ', 'KAUC', 'KEAM', 'KEOK', 'KEUD', 'KIAF', 'KIEB', 'KIOD', 'KIUM', 'KOAD', 'KOAG', 'KOEB', 'KUAJ', 'KUOB', 'KUOJ', 'KUUJ', 'KUUL', 'LAIM', 'LAOG', 'LAOM', 'LEOL', 'LIIG', 'LIIJ', 'LOAB', 'LOED', 'LOOL', 'LOUG', 'LOUH', 'LUEC', 'LUUH', 'LUUJ', 'MAOM', 'MAUB', 'MEIM', 'MIID', 'MIIF', 'MIOL', 'MOEM', 'MOIF', 'MOIG', 'MOUC', 'MUUB', 'MUUC', 'MUUL', 'NAEM', 'NAOK', 'NEAK', 'NEEK', 'NEID', 'NIID', 'NIIH', 'NIOG', 'NOAK', 'NOOL', 'NUEB', 'NUEF', 'NUEH', 'NUUL', 'PAEF', 'PAOH', 'PEAD', 'PEUF', 'PIAF', 'PIEC', 'PIIH', 'PIOH', 'PIUD', 'POOJ', 'PUOC', 'PUOJ', 'PUUD', 'KAEK', 'KAIC', 'KAIJ', 'KEID', 'KIAG', 'KIAJ', 'KIEF', 'KIIG', 'KIIL', 'KIIM', 'KIOC', 'KOIF', 'KUIL', 'KUOH', 'RAAC', 'RAEK', 'RAIG', 'RAUB', 'RAUF', 'REAJ', 'REIB', 'REIJ', 'REUH', 'RIAB', 'RIEG', 'RIIH', 'ROAJ', 'ROEJ', 'RUEF', 'RUOH', 'RUUL', 'SAIG', 'SEEH', 'SEIC', 'SEIK', 'SEIL', 'SEOC', 'SIAJ', 'SIIJ', 'SIUH', 'SOAJ', 'SOOM', 'SOUH', 'SUEK', 'SUOK', 'TAIF', 'TAIG', 'TAOF', 'TAUL', 'TEEB', 'TEEC', 'TEOL', 'TEUJ', 'TIAB', 'TIAG', 'TIOF', 'TIUF', 'TIUH', 'TOIH', 'TOIJ', 'TOUF', 'TUIK', 'VAIB', 'VAIH', 'VAOD', 'VAOL', 'VAOM', 'VEAD', 'VEOC', 'VEUF', 'VIAB', 'VIAD', 'VIAH', 'VIID', 'VIOG', 'VIOJ', 'VIUF', 'VIUM', 'VUEB', 'VUEC', 'VUIC', 'VUOC', 'ŽAAD', 'ŽAIG', 'ŽAIM', 'ŽEAH', 'ŽEAM', 'ŽEIF', 'ŽEIG', 'ŽEIH', 'ŽEUG', 'ŽEUL', 'ŽIAM', 'ŽIIG', 'ŽOIH', 'ŽOIJ', 'ŽOOH', 'ŽUAB', 'ŽUED', 'ŽUEK', 'ŽUIC', 'ŽUIM', 'ŽUUJ', 'CAAD', 'CAED', 'CAIF', 'CAIK', 'CAIL', 'CAOF', 'CEEB', 'CEEK', 'CEUK', 'CIAD', 'CIED', 'CIIC', 'CIOC', 'CIOF', 'COAF', 'ŠAAK', 'ŠAEH', 'ŠAIK', 'ŠEEF', 'ŠEEK', 'ŠEIC', 'ŠIIM', 'ŠIOM', 'ŠUEB', 'ŠUIF', 'ZAAB', 'ZAAC', 'ZEUK', 'ZIUL', 'ZIUM', 'ZOEJ', 'ZOUB', 'ZUAB', 'ZUOB', 'ZUOC', 'ZUUC', 'ZUUK', 'ZAAR', 'ZAEN', 'ZAEC', 'ZAIR', 'ZAOV', 'ZAUS', 'ZAUŽ', 'ZEAR', 'ZEAŽ', 'ZEEK', 'ZEOP', 'ZOAP', 'ZOAŽ', 'ZOIŽ', 'ZOUS', 'ZUAK', 'ZUAC', 'ZUEK', 'ZUOS', 'ZUUP', 'ZAUZ', 'ZIEZ', 'ZUUZ', 'NAAZ', 'NAIZ', 'NEIZ', 'PIIZ', 'KIUZ', 'SAIZ', 'SEOZ', 'TAOZ', 'TEAZ', 'TUUZ', 'VEOZ', 'VIOZ', 'VOEZ', 'ŽAEZ', 'ŽIEZ', 'ŽUAZ', 'ŠEAZ', 'ŠOIZ', 'NAAŽ', 'NAEN', 'NAEŠ', 'NAIK', 'NAIŽ', 'NAUP', 'NEAV', 'NEOT', 'NIAC', 'NIOT', 'NIUŠ', 'NOEŠ', 'NOOŽ', 'NOUK', 'NUAS', 'NUEP', 'NUUK', 'PAIP', 'PAIŠ', 'PAOP', 'PAOŽ', 'PAUK', 'PAUV', 'PEOR', 'PEOS', 'PIOC', 'PIOŠ', 'PIUK', 'PUAN', 'PUAŽ', 'PUOR', 'KAIP', 'KAIK', 'KIEŠ', 'KIOŽ', 'KIUV', 'KOIR', 'KOUS', 'KUEŽ', 'KUEC', 'KUOP', 'RAOS', 'RAUP', 'RIAN', 'RIOK', 'RIUP', 'RIUŽ', 'RIUC', 'ROOK', 'RUUN', 'SAAV', 'SAAC', 'SAIP', 'SAIR', 'SAON', 'SEAŠ', 'SEET', 'SEUR', 'SIIS', 'SIOŽ', 'SIOC', 'SOEN', 'SOUK', 'SUUŠ', 'TAUP', 'TAUR', 'TEAŽ', 'TEUP', 'TEUV', 'TIAP', 'TIEV', 'TIIN', 'TIIP', 'TOAK', 'TOOR', 'TOUS', 'TUAC', 'TUIŽ', 'TUUK', 'VAOŠ', 'VAUP', 'VIAP', 'VIAR', 'VIAT', 'VIIK', 'VIOK', 'VIOŽ', 'VOAV', 'VOEC', 'VOIP', 'VOON', 'VOUP', 'VOUR', 'VUON', 'ŽAAŠ', 'ŽEIT', 'ŽEON', 'ŽEUŽ', 'ŽIIN', 'ŽIOP', 'ŽIOS', 'ŽIUC', 'ŽOAŠ', 'ŽOIK', 'ŽOUK', 'ŽUEN', 'ŽUUŽ', 'ŽUUC', 'CAAŽ', 'CAEŠ', 'CAOP', 'CAUR', 'CEAR', 'CEEP', 'CEOP', 'CEOK', 'CEOŠ', 'CEUR', 'CIIT', 'CIOS', 'CIUT', 'CIUŠ', 'COEN', 'COEK', 'COOP', 'CUIP', 'CUOT', 'CUUR', 'ŠAEC', 'ŠAOS', 'ŠAOC', 'ŠAUT', 'ŠAUC', 'ŠEEV', 'ŠEIP', 'ŠEIS', 'ŠEIT', 'ŠIAV', 'ŠIET', 'ŠIUR', 'ŠOAT', 'ŠOAŠ', 'ŠOEN', 'ŠOES', 'ŠUAK', 'ŠUUŽ', 'ŠUUŠ', 'BAUŠ', 'BEEŠ', 'BEUC', 'BIAT', 'BIEP', 'BIOT', 'BIUR', 'BUIR', 'CAER', 'CAES', 'CAUŽ', 'CAUC', 'CEON', 'CEOŽ', 'CEUT', 'CIAN', 'CIEN', 'CIER', 'CIIK', 'CIIV', 'CIUP', 'CIUV', 'COIŠ', 'COOR', 'CUAS', 'CUEV', 'DAAP', 'DAEV', 'DAEŠ', 'DAIN', 'DAIP', 'DAOS', 'DEAV', 'DEUK', 'DIEN', 'DIIR', 'DIUN', 'DIUŽ', 'DOAK', 'DOAŽ', 'DOEP', 'DOEK', 'DOUT', 'DUIŠ', 'FAAN', 'FAAK', 'FAAV', 'FAEC', 'FAIP', 'FAOŠ', 'FAUR', 'FIOR', 'FUAN', 'FUET', 'FUIŽ', 'FUUŠ', 'GAAV', 'GAAŠ', 'GAEV', 'GEAŠ', 'GEUP', 'GIAŽ', 'GIAŠ', 'GIEŽ', 'GIOŽ', 'GIUS', 'GOUV', 'GUES', 'GUIŽ', 'HAEP', 'HAEŽ', 'HAIŽ', 'HAON', 'HAOR', 'HEAC', 'HEON', 'HEOR', 'HIIT', 'HIOK', 'HOAŠ', 'HUIP', 'JAAT', 'JAOŠ', 'JAUR', 'JAUV', 'JEAŽ', 'JEOT', 'JEUP', 'JEUK', 'JIOV', 'JIUR', 'JIUS', 'JIUC', 'JOAP', 'JOIT', 'JUOR', 'JUUS', 'KOAŽ', 'KUAP', 'KUOV', 'KUUK', 'KUUŽ', 'LAER', 'LAIK', 'LEAC', 'LEUP', 'LEUK', 'LIAV', 'LIIK', 'LIOV', 'LIUK', 'LOAC', 'LOEN', 'LUAT', 'LUUV', 'MAET', 'MAUR', 'MEEŠ', 'MEIP', 'MEOK', 'MEOC', 'MEUT', 'MIAT', 'MIEV', 'MIOC', 'MIUŽ', 'MOAŠ', 'MOUS', 'MUIP', 'MUUK', 'MUUT', 'BIEZ', 'BOIZ', 'CEUZ', 'FEIZ', 'FIIZ', 'FOUZ', 'GOAZ', 'GUIZ', 'JIOZ', 'JUOZ', 'KUEZ', 'LAIZ', 'LIEZ', 'MEUZ', 'MIOZ', 'BAZ', 'LIŠ', 'JUM', 'RIK', 'COD', 'ŠUŠ', 'CAS', 'ŽOD', 'PID', 'PUJ', 'DUK', 'BAŽ', 'ŠOL', 'ŠEG', 'CIF', 'BIF', 'VEK', 'KIM', 'KAT', 'ŠUL', 'BUŽ', 'TIF', 'GEZ', 'KOK', 'FIP', 'FEK', 'TIR', 'MIF', 'COŽ', 'ŽAV', 'ŽAC', 'JIT', 'NIŽ', 'RIC', 'GEB', 'PEZ', 'SUC', 'RUV', 'MIK', 'ŠEM', 'CIH', 'HEC', 'COL', 'VOG', 'DUI', 'TEL', 'COV', 'ŽIF', 'SUT', 'RUF', 'MOŠ', 'PEF', 'PEV', 'MEK', 'BAK', 'TIB', 'DOK', 'SEŠ', 'FAZ', 'SAL', 'ŽUK', 'ŽUT', 'ŽUH', 'KUD', 'JAŽ', 'NIC', 'KAC', 'CAH', 'RIR', 'BAAH', 'BAEM', 'BAIB', 'BAID', 'BAIH', 'BAOC', 'BEED', 'BEOG', 'BEOM', 'BIAJ', 'BOOL', 'BUIB', 'BUID', 'BUOG', 'BUUJ', 'CAOC', 'CAOG', 'CAUB', 'CEAM', 'CEUL', 'CIAB', 'COAD', 'COUG', 'CUOH', 'CUUM', 'DAAC', 'DAEB', 'DAEF', 'DAOM', 'DAUD', 'DAUJ', 'DEEH', 'DEEJ', 'DEOM', 'DIUC', 'DOAM', 'DOIF', 'DUEB', 'DUEJ', 'DUUJ', 'FAAB', 'FAUK', 'FEID', 'FEOB', 'FIAF', 'FIOB', 'FIOL', 'FOOB', 'FOOG', 'FUAF', 'FUEF', 'FUUM', 'GAOK', 'GEAG', 'GEIJ', 'GIEB', 'GIEG', 'GIIK', 'GIUD', 'GOAJ', 'GOEF', 'GOID', 'GOIG', 'GOOL', 'GUAC', 'GUEG', 'GUEH', 'GUIJ', 'GUIM', 'GUOL', 'HAAB', 'HAIM', 'HAOB', 'HAOL', 'HEUC', 'HIEG', 'HIEH', 'HIEM', 'HIOH', 'HIUM', 'HOEM', 'HOUB', 'HUAB', 'HUIH', 'HUIM', 'JAIJ', 'JAUM', 'JEIH', 'JEIJ', 'JEOF', 'JIEL', 'JOIM', 'JUAF', 'JUEF', 'JUOH', 'KEIF', 'KIEH', 'KIIJ', 'KIOJ', 'KOAJ', 'KOIB', 'KUEH', 'KUOD', 'LAEM', 'LEEF', 'LIAD', 'LIEC', 'LOID', 'LOOB', 'LOUL', 'LUAJ', 'MAEJ', 'MAIK', 'MAOJ', 'MEAH', 'MEOF', 'MEOM', 'MIAH', 'MIIH', 'MIOB', 'MIOG', 'MIUL', 'MOUF', 'MUUM', 'NAID', 'NAIG', 'NAOD', 'NAOM', 'NAUC', 'NEAD', 'NEIH', 'NEUC', 'NEUG', 'NIEH', 'NIIJ', 'NIIL', 'NIOK', 'NIUM', 'NOIF', 'NUAB', 'NUAG', 'NUEJ', 'PAEK', 'PAIH', 'PAOC', 'PEID', 'PIUL', 'POOC', 'POUL', 'PUIF', 'PUOL', 'KAEC', 'KIOH', 'REAG', 'REEB', 'REEM', 'REOH', 'REUL', 'RIAH', 'RIAK', 'RIIF', 'RIUJ', 'RIUM', 'ROEG', 'ROUL', 'RUAM', 'RUOD', 'SAED', 'SAEG', 'SAIF', 'SEEF', 'SEOH', 'SEOK', 'SIOB', 'SOIB', 'SOOK', 'SUAJ', 'SUEM', 'SUIK', 'SUOL', 'TAAF', 'TAEB', 'TAUG', 'TEAF', 'TEID', 'TIID', 'TIUB', 'TIUJ', 'TOIC', 'TOID', 'TOUC', 'TUEB', 'TUOF', 'VAAB', 'VAAD', 'VAAF', 'VAUD', 'VEOB', 'VEOG', 'VEOH', 'VEOL', 'VIIB', 'VOIL', 'VOOB', 'VOOJ', 'VUAC', 'VUAJ', 'VUID', 'VUOF', 'ŽAAM', 'ŽAOJ', 'ŽEOB', 'ŽIOB', 'ŽOAJ', 'ŽOAL', 'ŽOEJ', 'ŽOUM', 'ŽUAJ', 'ŽUEF', 'ŽUIG', 'ŽUUM', 'CAAK', 'CAOH', 'COIF', 'COOB', 'CUIF', 'CUIJ', 'CUUJ', 'ŠAEL', 'ŠAUL', 'ŠEED', 'ŠEIH', 'ŠIAF', 'ŠIAM', 'ŠIEF', 'ŠIIB', 'ŠIOG', 'ŠIUB', 'ŠOED', 'ŠOIJ', 'ŠOIL', 'ŠOOM', 'ŠOUM', 'ŠUAL', 'ŠUAM', 'ZAAJ', 'ZAUB', 'ZEEC', 'ZEED', 'ZEUF', 'ZIEG', 'ZIOL', 'ZOED', 'ZOEG', 'ZUED', 'ZUEL', 'ZAIŽ', 'ZAUR', 'ZEIŠ', 'ZIAS', 'ZIOC', 'ZIUC', 'ZOIC', 'ZUEN', 'ZUER', 'ZUEC', 'ZUIN', 'ZUUŠ', 'ZAOZ', 'ZIUZ', 'NEOZ', 'PUIZ', 'TAEZ', 'TIOZ', 'VAAZ', 'VUUZ', 'ŽOUZ', 'CEOZ', 'COIZ', 'ŠAAZ', 'ŠOUZ', 'NAEP', 'NAET', 'NAIP', 'NAOŽ', 'NAOC', 'NEEV', 'NEUŽ', 'NIAR', 'NIOS', 'NOAS', 'NOEC', 'NUAN', 'NUIP', 'NUIK', 'NUUN', 'PAAT', 'PAOK', 'PAUN', 'PEUN', 'PEUK', 'PIAP', 'POIN', 'PUAC', 'PUOT', 'PUUN', 'KAUK', 'KEER', 'KIAT', 'KUAV', 'KUEV', 'KUIC', 'KUUŠ', 'RAOŽ', 'REAV', 'REOK', 'REOS', 'RIUN', 'ROOŽ', 'RUEN', 'RUUT', 'SAAR', 'SAIV', 'SAOS', 'SEAP', 'SEAŽ', 'SEON', 'SIAT', 'SIIT', 'SOAT', 'SOOP', 'SOUC', 'SUAŽ', 'SUIR', 'SUOŠ', 'TAAŽ', 'TAUC', 'TOEŠ', 'TUEK', 'TUIR', 'TUON', 'TUOV', 'TUOŽ', 'TUUS', 'VAEŽ', 'VAIP', 'VEAK', 'VEAS', 'VEIS', 'VEIŠ', 'VEOK', 'VEUN', 'VEUS', 'VEUŠ', 'VIAV', 'VIIŽ', 'VOOT', 'VUAN', 'VUEP', 'VUOV', 'ŽEAŽ', 'ŽEIS', 'ŽEOP', 'ŽIAC', 'ŽIOC', 'ŽOAS', 'ŽOAŽ', 'ŽOIT', 'ŽUUK', 'ŽUUS', 'CAOŠ', 'CIIR', 'CIIŽ', 'COON', 'COUV', 'CUUS', 'ŠAIP', 'ŠAIR', 'ŠAIC', 'ŠEEC', 'ŠEIŽ', 'ŠEUK', 'ŠIES', 'ŠIEŽ', 'ŠIOS', 'ŠIUŠ', 'ŠOIŠ', 'ŠOUN', 'ŠUIP', 'ŠUIŽ', 'ŠUIŠ', 'BAIŽ', 'BAOV', 'BAUP', 'BEIS', 'BEUS', 'BEUŽ', 'BIOŠ', 'BIUT', 'BUIV', 'BUUŽ', 'CAAV', 'CAIP', 'COER', 'CUAŽ', 'DIAV', 'DIEK', 'DUEŽ', 'DUOŠ', 'FAAŽ', 'FEAC', 'FEOV', 'FEOC', 'FIEP', 'FIEŠ', 'FIIC', 'FUOC', 'GAIK', 'GAUT', 'GEEK', 'GEUV', 'GIAR', 'GIIP', 'GIIŽ', 'GIOŠ', 'GOAŠ', 'GUEP', 'GUIK', 'GUIC', 'GUOS', 'GUUK', 'HAAP', 'HEOS', 'HIAN', 'HIAR', 'HIIN', 'HIIR', 'HION', 'HIOS', 'HIUT', 'JAER', 'JAON', 'JEEV', 'JEIP', 'JEUN', 'JEUT', 'JEUŽ', 'JOIŽ', 'JOUK', 'JUOS', 'KAUV', 'KEOP', 'KIIT', 'KIIC', 'KION', 'KIUT', 'KOUP', 'KUET', 'LAEP', 'LEEŠ', 'LEUV', 'LIEŽ', 'LIUS', 'LIUT', 'LOAV', 'LOAŽ', 'LUIP', 'LUIV', 'MEAV', 'MEOP', 'MEOT', 'MEUŠ', 'MION', 'MIOP', 'MIOŠ', 'MIUN', 'MIUP', 'MOAR', 'MOAV', 'MOOV', 'MOOŠ', 'MOUŠ', 'MUAN', 'MUAT', 'MUIR', 'MUIV', 'MUOŽ', 'BEAZ', 'BOAZ', 'CIIZ', 'CIUZ', 'DAIZ', 'DEUZ', 'FAIZ', 'GOOZ', 'HAIZ', 'JEAZ', 'JIIZ', 'JIUZ', 'JOOZ', 'KEUZ', 'LEOZ', 'LOAZ', 'MOEZ', 'KIF', 'ŽUC', 'FEV', 'GIM', 'VAH', 'CER', 'ROC', 'LUV', 'ŠIF', 'JEC', 'ŠEJ', 'GUŽ', 'PUK', 'ŠIL', 'KIV', 'DEF', 'HAZ', 'NAK', 'BIC', 'GAZ', 'TUŽ', 'MUR', 'VUF', 'NIK', 'VAD', 'JIF', 'ŽUR', 'VED', 'FIH', 'ŠOJ', 'GER', 'TIŽ', 'DIC', 'NOF', 'GOŠ', 'BEC', 'MAV', 'BUV', 'HEK', 'TUD', 'SEJ', 'MEF', 'TEZ', 'GOC', 'DOB', 'MIZ', 'BEJ', 'SEO', 'MUH', 'DEG', 'VUN', 'HAV', 'ŠAD', 'MOK', 'JUK', 'LEZ', 'NAV', 'CEG', 'JEŠ', 'BAAC', 'BAUH', 'BEEL', 'BIID', 'BIIK', 'BOAJ', 'BOIG', 'CAIG', 'CEOD', 'CIEH', 'CIUL', 'COAC', 'COOD', 'CUAB', 'DAAH', 'DAIL', 'DEAM', 'DEIB', 'DEIK', 'DEUH', 'DIAB', 'DIOD', 'DOAC', 'DOAL', 'DOIJ', 'DOIK', 'DOIM', 'DOUL', 'DUAM', 'FAIG', 'FEAB', 'FEAG', 'FEAJ', 'FEUF', 'FEUK', 'FOAF', 'FOEJ', 'FOEL', 'FOIG', 'FOIM', 'FUAD', 'FUEB', 'FUEH', 'FUOL', 'FUUD', 'GAAC', 'GAIJ', 'GEAJ', 'GEEG', 'GIAM', 'GIIH', 'GIOG', 'GIOM', 'GIUF', 'GOAM', 'GOEL', 'GOOJ', 'GUEF', 'HAIB', 'HEAF', 'HEIF', 'HEOB', 'HEUM', 'HIAL', 'HIIB', 'HIUH', 'HOIF', 'HUAK', 'HUEJ', 'HUIL', 'JAEG', 'JEEH', 'JEEL', 'JEOL', 'JEUL', 'JIAB', 'JIAH', 'JIOD', 'JIOG', 'JUAD', 'JUED', 'JUIG', 'KAUB', 'KEAF', 'KIUB', 'KOOC', 'LAAM', 'LAIG', 'LAOF', 'LIAC', 'LIAF', 'LIIB', 'LIOF', 'LIUD', 'LOAG', 'LOAL', 'LUIC', 'LUOJ', 'MEAJ', 'MEUB', 'MEUM', 'MIED', 'MIEG', 'MIEL', 'MIOD', 'MIOK', 'MIUG', 'MOOH', 'MOUM', 'MUAJ', 'MUAL', 'NAEB', 'NAED', 'NAIJ', 'NAOF', 'NAUL', 'NEIG', 'NEOH', 'NEOL', 'NIED', 'NIIG', 'NIUH', 'NIUL', 'NOIC', 'NOID', 'PAAJ', 'PAEM', 'PAUD', 'PEIG', 'PEUJ', 'PIAM', 'PIEM', 'PIOJ', 'POUB', 'POUH', 'PUAD', 'PUOD', 'PUUK', 'KEOF', 'KUUM', 'RAOD', 'RAOH', 'REOD', 'REUD', 'RIOM', 'RIUL', 'ROEH', 'ROIK', 'RUUH', 'SAAF', 'SAEC', 'SAOB', 'SAOH', 'SAOL', 'SEAC', 'SEEB', 'SEIF', 'SIAF', 'SIEC', 'SOAC', 'SOAG', 'SUEF', 'SUEH', 'SUOM', 'TAAM', 'TAOG', 'TAOJ', 'TEUH', 'TIAD', 'TIIK', 'TIOG', 'TIUD', 'TOAM', 'TOOJ', 'TUAF', 'TUIB', 'TUUH', 'VEAG', 'VEED', 'VEEH', 'VEIJ', 'VIAG', 'VIAJ', 'VIOB', 'VIOH', 'VIOM', 'VOUM', 'VUOB', 'VUOH', 'ŽAEJ', 'ŽEEH', 'ŽEUF', 'ŽIEC', 'ŽIIK', 'ŽIOJ', 'ŽIOL', 'ŽIUJ', 'ŽOUB', 'ŽUIH', 'ŽUUL', 'COAK', 'COAL', 'ŠAAB', 'ŠEAB', 'ŠEAJ', 'ŠEEJ', 'ŠEEL', 'ŠEUJ', 'ŠIEK', 'ŠIIJ', 'ŠIUM', 'ŠOOK', 'ŠUIG', 'ŠUIM', 'ŠUOC', 'ŠUOF', 'ZAAF', 'ZAEB', 'ZAUD', 'ZEIF', 'ZEUC', 'ZIAH', 'ZIUH', 'ZOIH', 'ZOIM', 'ZUEB', 'ZUEJ', 'ZAAS', 'ZAAV', 'ZAEŠ', 'ZAUV', 'ZEIŽ', 'ZIAR', 'ZIIŠ', 'ZIOŽ', 'ZIUN', 'ZUIŠ', 'ZUOV', 'ZUUT', 'ZIAZ', 'PAIZ', 'PEUZ', 'TOAZ', 'VAUZ', 'VEEZ', 'ŽEOZ', 'ŠIAZ', 'ŠIUZ', 'NAIS', 'NEAŽ', 'NEOK', 'NEOŠ', 'NIAV', 'NIIK', 'NOAP', 'NOAR', 'NOAT', 'NUOP', 'NUOR', 'PEEK', 'PIEN', 'PIEŠ', 'PIUS', 'POAT', 'POOŽ', 'POOŠ', 'PUAT', 'PUOŠ', 'KAOV', 'KAUŽ', 'KEUŽ', 'KOEP', 'KOET', 'KUAR', 'KUOT', 'RAAK', 'RAON', 'REEK', 'REOC', 'RIAR', 'RIEN', 'RIUT', 'ROAS', 'RUEK', 'SAEV', 'SAIS', 'SEAV', 'SEEK', 'SIAS', 'SIEN', 'SIEŠ', 'SIIŽ', 'SIUŠ', 'SOAK', 'SOOR', 'SUEV', 'SUEŽ', 'SUON', 'TAEŽ', 'TAEC', 'TAIV', 'TIAT', 'TIIŽ', 'TIOŠ', 'TOUV', 'TUAT', 'TUAŠ', 'TUIP', 'VAAP', 'VAET', 'VAOP', 'VEAN', 'VEAP', 'VEEŽ', 'VIAC', 'VIAŠ', 'VIUN', 'VOAN', 'VOUT', 'VUAŠ', 'ŽAUT', 'ŽEAS', 'ŽEUK', 'ŽEUR', 'ŽOAP', 'ŽOEŽ', 'ŽUEŠ', 'CEAŠ', 'CEEŽ', 'CEEŠ', 'CEIR', 'CEUS', 'CIEP', 'CIIŠ', 'CIUN', 'COAV', 'CUIS', 'ŠAAS', 'ŠAOV', 'ŠEEN', 'ŠEEŠ', 'ŠEON', 'ŠEOŽ', 'ŠIIŠ', 'ŠIUV', 'ŠOOR', 'ŠUEŠ', 'ŠUOV', 'ŠUOŠ', 'ŠUUN', 'ŠUUP', 'BAOT', 'BEIN', 'BEIP', 'BIEV', 'BOET', 'BOIT', 'BOUP', 'BOUR', 'BUOR', 'CUAR', 'DAAV', 'DAEŽ', 'DAIT', 'DAUN', 'DAUR', 'DAUS', 'DEAC', 'DEEŠ', 'DEIŽ', 'DIAŽ', 'DIEC', 'DIOS', 'DOEV', 'DOIŠ', 'DOUŠ', 'DUAS', 'DUUT', 'FAIŽ', 'FAON', 'FEAN', 'FEEC', 'FEIŽ', 'FIAV', 'FIIN', 'FOAV', 'FUIN', 'FUUS', 'FUUŽ', 'GAET', 'GAIŠ', 'GAUP', 'GEAV', 'GEET', 'GEOR', 'GIIC', 'GIOP', 'GIOR', 'GUUŠ', 'HAIP', 'HEIS', 'HEIV', 'HEOT', 'HIEK', 'HOEŠ', 'HOOV', 'HUAR', 'HUAS', 'HUAV', 'HUUN', 'JEON', 'JEOP', 'JEUR', 'JEUS', 'JIAS', 'JIIŽ', 'JIOS', 'JOAR', 'JOAV', 'JOOR', 'JOOT', 'JOOŽ', 'JOUŠ', 'JUAŠ', 'KEEŽ', 'KEON', 'KEUŠ', 'KIUŠ', 'KOIP', 'KUUS', 'KUUT', 'LAAP', 'LAES', 'LAEŠ', 'LAOP', 'LAOŠ', 'LAUV', 'LEEK', 'LEOT', 'LEUŠ', 'LIOR', 'LOUS', 'LOUV', 'LUEP', 'LUIŽ', 'LUOS', 'MAAŽ', 'MAEŠ', 'MEAŠ', 'MEEP', 'MEOR', 'MEUV', 'MEUŽ', 'MIAN', 'MIIT', 'MIIV', 'MIUT', 'MUET', 'MUUS', 'BAIZ', 'BUUZ', 'DEAZ', 'DEOZ', 'FAOZ', 'FEOZ', 'GAAZ', 'GIUZ', 'GOIZ', 'GUEZ', 'HOOZ', 'JAIZ', 'LIAZ', 'LOEZ', 'LUUZ', 'MIUZ', 'MUIZ', 'FIK', 'BEA', 'DOŠ', 'JEM', 'GAH', 'LUR', 'ŽAJ', 'GUD', 'GEV', 'LIG', 'NUH', 'LUD', 'VUL', 'TAN', 'GUJ', 'CIV', 'NAN', 'REŽ', 'FEB', 'MOH', 'HAK', 'LIM', 'VAP', 'SUJ', 'MEJ', 'TOL', 'PEŠ', 'VOB', 'BEK', 'ŽIB', 'PEC', 'VOŠ', 'FOT', 'JIŽ', 'KUZ', 'ŠIM', 'ŽUN', 'GUZ', 'CUJ', 'BOŠ', 'ŠUV', 'ŠER', 'CES', 'SIH', 'JUH', 'HOK', 'PUV', 'JES', 'ŠOG', 'FEH', 'ŠEZ', 'ŽAZ', 'VEŽ', 'BAAB', 'BAOJ', 'BEEG', 'BEIJ', 'BEIL', 'BEUH', 'BEUJ', 'BIED', 'BIEG', 'BIOB', 'BIOF', 'BIUH', 'BIUJ', 'BOUM', 'BUAB', 'BUAG', 'BUAJ', 'CEIH', 'DAAM', 'DAOG', 'DEAB', 'DEEB', 'DEID', 'DEUF', 'DEUG', 'DIAJ', 'DIOB', 'DOAH', 'DOUF', 'DUUB', 'FAIJ', 'FAOF', 'FAUJ', 'FEIB', 'FIAM', 'FIIB', 'FOAH', 'FOUB', 'FUOG', 'FUUB', 'GAEC', 'GAEJ', 'GAIM', 'GAUG', 'GAUH', 'GEAB', 'GEAF', 'GEAM', 'GEIG', 'GEOH', 'GIOJ', 'GIUG', 'GOAH', 'GOIM', 'GUED', 'GUUB', 'HAUJ', 'HEUJ', 'HIAM', 'HOAC', 'HOEG', 'HOUJ', 'HOUM', 'HUIJ', 'HUOM', 'JAOJ', 'JAUB', 'JEAJ', 'JEIM', 'JOAM', 'JOUD', 'JUEJ', 'JUEL', 'JUUC', 'KUIB', 'LAEB', 'LAEG', 'LAIL', 'LEIH', 'LIAG', 'LIUH', 'LIUL', 'LUAM', 'LUEF', 'MAAM', 'MEEG', 'MEEM', 'MEIJ', 'MEUD', 'MIUB', 'MOAD', 'MOIJ', 'MUIJ', 'NAOL', 'NEOG', 'NUAJ', 'NUIM', 'PAEJ', 'PAIG', 'PEEG', 'PEIB', 'PIID', 'PIOB', 'POAB', 'PUAG', 'PUAM', 'PUED', 'PUEM', 'PUUF', 'PUUM', 'KIEL', 'RAEG', 'REOB', 'ROAF', 'ROIF', 'ROIM', 'ROOH', 'ROUD', 'RUEJ', 'RUIB', 'RUIH', 'RUOC', 'RUOJ', 'RUUM', 'SAAG', 'SAEM', 'SAUG', 'SEIB', 'SIEL', 'SIIC', 'SOUD', 'SUEL', 'TAUD', 'TEAB', 'TEOB', 'TIOC', 'TOAB', 'TUUG', 'TUUJ', 'VAEF', 'VAOK', 'VAUB', 'VEAJ', 'VEEJ', 'VEIK', 'VIOD', 'VIUB', 'VOAG', 'VOAH', 'VUAB', 'VUAG', 'VUEM', 'VUUB', 'VUUD', 'VUUM', 'ŽAAH', 'ŽAAJ', 'ŽIIB', 'ŽIOM', 'ŽOAM', 'ŽOED', 'ŽOIF', 'ŽOUJ', 'ŽUEL', 'ŽUID', 'ŽUOB', 'CUED', 'ŠAAD', 'ŠAAL', 'ŠIEG', 'ŠIEH', 'ŠIOB', 'ŠIOH', 'ŠIUG', 'ŠOAC', 'ŠOUH', 'ŠUIH', 'ŠUUB', 'ZAUG', 'ZEOF', 'ZIED', 'ZIEM', 'ZIIF', 'ZIOG', 'ZIUJ', 'ZOAG', 'ZOOD', 'ZOUG', 'ZOUH', 'ZUOG', 'ZUUB', 'ZAAT', 'ZAUP', 'ZEAS', 'ZEAŠ', 'ZIES', 'ZIEŠ', 'ZIIN', 'ZIIS', 'ZIUP', 'ZOAS', 'ZOEK', 'ZOER', 'ZOES', 'ZUON', 'ZEUZ', 'NOUZ', 'NUIZ', 'NUOZ', 'PEOZ', 'POEZ', 'POUZ', 'RAOZ', 'REUZ', 'RIUZ', 'ROEZ', 'ROUZ', 'SEAZ', 'SIIZ', 'SUIZ', 'ŽAUZ', 'CEAZ', 'NEIT', 'NIUR', 'NOIS', 'NUAP', 'NUIN', 'PAEV', 'PAOT', 'PAUR', 'PEAV', 'PEIP', 'PEOT', 'PEOŠ', 'PEUŠ', 'PIOS', 'PIUT', 'POIV', 'PUEP', 'PUIR', 'PUOV', 'KEEP', 'KIAV', 'KIIR', 'KUAS', 'RAAS', 'RAES', 'RAIS', 'RAUT', 'REAN', 'RIAV', 'RIEP', 'RIEK', 'RIUS', 'RIUV', 'ROAP', 'ROEV', 'ROEŠ', 'ROOP', 'RUOV', 'SAET', 'SAUR', 'SEUŽ', 'SOOŠ', 'SUAS', 'SUEN', 'SUIS', 'SUUR', 'SUUŽ', 'TAAŠ', 'TAEP', 'TAEV', 'TAIP', 'TAOT', 'TEIN', 'TEOŽ', 'TEUN', 'TIEŠ', 'TUAR', 'TUEN', 'VAIT', 'VAON', 'VEOŽ', 'VEUŽ', 'VIAS', 'VOIC', 'VOOP', 'VUEN', 'VUES', 'VUEV', 'VUIŽ', 'VUOP', 'VUUS', 'ŽAIŠ', 'ŽAOR', 'ŽIAN', 'ŽIAŠ', 'ŽIEN', 'ŽIEV', 'ŽIEŠ', 'ŽIIR', 'ŽOAR', 'ŽOIN', 'ŽOIR', 'ŽOOC', 'ŽOUN', 'ŽUIN', 'ŽUOV', 'ŽUUV', 'CIAŽ', 'CIOP', 'COIN', 'COUR', 'COUŽ', 'CUIR', 'ŠAAR', 'ŠAER', 'ŠAES', 'ŠAEŠ', 'ŠEIR', 'ŠIAŠ', 'ŠIUS', 'ŠIUŽ', 'ŠOAR', 'ŠOAV', 'ŠOEV', 'ŠUUS', 'BEAŠ', 'BEIT', 'BIAR', 'BIIS', 'BIIV', 'BIIŠ', 'BOAŽ', 'BOIS', 'BOIŽ', 'BOUN', 'BOUS', 'BUAS', 'BUAŽ', 'BUEN', 'BUIP', 'BUOŽ', 'DAIV', 'DIOT', 'DOOŽ', 'DUAN', 'DUIP', 'DUIŽ', 'FAAT', 'FAER', 'FAIV', 'FAOS', 'FAOV', 'FEEP', 'FEEŠ', 'FEOR', 'FIAN', 'FIAŠ', 'FIET', 'FIIR', 'FOUP', 'FUAR', 'FUAŠ', 'FUER', 'FUIŠ', 'FUON', 'FUOP', 'GAEP', 'GEAS', 'GEOŽ', 'GIUŠ', 'GOET', 'HAEV', 'HAIN', 'HAIK', 'HAIV', 'HAUŠ', 'HEUR', 'HIAS', 'HIEN', 'HIIV', 'HUAT', 'HUEN', 'HUEŽ', 'HUUP', 'JAEN', 'JAIT', 'JEAT', 'JEAV', 'JEOR', 'JIUV', 'JOAS', 'JUEN', 'JUIP', 'JUIŽ', 'JUIŠ', 'JUOŠ', 'KAIT', 'LAIP', 'LEIN', 'LEOŠ', 'LIUŠ', 'LOOŽ', 'LOUŠ', 'LUOT', 'MAEŽ', 'MAIV', 'MEEŽ', 'MEIŠ', 'MIAP', 'MIET', 'MIIS', 'MIOŽ', 'MOIV', 'MOIŽ', 'MUEP', 'MUIŽ', 'MUOV', 'DAOZ', 'FOEZ', 'FUAZ', 'FUIZ', 'HAOZ', 'HOIZ', 'HOUZ', 'HUOZ', 'JUAZ', 'LEAZ', 'LIUZ', 'LUIZ'];
stimulus_4_bucket = ['JOJ', 'KEH', 'VOM', 'CUK', 'NOJ', 'VAC', 'KOU', 'ŠEK', 'COR', 'POV', 'CIC', 'KET', 'HON', 'CUD', 'GUG', 'FAV', 'RAK', 'JAD', 'KAF', 'VIJ', 'VIZ', 'TOC', 'ŠIS', 'ŽEK', 'MAL', 'MEŠ', 'REJ', 'ŠOC', 'ŠAS', 'TUK', 'ŽEŠ', 'NIH', 'DAJ', 'ŽEV', 'PAL', 'JOR', 'VOC', 'JEV', 'CUS', 'TEV', 'BIR', 'CUN', 'CIŠ', 'ŠOH', 'KID', 'GOP', 'TEŠ', 'ŠIT', 'ŽOF', 'COK', 'PAB', 'SOV', 'HIŠ', 'JEI', 'ROZ', 'ROJ', 'HOS', 'GIK', 'POŠ', 'ŠIB', 'KEN', 'DOC', 'RUP', 'HIG', 'ŠOR', 'PEB', 'SIŽ', 'ŠAC', 'BAAJ', 'BAEK', 'BAOB', 'BIAK', 'BIIB', 'BIOC', 'BIOG', 'BOOC', 'BUAH', 'BUEF', 'BUOM', 'BUUL', 'CAAB', 'CAEC', 'CAEH', 'CAOJ', 'CAUK', 'CEAD', 'CEIG', 'CIAF', 'CIAG', 'CIID', 'CIOG', 'CIUG', 'COOJ', 'CUAM', 'CUEC', 'CUIC', 'DAIF', 'DAIG', 'DAOJ', 'DAUM', 'DEAG', 'DEAH', 'DEOB', 'DIAD', 'DIEH', 'DIIK', 'DIOH', 'DIUD', 'DOED', 'DUAB', 'DUAC', 'DUOJ', 'DUUC', 'DUUK', 'FAAD', 'FAOD', 'FAOG', 'FAOK', 'FEIM', 'FEOM', 'FIEJ', 'FIIK', 'FIOM', 'FIUG', 'FIUM', 'FUAM', 'FUOM', 'GAAD', 'GAEK', 'GAEM', 'GAIF', 'GEIC', 'GEOG', 'GEOJ', 'GEOM', 'GIAG', 'GIEH', 'GIEM', 'GIIF', 'GIOB', 'GIUL', 'GUIB', 'GUOD', 'GUUF', 'HAEG', 'HAOH', 'HEEC', 'HEIB', 'HEOK', 'HEOL', 'HIAK', 'HIUJ', 'HIUK', 'HOIB', 'HOUC', 'HUAC', 'HUUJ', 'HUUL', 'JAEH', 'JAOL', 'JAUL', 'JEOH', 'JEUC', 'JIAJ', 'JIEC', 'JIIJ', 'JIOH', 'JIUB', 'JOAG', 'JOAH', 'JOAL', 'JOIG', 'JOIL', 'JOUC', 'JOUG', 'JOUH', 'JUIH', 'KAOG', 'KAUG', 'KAUJ', 'KEEJ', 'KEUC', 'KOAB', 'KOAC', 'KOIJ', 'KOOD', 'KOUG', 'KOUK', 'KUAC', 'KUED', 'KUEG', 'KUUH', 'LAAD', 'LEEC', 'LEOJ', 'LIAH', 'LIIC', 'LIID', 'LIOD', 'LIOJ', 'LIUG', 'LOAJ', 'LOEH', 'LOIM', 'LUEJ', 'LUIB', 'LUIH', 'LUIJ', 'LUOC', 'MAAB', 'MAIF', 'MAIG', 'MEIK', 'MEOB', 'MIAC', 'MIAK', 'MIEC', 'MIIC', 'MIUF', 'MOOF', 'MOUJ', 'MUUF', 'NAUG', 'NEAG', 'NEAM', 'NIAH', 'NIIC', 'NIOH', 'NOAF', 'NOEK', 'NOIH', 'NOOB', 'NUAD', 'NUEM', 'PAIF', 'PAOF', 'PAOL', 'PAUH', 'PEAC', 'PEIJ', 'PEOC', 'PIAD', 'PIEB', 'PIEH', 'PIIF', 'PIOL', 'POOG', 'POUC', 'PUIC', 'PUID', 'KAAG', 'KAAM', 'KAOM', 'KAUH', 'KEAB', 'KEEL', 'KEOD', 'KEOM', 'KEUH', 'KIIH', 'KIUK', 'KOAM', 'KOEG', 'KOEM', 'KOOF', 'KOOJ', 'KUAH', 'KUIK', 'KUOK', 'RAEL', 'RAIF', 'REOM', 'RIAF', 'RIIK', 'RIOD', 'ROAH', 'ROID', 'ROUC', 'RUAK', 'RUUB', 'SAAD', 'SAIH', 'SAIK', 'SAUJ', 'SEAG', 'SEAH', 'SEEC', 'SIAK', 'SIOJ', 'SIOM', 'SOIF', 'SOIH', 'SOOG', 'SOUJ', 'TAEM', 'TAIK', 'TAOK', 'TAUM', 'TEAD', 'TEUC', 'TEUF', 'TIUL', 'TIUM', 'TOEC', 'TOEH', 'TOEM', 'TOOD', 'TUED', 'TUIF', 'TUOG', 'VAAJ', 'VAIG', 'VAUJ', 'VAUM', 'VEAC', 'VEAM', 'VEEB', 'VEOJ', 'VEUG', 'VEUH', 'VIIG', 'VIUH', 'VOAD', 'VOAJ', 'VOEJ', 'VOEM', 'VOUD', 'VUEK', 'VUIB', 'VUOD', 'VUUH', 'ŽAAB', 'ŽAOL', 'ŽEID', 'ŽEOH', 'ŽOEG', 'ŽOIG', 'ŽOUL', 'ŽUAH', 'ŽUEG', 'ŽUUH', 'CAEB', 'CAEL', 'CEIL', 'CEIM', 'CEUH', 'CIEG', 'CIEJ', 'CIOJ', 'CUOK', 'CUUF', 'ŠAAH', 'ŠAEM', 'ŠAIB', 'ŠAIF', 'ŠEAM', 'ŠEEB', 'ŠEEG', 'ŠEIJ', 'ŠEOB', 'ŠEOC', 'ŠIAH', 'ŠIIH', 'ŠIOF', 'ŠIOJ', 'ŠOEF', 'ŠOEH', 'ŠOUF', 'ŠUED', 'ŠUUM', 'ZAEH', 'ZAOF', 'ZAOH', 'ZAUH', 'ZEAB', 'ZEIC', 'ZEIM', 'ZEOB', 'ZEOK', 'ZEOM', 'ZIAK', 'ZIAL', 'ZIID', 'ZIIH', 'ZIIL', 'ZOIG', 'ZOIJ', 'ZOOF', 'ZOOJ', 'ZUAJ', 'ZUIM', 'ZUUG', 'ZUUJ', 'ZAIŠ', 'ZAON', 'ZEIR', 'ZIIR', 'ZOEP', 'ZOIN', 'ZOIR', 'ZOUŠ', 'ZUEŠ', 'ZUIT', 'ZUUS', 'ZEIZ', 'NOAZ', 'KAUZ', 'KOEZ', 'KOOZ', 'RIAZ', 'SAOZ', 'SIAZ', 'SUOZ', 'TAUZ', 'TUEZ', 'ŽOAZ', 'CAOZ', 'CIAZ', 'ŠAEZ', 'ŠEIZ', 'ŠIOZ', 'NAOŠ', 'NEAN', 'NIAN', 'NIEŠ', 'NIIP', 'NIIS', 'NIOR', 'NIOŽ', 'NIUT', 'NOEV', 'NOIP', 'NOIŠ', 'NOUR', 'NOUC', 'NUEN', 'NUOS', 'PAEP', 'PEAP', 'POUP', 'PUEV', 'PUIŽ', 'PUOS', 'PUUŽ', 'KAAK', 'KAER', 'KEAN', 'KEEK', 'KEEŠ', 'KEUK', 'KIAŽ', 'KIEP', 'KIET', 'KOIC', 'KUUP', 'RAET', 'RAUC', 'REIP', 'RIEV', 'RIUR', 'ROAT', 'RUEP', 'RUEC', 'SAEP', 'SAEK', 'SAUC', 'SAUŠ', 'SEAK', 'SEIŠ', 'SEOS', 'SOIC', 'SUEC', 'SUUS', 'TAAC', 'TAET', 'TEIS', 'TEIC', 'TEUŽ', 'TIEC', 'TIOP', 'TIUT', 'TOAC', 'TUAS', 'TUEP', 'TUIC', 'TUOP', 'VAEP', 'VEAV', 'VEIV', 'VEON', 'VIEN', 'VIIP', 'VIIS', 'VION', 'VIUR', 'VIUC', 'VOAP', 'VOIK', 'VOOK', 'VOOC', 'VUAV', 'VUEŠ', 'VUIK', 'VUUV', 'VUUŽ', 'ŽAUK', 'ŽIAT', 'ŽIIT', 'ŽIOŠ', 'ŽIUT', 'ŽIUŽ', 'ŽOAC', 'ŽOEC', 'ŽOEŠ', 'ŽUER', 'ŽUEV', 'ŽUON', 'ŽUUR', 'CAEK', 'CEIK', 'CEIT', 'CEOR', 'CIEV', 'CIUŽ', 'COUN', 'CUAŠ', 'ŠAON', 'ŠAOR', 'ŠEAK', 'ŠEAC', 'ŠEUN', 'ŠEUT', 'ŠION', 'ŠOAŽ', 'ŠOUS', 'ŠUEN', 'ŠUIR', 'ŠUUV', 'BAAŽ', 'BAIS', 'BEAP', 'BEEV', 'BEIR', 'BEOŠ', 'BEUR', 'BIIT', 'BIUV', 'BOIN', 'BOIC', 'BUAK', 'BUIŠ', 'BUUN', 'CAOT', 'CAOŽ', 'CAUV', 'CEAN', 'CEAP', 'CEOS', 'COAN', 'CUEŽ', 'CUUŽ', 'DEAK', 'DEEV', 'DEUC', 'DIAP', 'DIAŠ', 'DIEŽ', 'DIEŠ', 'DIIN', 'DIIP', 'DIIC', 'DOAS', 'DOIN', 'DOUK', 'DOUV', 'FAAC', 'FAIT', 'FEOT', 'FEUR', 'FIAC', 'FIEN', 'FIUP', 'FOAT', 'FUEP', 'FUIT', 'FUUR', 'GAER', 'GAIŽ', 'GAOV', 'GAUK', 'GEEŠ', 'GEOK', 'GEOC', 'GIAT', 'GOAP', 'GOAC', 'GOEV', 'GOIC', 'GOIŠ', 'GOOK', 'GOUK', 'GUAŠ', 'GUEN', 'GUEŽ', 'HAOŽ', 'HAUT', 'HIET', 'HIEŠ', 'HIIS', 'HIIŽ', 'HIOT', 'HOAN', 'HOAV', 'HUOT', 'HUOŠ', 'JAAN', 'JAEK', 'JAEC', 'JAIP', 'JAIK', 'JEAS', 'JEIK', 'JEIT', 'JIUŽ', 'JOUN', 'JUAK', 'JUUR', 'KAOŠ', 'KAUT', 'KEEV', 'KIAP', 'KIEV', 'KIIV', 'KIIŽ', 'KIOR', 'KOEV', 'KOUR', 'KUAN', 'KUAŠ', 'KUIN', 'KUON', 'LAAV', 'LEAK', 'LEEŽ', 'LEIR', 'LIEV', 'LIOP', 'LIOK', 'LOIŽ', 'LUON', 'MAAK', 'MAEP', 'MAIT', 'MAOŽ', 'MEON', 'MIAS', 'MIUK', 'MIUC', 'MOEŽ', 'MOEC', 'MOIK', 'MOIŠ', 'MOOŽ', 'MUOK', 'MUOS', 'MUOŠ', 'BAOZ', 'DIOZ', 'DIUZ', 'HEEZ', 'JAEZ', 'JEUZ', 'JOIZ', 'KUUZ', 'LAAZ', 'MAAZ', 'MIAZ', 'MUOZ;', 'JAC', 'CEB', 'VUS', 'TUM', 'MUJ', 'KAG', 'MAZ', 'CIT', 'FEG', 'CEJ', 'GEG', 'SES', 'KOP', 'SAK', 'ŠIK', 'SEG', 'SAZ', 'BAJ', 'PIŠ', 'CAL', 'TUC', 'ŠUŽ', 'BOH', 'CAC', 'JUJ', 'ŠUF', 'SUŽ', 'VEO', 'BOC', 'NOK', 'LEU', 'KAŽ', 'HOH', 'NAF', 'FAŽ', 'VUM', 'JEL', 'JUŠ', 'HIC', 'HAC', 'CEZ', 'FIC', 'SEK', 'NUŠ', 'NIV', 'MUC', 'CAJ', 'ŠIC', 'ŠAJ', 'MOC', 'NEL', 'DIF', 'CIJ', 'ŽOZ', 'ŽUZ', 'MOV', 'TIO', 'BEM', 'GEP', 'BAOG', 'BEEB', 'BEIK', 'BEUB', 'BIAC', 'BIAD', 'BIUD', 'BIUF', 'BOAK', 'BOIF', 'BOUH', 'CAEF', 'CAIC', 'CAOB', 'CEAK', 'CEOG', 'CIAL', 'CIUK', 'COAG', 'COID', 'COOM', 'COUF', 'CUEG', 'CUIB', 'CUUC', 'CUUH', 'DAEH', 'DAEJ', 'DAID', 'DAUH', 'DEEC', 'DEOF', 'DIAF', 'DIEM', 'DOID', 'DOOJ', 'DUEK', 'FAEF', 'FAOM', 'FAUC', 'FEIC', 'FIAK', 'FIEK', 'FIIL', 'FIOK', 'FOIB', 'FOOJ', 'FUEJ', 'FUIM', 'FUOB', 'GAID', 'GAOB', 'GAOC', 'GEEJ', 'GEUB', 'GEUF', 'GIEC', 'GIEF', 'GIEJ', 'GIIJ', 'GIOH', 'GOEC', 'GUAF', 'GUOC', 'GUOG', 'GUUL', 'HAIF', 'HEAH', 'HEEH', 'HEUG', 'HIAH', 'HIEC', 'HIIL', 'HIOL', 'HIOM', 'HOAB', 'HOAD', 'HOAH', 'HOAL', 'HOUL', 'HUAD', 'HUOF', 'HUOG', 'HUOL', 'HUUD', 'HUUK', 'JAAB', 'JAAF', 'JAED', 'JAIH', 'JAOD', 'JEAD', 'JEEG', 'JEUD', 'JIUF', 'JOEB', 'JOOF', 'JOUB', 'JUAJ', 'JUUK', 'KAIG', 'KIOF', 'KOEF', 'KOEH', 'KOUL', 'KUOF', 'KUUD', 'LAAL', 'LAEH', 'LAUG', 'LAUJ', 'LAUK', 'LEIJ', 'LEOD', 'LOIF', 'LUEG', 'LUIG', 'LUUK', 'MAAC', 'MAAD', 'MAAJ', 'MAED', 'MAIJ', 'MAUF', 'MEEC', 'MIOH', 'MIUD', 'MOAL', 'MOAM', 'MOEK', 'MOIC', 'MUED', 'MUOG', 'NAEG', 'NEAF', 'NIEG', 'NIOF', 'NOAG', 'NOEB', 'NOEH', 'NOUD', 'NUAM', 'NUIB', 'PAAM', 'PAOD', 'PAOJ', 'PEEM', 'PEIH', 'PIUH', 'POAJ', 'POAK', 'POEG', 'POIG', 'PUAL', 'PUOH', 'KAOB', 'KIEJ', 'KIIF', 'KOIH', 'KUEF', 'KUIF', 'KUUB', 'RAAB', 'RAAG', 'RAEF', 'REAK', 'REEC', 'REIH', 'REUB', 'RIAG', 'RIIJ', 'RIUB', 'ROUG', 'RUAH', 'RUOK', 'SAIJ', 'SAOG', 'SEAF', 'SEUM', 'SIID', 'SIUC', 'SIUJ', 'SOEM', 'SOOF', 'SOOH', 'SOUG', 'SUAB', 'SUAK', 'SUEG', 'SUOF', 'TAIM', 'TAUF', 'TAUJ', 'TEOH', 'TEUL', 'TIIG', 'TUAD', 'TUAG', 'TUEF', 'TUEG', 'TUOB', 'VAED', 'VAEG', 'VAEK', 'VAEM', 'VAIC', 'VAIK', 'VAIM', 'VAUF', 'VEIB', 'VEUD', 'VIEC', 'VIEG', 'VIOC', 'VOEH', 'VOIB', 'VUEJ', 'VUEL', 'ŽAEG', 'ŽAIJ', 'ŽAOB', 'ŽAUC', 'ŽEAF', 'ŽEOJ', 'ŽEUJ', 'ŽIEJ', 'ŽIOF', 'ŽOEK', 'ŽOOJ', 'ŽOUF', 'ŽOUG', 'ŽOUH', 'ŽUAM', 'ŽUOD', 'ŽUOF', 'CIIB', 'COED', 'COIH', 'CUOJ', 'CUUL', 'ŠAAG', 'ŠAIG', 'ŠAOM', 'ŠAUB', 'ŠAUF', 'ŠEOJ', 'ŠEOK', 'ŠIAB', 'ŠIAC', 'ŠIAJ', 'ŠIEB', 'ŠIEJ', 'ŠIUJ', 'ŠOAF', 'ŠOEJ', 'ŠOEK', 'ŠUEM', 'ŠUOG', 'ŠUOJ', 'ZAEG', 'ZEOJ', 'ZIAG', 'ZIAJ', 'ZIAM', 'ZIIJ', 'ZOAF', 'ZOEH', 'ZOIK', 'ZOUK', 'ZUIB', 'ZUIK', 'ZUUF', 'ZAOS', 'ZEIK', 'ZEUP', 'ZEUV', 'ZIAT', 'ZIIV', 'ZIOS', 'ZIOŠ', 'ZOAR', 'ZOAC', 'ZOEŽ', 'ZOIV', 'ZOIŠ', 'ZUEV', 'ZUUN', 'NIOZ', 'RAUZ', 'RUEZ', 'RUIZ', 'RUUZ', 'SOEZ', 'TEOZ', 'TUAZ', 'TUOZ', 'VEAZ', 'VEUZ', 'VUAZ', 'ŽOEZ', 'ŽOOZ', 'ŽUOZ', 'CUAZ', 'NAOV', 'NEAC', 'NIAK', 'NIAŽ', 'NIIT', 'NION', 'NOIV', 'NOOP', 'NOOK', 'NOUP', 'NUIS', 'NUIV', 'NUOK', 'NUUŠ', 'PAET', 'PEAK', 'PIUN', 'POAV', 'POAŠ', 'POEV', 'POIŽ', 'POUV', 'PUER', 'PUET', 'PUEŽ', 'PUIS', 'KAUS', 'KEOŠ', 'KOEC', 'KOIV', 'KUIR', 'KUOS', 'KUOŽ', 'RAIŠ', 'RAOV', 'REEŠ', 'REUN', 'REUP', 'REUC', 'RIAP', 'RIIR', 'RIIC', 'RIOP', 'RIOR', 'ROUŠ', 'RUAV', 'RUEV', 'RUIP', 'RUOT', 'RUOŽ', 'SAAN', 'SAEN', 'SAUN', 'SEOT', 'SEOV', 'SIEV', 'SIOP', 'SIOŠ', 'SIUS', 'SIUV', 'SOIŽ', 'SOUN', 'SUUN', 'SUUP', 'TAUV', 'TEEŽ', 'TEUS', 'TIIR', 'TOIN', 'TOUN', 'TUOŠ', 'VAUC', 'VEOV', 'VIOP', 'VIUS', 'VOEN', 'VUAŽ', 'VUIN', 'ŽAON', 'ŽAUŠ', 'ŽEEC', 'ŽIOŽ', 'ŽIUR', 'ŽUAŽ', 'ŽUIR', 'ŽUOŠ', 'CAIV', 'CEEN', 'CEEV', 'CEUP', 'CIAR', 'CIOT', 'CUEP', 'CUET', 'CUUK', 'CUUV', 'ŠAAP', 'ŠAET', 'ŠAEŽ', 'ŠAIV', 'ŠEAT', 'ŠEAŠ', 'ŠEOR', 'ŠIEC', 'ŠIIP', 'ŠIOK', 'ŠIUC', 'ŠOAK', 'ŠOEŠ', 'ŠOIR', 'ŠOOV', 'ŠOUŽ', 'ŠUOS', 'ŠUUT', 'BAIR', 'BAOP', 'BAOS', 'BEAV', 'BEEK', 'BEOT', 'BEUT', 'BIEN', 'BOAŠ', 'BOEV', 'BOEC', 'BOIR', 'BOIŠ', 'BUIK', 'CAEP', 'CAIT', 'CAUN', 'CIAS', 'COAS', 'COEŠ', 'CUIT', 'CUIV', 'DAUŠ', 'DEIT', 'DEOŽ', 'DEUŽ', 'DIUR', 'DOIV', 'DOIC', 'DUAV', 'DUAŽ', 'FAAP', 'FAOP', 'FEOS', 'FIAŽ', 'FIIS', 'FIOŠ', 'FOAŠ', 'FOEV', 'FOUŠ', 'FUAT', 'FUEŠ', 'GEAK', 'GEAC', 'GEIK', 'GEOP', 'GEUŠ', 'GIEP', 'GIEK', 'GIEŠ', 'GION', 'GIUR', 'GIUC', 'GOOC', 'GUAP', 'GUAS', 'GUER', 'GUIŠ', 'GUOV', 'HAAK', 'HAER', 'HAUV', 'HEAV', 'HEIP', 'HEUŽ', 'HIEV', 'HOAS', 'HOIV', 'HUAŽ', 'HUIT', 'HUIV', 'HUIŽ', 'HUOS', 'HUUS', 'JAEP', 'JAIS', 'JEEC', 'JEIV', 'JIIV', 'JOAC', 'JOIŠ', 'JOOK', 'JUES', 'JUET', 'JUOK', 'KAUN', 'KEIV', 'KIOS', 'KOAP', 'KOIN', 'LAIŽ', 'LAUN', 'LEAŠ', 'LEOV', 'LIAT', 'LIOŠ', 'LOAT', 'LOEŽ', 'LOIP', 'LOOK', 'LUEV', 'LUOŽ', 'LUUN', 'LUUŠ', 'MAEC', 'MAIŽ', 'MAUV', 'MEUP', 'MIUR', 'MIUS', 'MOUK', 'MUAS', 'MUAŽ', 'MUIC', 'BEUZ', 'COEZ', 'CUOZ', 'DOOZ', 'DUEZ', 'FAAZ', 'FEAZ', 'GEUZ', 'HIEZ', 'HUAZ', 'HUIZ', 'HUUZ', 'JIEZ', 'KIAZ', 'LAOZ', 'LEUZ', 'LOOZ', 'MAUZ', 'CET', 'KUG', 'VIG', 'GEŽ', 'MIV', 'KIK', 'GUV', 'DEK', 'DAV', 'DUJ', 'SOH', 'MAH', 'TIZ', 'KOV', 'LOK', 'JUV', 'SOG', 'ŠAF', 'KAH', 'TUZ', 'SUD', 'CAT', 'JOS', 'KAL', 'MOM', 'PAV', 'ŽOR', 'MEV', 'CIR', 'CEV', 'NEŠ', 'CAG', 'BER', 'BIZ', 'ŠOF', 'HUJ', 'VIU', 'JOV', 'JOF', 'ŽID', 'FIV', 'CAR', 'ŠOS', 'KIH', 'BAV', 'DEP', 'VUC', 'VUT', 'BEH', 'TUV', 'KON', 'RUŠ', 'KIZ', 'LAO', 'BAEF', 'BEAF', 'BEEJ', 'BEIG', 'BEOF', 'BEUM', 'BIOH', 'BIUB', 'BIUC', 'BIUM', 'BOED', 'BUAM', 'BUIJ', 'BUOC', 'CAAG', 'CAUM', 'CEOC', 'CIAH', 'CIOB', 'CIUJ', 'COEH', 'CUAL', 'CUEB', 'DAAL', 'DAIB', 'DEOH', 'DIIG', 'DIIM', 'DOIG', 'DOOG', 'DOUD', 'DUIB', 'DUOK', 'DUUH', 'FAAJ', 'FAEB', 'FAOH', 'FAUM', 'FEIJ', 'FEOG', 'FIEG', 'FIIM', 'FIOC', 'FIUL', 'FOIJ', 'FOUG', 'FUAB', 'FUEC', 'FUIB', 'FUOK', 'GAEB', 'GAEF', 'GAIB', 'GEID', 'GIAL', 'GUEB', 'HAIH', 'HEEB', 'HEOF', 'HEOH', 'HIAB', 'HIIC', 'HOAK', 'HOUG', 'HUAJ', 'HUEL', 'HUOC', 'JAAG', 'JAAJ', 'JAEB', 'JEAK', 'JEEM', 'JEUM', 'JIOM', 'JOEH', 'JOEM', 'JOOH', 'JUAL', 'JUAM', 'JUIK', 'KAAH', 'KEEM', 'KOED', 'KOIM', 'KOUJ', 'LAEJ', 'LAIB', 'LAOL', 'LAUF', 'LAUM', 'LEEL', 'LEIB', 'LEIG', 'LEIL', 'LOEL', 'LOEM', 'LOOJ', 'LOUB', 'LUEH', 'LUEL', 'MAAF', 'MAIH', 'MAOB', 'MAOD', 'MAOF', 'MEEF', 'MEOD', 'MEUL', 'MIAJ', 'MIEJ', 'MIOF', 'MOAG', 'MOID', 'MUEF', 'MUOB', 'MUOL', 'NAEK', 'NAOH', 'NEEC', 'NIAG', 'NOAL', 'NOEG', 'NUAH', 'NUAK', 'NUUD', 'NUUM', 'PAEH', 'PAEL', 'PAUB', 'PEOJ', 'PEUG', 'PIAK', 'PIOF', 'PIUG', 'POEC', 'POOM', 'PUOB', 'KAUM', 'KEEB', 'KEIB', 'KIAL', 'KUEM', 'RAAH', 'RAIB', 'RAUK', 'RIOH', 'ROOJ', 'RUAF', 'RUOF', 'SAEH', 'SAEL', 'SEOM', 'SIUG', 'SIUL', 'SOAL', 'SUAG', 'SUIB', 'SUUK', 'TAED', 'TAIH', 'TAOB', 'TEAG', 'TIEB', 'TIIF', 'TIOB', 'TIOJ', 'TIUG', 'TOAJ', 'TOEL', 'TUUF', 'VEAB', 'VEEK', 'VIUD', 'VUAK', 'VUUF', 'ŽAEL', 'ŽAIB', 'ŽAUH', 'ŽEAB', 'ŽEEM', 'ŽEIJ', 'ŽEOL', 'ŽIIJ', 'ŽOIC', 'ŽUUG', 'CAAL', 'ŠAEG', 'ŠAIL', 'ŠAOB', 'ŠAOD', 'ŠAUJ', 'ŠEAD', 'ŠEAF', 'ŠEOM', 'ŠIID', 'ŠIUD', 'ŠOUG', 'ŠUEC', 'ŠUEJ', 'ŠUOD', 'ZAEF', 'ZEEB', 'ZEOG', 'ZIAB', 'ZIAC', 'ZIEF', 'ZIUD', 'ZIUF', 'ZOIB', 'ZOOK', 'ZOUD', 'ZOUJ', 'ZUAD', 'ZUAF', 'ZUEF', 'ZUUL', 'ZAAK', 'ZAEK', 'ZAET', 'ZAUŠ', 'ZEUN', 'ZIEV', 'ZIIP', 'ZIIT', 'ZIIŽ', 'ZIUR', 'ZOAN', 'ZOAŠ', 'ZOOŽ', 'ZOUR', 'ZUIŽ', 'ZAAZ', 'ZUEZ', 'NAEZ', 'NAUZ', 'PAAZ', 'PUUZ', 'REEZ', 'ROAZ', 'RUOZ', 'SIOZ', 'SOUZ', 'TOEZ', 'VIIZ', 'ŽEEZ', 'ŽEIZ', 'ŠEOZ', 'NAES', 'NAEV', 'NEIŽ', 'NEUŠ', 'NIES', 'NIIN', 'NOEŽ', 'NOIT', 'NOOR', 'NOUT', 'NOUŠ', 'NUAŠ', 'NUEŠ', 'PAEŠ', 'PAUŠ', 'PEEŽ', 'PEIV', 'PEUŽ', 'PIAV', 'PIAŽ', 'POAN', 'POAP', 'POEK', 'PUIK', 'PUON', 'PUUŠ', 'KAAR', 'KAET', 'KAEŠ', 'KAIŽ', 'KAOS', 'KEAŽ', 'KEIS', 'KIEN', 'KIOŠ', 'RAAV', 'RAEŽ', 'RAOC', 'REIR', 'REOP', 'RIAT', 'RIAŽ', 'ROAŠ', 'ROOV', 'ROOC', 'ROUN', 'RUAN', 'RUOP', 'RUOŠ', 'SAOŠ', 'SEOR', 'SEUT', 'SIAN', 'SOAS', 'SOUŽ', 'SUOŽ', 'SUUT', 'TAOR', 'TAUN', 'TEAK', 'TEEŠ', 'TEOR', 'TIAŽ', 'TIIT', 'TOAN', 'TOIŠ', 'TUAN', 'TUES', 'TUIŠ', 'TUUN', 'VAAŠ', 'VAEŠ', 'VAOV', 'VAUN', 'VEOP', 'VEOR', 'VIIN', 'VUAP', 'VUAR', 'VUOŽ', 'VUOŠ', 'ŽEIP', 'ŽEUŠ', 'ŽIOV', 'ŽOIV', 'ŽOIŽ', 'ŽOIŠ', 'ŽUEP', 'ŽUIV', 'CAAS', 'CEAV', 'CEIV', 'CION', 'COES', 'CUER', 'ŠAAT', 'ŠAAŠ', 'ŠAOP', 'ŠAUR', 'ŠAUS', 'ŠEER', 'ŠIAP', 'ŠIAS', 'ŠIAŽ', 'ŠIIŽ', 'ŠIOŽ', 'ŠOEP', 'ŠOOŠ', 'ŠOUV', 'ŠUOP', 'BAAŠ', 'BAEN', 'BAUS', 'BAUV', 'BIOV', 'BOEŠ', 'BOOP', 'BOOŽ', 'BOUK', 'BUAR', 'BUON', 'CAAP', 'DAOP', 'DAOV', 'DEAT', 'DEON', 'DEOV', 'DEUP', 'DIIŽ', 'DIUV', 'DOAV', 'DOOŠ', 'DUEV', 'DUIR', 'DUUŽ', 'FAEV', 'FAUP', 'FAUV', 'FAUŠ', 'FEEŽ', 'FIEV', 'FIOP', 'FIOT', 'FIUV', 'FIUŽ', 'FOAS', 'FOOS', 'FOUS', 'FUIK', 'FUIV', 'FUOS', 'GAOR', 'GEAN', 'GEOS', 'GEOŠ', 'GIAS', 'GIUP', 'GOOV', 'GOOŽ', 'GOUP', 'GUUT', 'GUUV', 'HAIŠ', 'HEAN', 'HEOŽ', 'HIAŠ', 'HIUV', 'HOIŽ', 'HUEP', 'HUIN', 'HUIR', 'HUIŠ', 'JAAŽ', 'JAOR', 'JAUN', 'JEOŽ', 'JEUV', 'JIIN', 'JIIŠ', 'JION', 'JIUT', 'JOAŠ', 'JUAP', 'JUAŽ', 'JUIV', 'JUIC', 'JUOŽ', 'KIAS', 'KOOK', 'KOOŽ', 'LAAK', 'LAIC', 'LEAV', 'LEIP', 'LEUN', 'LIEŠ', 'LIIP', 'LUER', 'LUIR', 'MAAV', 'MAEN', 'MAOS', 'MAUP', 'MAUŠ', 'MEIV', 'MEUK', 'MUOP', 'CAAZ', 'FUOZ', 'HEAZ', 'JUUZ', 'LAUZ', 'LEIZ', 'LOIZ', 'LOUZ', 'TID', 'GAŽ', 'JIZ', 'VEC', 'DAZ', 'JIS', 'CIŽ', 'ŠUZ', 'SEZ', 'PUM', 'VUP', 'ŠIZ', 'ŽUP', 'KOF', 'BUF', 'JUŽ', 'BEB', 'SOC', 'KEV', 'VAZ', 'ŽEF', 'BUK', 'JEJ', 'PIB', 'BIŽ', 'GOZ', 'NIF', 'LEK', 'SIŠ', 'NUD', 'VOA', 'VID', 'KAP', 'DEH', 'GOG', 'ŽUM', 'FIJ', 'LUT', 'VUB', 'RIH', 'ŽUJ', 'MEH', 'PAG', 'VUŽ', 'BAAM', 'BAUF', 'BIAG', 'BIAH', 'BIOD', 'BOEH', 'BOIJ', 'BOUB', 'BUAD', 'BUOD', 'BUOH', 'CUOF', 'DAOL', 'DAUL', 'DIAH', 'DIUH', 'DOAB', 'DOOH', 'DOUJ', 'FAAG', 'FAOJ', 'FAUB', 'FAUG', 'FAUH', 'FEEF', 'FIAB', 'FIAJ', 'FIUB', 'FIUF', 'FIUH', 'FOEM', 'FOIF', 'FUIG', 'GAIG', 'GEUG', 'GEUH', 'GIAK', 'GIIG', 'GIUM', 'GOEB', 'GOOM', 'GUAB', 'GUAD', 'GUAG', 'GUIF', 'GUOM', 'GUUG', 'HEIJ', 'HEOG', 'HEUF', 'HIAJ', 'HIOJ', 'HIUG', 'HOOC', 'HUAH', 'HUEB', 'HUUH', 'JEEB', 'JEOG', 'JEOK', 'JEUG', 'JIAF', 'JIEJ', 'JIEM', 'JOEF', 'JOID', 'JOIK', 'JOUJ', 'JUUM', 'KIAD', 'KUAD', 'LAOH', 'LIAL', 'LOIB', 'LOUK', 'LUAB', 'LUUG', 'MAEL', 'MAUG', 'MEEH', 'MEIB', 'MEOL', 'MIIL', 'MIUM', 'MOEH', 'MOIM', 'MOUD', 'MOUL', 'MUID', 'MUIG', 'NAAG', 'NAIH', 'NAOB', 'NEEB', 'NEIK', 'NIEB', 'NIEL', 'NIOJ', 'NIOL', 'NIUF', 'NIUJ', 'NOEF', 'NOIG', 'NUOL', 'NUOM', 'PAAG', 'PEAH', 'PEEJ', 'PEIM', 'PIOG', 'POAL', 'POIB', 'POIH', 'POUM', 'PUEG', 'PUIH', 'PUOG', 'KOEL', 'REAH', 'REEH', 'RIOB', 'ROAB', 'RUID', 'RUIJ', 'SAAB', 'SAEF', 'SIAB', 'SIIH', 'SIOH', 'SOEG', 'SOIJ', 'SOOC', 'SUAD', 'SUAH', 'SUEB', 'SUUL', 'TAAB', 'TAAH', 'TAUH', 'TEAH', 'TEEG', 'TEIH', 'TIAM', 'TIOM', 'TOAH', 'TOAL', 'TOIG', 'TOOF', 'TUOJ', 'TUOL', 'VAEJ', 'VAOF', 'VEIM', 'VEUJ', 'VIIJ', 'VIUG', 'VOAB', 'VOEB', 'VOIM', 'VOOF', 'VOOH', 'VOUL', 'VUEH', 'VUOG', 'ŽAEB', 'ŽAED', 'ŽAUB', 'ŽEOD', 'ŽEOG', 'ŽEUB', 'ŽEUC', 'ŽEUD', 'ŽIIH', 'ŽIIL', 'ŽIUB', 'ŽIUK', 'ŽIUL', 'ŽOEH', 'ŽOOM', 'ŽUEB', 'ŽUIL', 'CEOL', 'COOF', 'ŠAID', 'ŠIAG', 'ŠIIG', 'ŠOAG', 'ŠOIM', 'ŠOOG', 'ŠUUF', 'ZAOD', 'ZAUF', 'ZAUJ', 'ZEAJ', 'ZEIG', 'ZEUL', 'ZEUM', 'ZIAF', 'ZIOB', 'ZIOH', 'ZIOJ', 'ZIUB', 'ZIUG', 'ZOAM', 'ZUAL', 'ZUOD', 'ZAAŠ', 'ZAUT', 'ZEEŠ', 'ZEIV', 'ZIOP', 'ZOUN', 'ZOUŽ', 'ZUAŽ', 'ZUEŽ', 'ZUIV', 'ZUOP', 'ZOUZ', 'PAOZ', 'PIAZ', 'PIOZ', 'PIUZ', 'KAOZ', 'KEOZ', 'RAEZ', 'RIEZ', 'RUAZ', 'TAAZ', 'TEEZ', 'TIEZ', 'VOIZ', 'VOUZ', 'ŠEUZ', 'ŠIIZ', 'ŠOEZ', 'ŠUOZ', 'NAAP', 'NAUS', 'NEIP', 'NEIS', 'NIAS', 'NOAV', 'NUAR', 'NUES', 'NUUV', 'PEIR', 'PIIP', 'POAS', 'POEŽ', 'POIR', 'POOV', 'PUIV', 'KEUR', 'KIOV', 'KOON', 'REAS', 'REEV', 'REIT', 'REOT', 'REUŠ', 'ROEŽ', 'ROUS', 'RUAP', 'RUIŠ', 'RUON', 'SAIŠ', 'SEEV', 'SEIP', 'SEIR', 'SEUŠ', 'SIAR', 'SOEŠ', 'SOIŠ', 'SUUV', 'TAIR', 'TAOŠ', 'TEEK', 'TIIŠ', 'TUAV', 'TUOS', 'TUUV', 'VAES', 'VAOS', 'VEAŽ', 'VOIN', 'VOIŽ', 'VOIŠ', 'VOUV', 'VUIR', 'VUIS', 'VUOR', 'ŽAIV', 'ŽEIN', 'ŽEIV', 'ŽEUN', 'ŽEUT', 'ŽIIV', 'ŽOAV', 'ŽOUR', 'ŽUUŠ', 'CIAŠ', 'CIUR', 'ŠAOŠ', 'ŠAUŽ', 'ŠAUŠ', 'ŠIEN', 'ŠIEŠ', 'ŠIIS', 'ŠIIV', 'ŠIOR', 'ŠOIS', 'ŠOOS', 'ŠOOT', 'ŠUAT', 'ŠUON', 'ŠUOR', 'BAET', 'BAIV', 'BEAŽ', 'BEUV', 'BIEŽ', 'BIEŠ', 'BOIP', 'BUOP', 'DAIŠ', 'DEAP', 'DEIR', 'DEOT', 'DIIT', 'DIIV', 'DOAP', 'DOEŽ', 'DOON', 'DOOT', 'DOOV', 'DOUP', 'DUIK', 'DUOP', 'DUUP', 'FAES', 'FAIŠ', 'FAUS', 'FEAP', 'FEAŠ', 'FEEV', 'FEOŠ', 'FEUŠ', 'FION', 'FIOŽ', 'FOAŽ', 'FOIŽ', 'FUEV', 'FUEŽ', 'GAOŠ', 'GOIT', 'GOUR', 'HEIŠ', 'HEUT', 'HIAT', 'HIUS', 'HOOK', 'JEIŽ', 'JIAP', 'JIAT', 'JIAV', 'JIAŽ', 'JIET', 'JIIR', 'JIOR', 'JIOT', 'JOER', 'JOIS', 'JUUV', 'LAAŽ', 'LAEŽ', 'LAOT', 'LEAT', 'LEEV', 'LIAŠ', 'LIUV', 'LUUŽ', 'MAIP', 'MAOP', 'MIAR', 'MIAV', 'MIIR', 'MOEV', 'MUAP', 'MUEV', 'MUEŽ', 'MUIN', 'MUIŠ', 'BOEZ', 'DIEZ', 'DUUZ', 'GAUZ', 'GEEZ', 'GIEZ', 'GOEZ', 'GUAZ', 'GUUZ', 'HUEZ', 'JOAZ', 'KUIZ', 'LAEZ', 'LEEZ', 'MEEZ', 'MEIZ', 'MOAZ', 'MOOZ'];
}
      },
      "title": "session-timer-frame",
      "timeout": "1859000",
      "tardy": true,
      "content": {
        "type": "lab.flow.Sequence",
        "files": {},
        "responses": {
          "": ""
        },
        "parameters": {},
        "messageHandlers": {},
        "title": "session_timer_seq",
        "content": [
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          },
          {
            "type": "lab.flow.Loop",
            "templateParameters": [],
            "sample": {
              "mode": "draw-shuffle",
              "n": "200"
            },
            "files": {},
            "responses": {},
            "parameters": {},
            "messageHandlers": {
              "before:prepare": async function anonymous(
) {
this.state.url_text = "https://www.drjamiecummins.com/smart-trials/sl/stage_";
this.state.file_type = ".csv";

this.state.url = this.state.url_text.concat(this.state.stage, this.state.file_type)

var csv2json = await new Promise((resolve, reject) => {
  Papa.parse(this.state.url, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(result) {
      resolve(result.data);
    }
  })
})
console.log(csv2json)
this.options.templateParameters = csv2json




this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2

this.state.current_tally = 0
this.state.testing_trial_number = 1
this.state.phase = "Trening"


}
            },
            "title": "trial_chunk",
            "tardy": true,
            "skip": "${this.state.skip_chunk == 1}",
            "shuffleGroups": [],
            "template": {
              "type": "lab.flow.Sequence",
              "files": {},
              "responses": {
                "": ""
              },
              "parameters": {},
              "messageHandlers": {},
              "title": "trials-and-breaks",
              "tardy": true,
              "skip": "${this.state.skip_chunk == 1}",
              "content": [
                {
                  "type": "lab.html.Frame",
                  "contextSelector": "[data-labjs-section=\"frame\"]",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
if (this.state.first_trial == 1) {
document.getElementById("pokemon-motivation").innerHTML = "Pa začnimo - zmoreš to!";
};


if (this.state.phase == "Trening") {
  document.getElementById("trial-display").innerHTML = this.state.current_tally + " od 16 pravilnih";
} else if (this.state.phase == "Test") {
  document.getElementById("trial-display").innerHTML = "Vprašanje " + this.state.testing_trial_number + " od 16";
}

var pieChart = document.getElementById('timer-circle');
pieChart.width = pieChart.height = 100;

var counter = document.createElement("p");


var ctx = pieChart.getContext('2d');
var secondsPassed = 0;

interval = setInterval(function() {
  ctx.clearRect(0, 0, pieChart.width, pieChart.height);
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, 0, Math.PI*2);
  ctx.fillStyle = '#03879E';
  ctx.fill();
  ctx.beginPath();
  ctx.moveTo(pieChart.width/2, pieChart.height/2);
  ctx.arc(pieChart.width/2, pieChart.height/2, pieChart.width/2, -Math.PI/2, (-Math.PI/2) + Math.PI*2*secondsPassed/30);
  ctx.fillStyle = '#00ADEF';
  ctx.fill();
  ctx.font = "30px Verdana";
  ctx.fillStyle = "white";
  secondsPassed++;
}, 1000);


time_left = 30;
trialTimer = setInterval(function(){
  if(time_left <= 9){
    ctx.fillText(Math.trunc(time_left), 40, 60);
  } else {
    ctx.fillText(Math.trunc(time_left), 31, 60);
  }
  time_left -= 1;
}, 1000);


// motivational speech items
motivations = ['Več ko vadimo, boljši smo!',
               'Večji kot je izziv, večja je zmaga!',
               'Največ se naučimo iz lastnih napak!',
               'Vem, da skupaj zmoremo to!',
               'To je včasih težko - vendar zmoremo!',
               'Trdo delo se bo vedno poplačalo!',
               'Ostani osredotočen_a - to zmoremo!',
               'Zanima me, katerega Pokémona boš našel_a naslednjič ...',
               'Samo 30 minut vaje - enostavno kot pasulj!',
               'Super ti gre - ponosen sem nate!',
               'Tudi če se ti zatakne, samo poskušaj še naprej - uspelo ti bo!',
               'Moj najljubši občutek je uspeh, potem, ko se mi je nekje zataknilo!',
               'Če dokončaš posebej težko stopnjo, lahko odkleneš legendarnega Pokémona ...',
               'Vaja dela mojstra_ico!',
               'Vsako vprašanje, na katerega odgovoriš, pomaga, tudi če se zmotiš!',
               'Vaja je lahko včasih dolgočasna - vendar se vedno izplača!',
               'Nekdo mi je povedal, da je v tem treningu več kot 100 Pokémonov ...',
               'Zanima me, ali Profesor SMART kdaj trenira s svojim treningom možganov ...',
               'Stavim, da je Profesor SMART postal tako pameten, ker je opravil to trening!',
               'Če se ti na stopnji res zatakne, prosi učitelja ali učiteljico za pomoč!',
               'Več kot 1000 otrok na Irskem že uporablja SMART ... to je veliko!',
               '30 sekundno odštevanje te drži na trnih!',
               'Trening je lahko naporen, lahko pa je tudi zabaven!',
               'Naj bo ta trening zate kot uganka, ki jo lahko rešiš!',
               'Osredotoči se na pravilne odgovore – ne skrbi, če ste počasen_a!',
               'Z več vaje boš vedno hitrejši_a!',
               'Če se ti zdi enostavno, poskusi iti hitreje!',
               'Trening je narejen tako, da postaneš pametnejši_a – zato ne skrbi, če se na začetku ne počutiš pametnega_o!',
               'Ne pozabi, da se učiš z napačnimi odgovori!',
               'Poskusi odgovoriti na vprašanja v svoji glavi - ničesar ne zapisuj!',
               'Če nekaj tednov pridno vadiš, bo trening še bolj učinkovit!',
               'Bolje, da si počasnejši z pravilnimi odgovori, kot pa hiter z napačnimi. Hitrost pride z prakso!',
               'Pri vsakem treningu se malo bolj potrudi!',
               'Bližnjice te ne bodo naredile pametnejšega_o - reševanje težav s trdim delom te bo!',
               'Lahko, srednje težko, ni pomembno - vsako vprašanje, na katerega odgovoriš, ti pomaga!',
               'Izboljšanje lahko traja - bodi potrpežljiv_a in nikoli ne obupaj!',
               'Kako ujameš veverico?<br>Splezaj na drevo in se obnašaj kot oreh!',
               'Kaj je boljšega od enega Pikachuja?<br>PikaDVA!',
               'Verjamem vate!',
               'Zmoreš - vztrajaj!',
               'Bodi ponosen_a nase, ker si trdo delal_a!',
               'Včasih boš dokočal_a veliko stopenj, drugič ne - vendar je vse vaja!',
               'Vaja je vedno pomembna!']




},
                    "after:end": function anonymous(
) {
clearInterval(interval)
clearInterval(trialTimer)

this.state.first_trial = 0;
}
                  },
                  "title": "whole-trial-frame",
                  "tardy": true,
                  "skip": "${this.state.skip_chunk == 1}",
                  "content": {
                    "type": "lab.flow.Sequence",
                    "files": {},
                    "responses": {
                      "": ""
                    },
                    "parameters": {},
                    "messageHandlers": {
                      "run": function anonymous(
) {
document.getElementById("current-character").src=this.state.current_pokemon_image;
}
                    },
                    "title": "trial_sequence",
                    "tardy": true,
                    "skip": "${this.state.skip_chunk == 1}",
                    "content": [
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage <= 103) {


if (this.parameters.stage <= 55) {
  this.parameters.q_word = "Je";
} else if (this.parameters.stage <= 81 && this.parameters.stage >= 56) {
  this.parameters.q_word = "Ali je";
};
  
if (this.parameters.stim_1_id == 1) { 
  this.parameters.stim_1 = this.state.stimulus_1;
} else if (this.parameters.stim_1_id == 2) { 
  this.parameters.stim_1 = this.state.stimulus_2;
} else if (this.parameters.stim_1_id == 3) {
  this.parameters.stim_1 = this.state.stimulus_3;
} else if (this.parameters.stim_1_id == 4) {
  this.parameters.stim_1 = this.state.stimulus_4;
} else {
  this.parameters.stim_1 = this.state.stimulus_1;
};

if (this.parameters.stim_2_id == 1) { 
  this.parameters.stim_2 = this.state.stimulus_1;
} else if (this.parameters.stim_2_id == 2) { 
  this.parameters.stim_2 = this.state.stimulus_2;
} else if (this.parameters.stim_2_id == 3) {
  this.parameters.stim_2 = this.state.stimulus_3;
} else if (this.parameters.stim_2_id == 4) {
  this.parameters.stim_2 = this.state.stimulus_4;
} else {
  this.parameters.stim_2 = this.state.stimulus_2;
};


if (this.parameters.stim_3_id == 1) { 
  this.parameters.stim_3 = this.state.stimulus_1;
} else if (this.parameters.stim_3_id == 2) { 
  this.parameters.stim_3 = this.state.stimulus_2;
} else if (this.parameters.stim_3_id == 3) {
  this.parameters.stim_3 = this.state.stimulus_3;
} else if (this.parameters.stim_3_id == 4) {
  this.parameters.stim_3 = this.state.stimulus_4;
};

if (this.parameters.stim_4_id == 1) { 
  this.parameters.stim_4 = this.state.stimulus_1;
} else if (this.parameters.stim_4_id == 2) {
  this.parameters.stim_4 = this.state.stimulus_2;
} else if (this.parameters.stim_4_id == 3) {
  this.parameters.stim_4 = this.state.stimulus_3;
} else if (this.parameters.stim_4_id == 4) {
  this.parameters.stim_4 = this.state.stimulus_4;
};;

if (this.parameters.stim_5_id == 1) { 
  this.parameters.stim_5 = this.state.stimulus_1;
} else if (this.parameters.stim_5_id == 2) {
  this.parameters.stim_5 = this.state.stimulus_2;
} else if (this.parameters.stim_5_id == 3) { 
  this.parameters.stim_5 = this.state.stimulus_3;
} else if (this.parameters.stim_5_id == 4) {
  this.parameters.stim_5 = this.state.stimulus_4;
};

if (this.parameters.stim_6_id == 1) { 
  this.parameters.stim_6 = this.state.stimulus_1;
} else if (this.parameters.stim_6_id == 2) {
  this.parameters.stim_6 = this.state.stimulus_2;
} else if (this.parameters.stim_6_id == 3) { 
  this.parameters.stim_6 = this.state.stimulus_3;
} else if (this.parameters.stim_6_id == 4) {
  this.parameters.stim_6 = this.state.stimulus_4;
}

if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
} 
if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
} 

};
},
                          "after:end": function anonymous(
) {
if (this.state.stage <= 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)


// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};
if (this.state.phase == "Test" & this.state.correct == true) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" & this.state.correct == false) {
  this.state.current_tally = 0;
};

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}

};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;


}
                        },
                        "title": "standard_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4} \u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_5} ${this.parameters.relation_3} ${this.parameters.stim_6} \u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"separator\"\u003E\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || Number(this.state.stage) \u003E 103}"
                      },
                      {
                        "type": "lab.html.Screen",
                        "files": {},
                        "responses": {
                          "mousedown div#yes": "yes",
                          "mousedown div#no": "no"
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "before:prepare": function anonymous(
) {
if (this.state.stage > 103) {

this.parameters.stim_1 = this.state.stimulus_1
this.parameters.stim_2 = this.state.stimulus_2
this.parameters.stim_3 = this.state.stimulus_3
this.parameters.stim_4 = this.state.stimulus_4
this.parameters.q_stim_1 = this.state.stimulus_1
this.parameters.q_stim_2 = this.state.stimulus_2
this.parameters.q_stim_3 = this.state.stimulus_3
this.parameters.q_stim_4 = this.state.stimulus_4

if (this.parameters.meta_stim_1_id == 1) { 
  this.parameters.meta_stim_1 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_1_id == 2) {
  this.parameters.meta_stim_1 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_1_id == 3) {
  this.parameters.meta_stim_1 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_1_id == 4) {
  this.parameters.meta_stim_1 = this.state.stimulus_4;
};

if (this.parameters.meta_stim_2_id == 1) { 
  this.parameters.meta_stim_2 = this.state.stimulus_1;
} else if (this.parameters.meta_stim_2_id == 2) {
  this.parameters.meta_stim_2 = this.state.stimulus_2;
} else if (this.parameters.meta_stim_2_id == 3) {
  this.parameters.meta_stim_2 = this.state.stimulus_3;
}  else if (this.parameters.meta_stim_2_id == 4) {
  this.parameters.meta_stim_2 = this.state.stimulus_4;
};


if (this.parameters.q_stim_1_id == 1) { 
  this.parameters.q_stim_1 = this.state.stimulus_1;
} else if (this.parameters.q_stim_1_id == 2) {
  this.parameters.q_stim_1 = this.state.stimulus_2;
} else if (this.parameters.q_stim_1_id == 3) {
  this.parameters.q_stim_1 = this.state.stimulus_3;
} else if (this.parameters.q_stim_1_id == 4) {
  this.parameters.q_stim_1 = this.state.stimulus_4;
};

if (this.parameters.q_stim_2_id == 1) { 
  this.parameters.q_stim_2 = this.state.stimulus_1;
} else if (this.parameters.q_stim_2_id == 2) {
  this.parameters.q_stim_2 = this.state.stimulus_2;
} else if (this.parameters.q_stim_2_id == 3) {
  this.parameters.q_stim_2 = this.state.stimulus_3;
} else if (this.parameters.q_stim_2_id == 4) {
  this.parameters.q_stim_2 = this.state.stimulus_4;
};


};
},
                          "after:end": function anonymous(
) {
if (this.state.stage > 103) {

// remove currently used stimuli from buckets
stimulus_1_bucket = stimulus_1_bucket.filter(item => item !== this.state.stimulus_1)
stimulus_2_bucket = stimulus_2_bucket.filter(item => item !== this.state.stimulus_2)
stimulus_3_bucket = stimulus_3_bucket.filter(item => item !== this.state.stimulus_3)
stimulus_4_bucket = stimulus_4_bucket.filter(item => item !== this.state.stimulus_4)

// select the new stimuli for the next trial //
this.state.stimulus_1 = stimulus_1_bucket[Math.random() * stimulus_1_bucket.length | 0];
this.state.stimulus_2 = stimulus_2_bucket[Math.random() * stimulus_2_bucket.length | 0];
this.state.stimulus_3 = stimulus_3_bucket[Math.random() * stimulus_3_bucket.length | 0];
this.state.stimulus_4 = stimulus_4_bucket[Math.random() * stimulus_4_bucket.length | 0];

if (this.state.phase == "Test") {
  this.state.testing_trial_number += 1;
};

if (this.state.phase == "Test" && this.state.correct == 1) {
  this.state.current_tally += 1;
} else if (this.state.phase == "Test" && this.state.correct == 0) {
  this.state.current_tally = 0
}

this.state.trial_time = this.state.duration;

if (this.state.trial_time >= 30000) {
  this.state.correct = 0;
}
};
},
                          "run": function anonymous(
) {
this.state.positions = ['left', 'right']
randomNumber = Math.floor(Math.random()*this.state.positions.length);
this.state.position1 = this.state.positions[randomNumber];
this.state.position2 = this.state.positions[(1 - randomNumber)];

// randomise response options positions
document.getElementById("yes").style.cssFloat = this.state.position2;
document.getElementById("no").style.cssFloat = this.state.position1;

}
                        },
                        "title": "mathematical_trials",
                        "content": "\u003Cdiv class=\"trial-propositions\"\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_1} ${this.parameters.relation_1} ${this.parameters.stim_2}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_relation_1}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.stim_3} ${this.parameters.relation_2} ${this.parameters.stim_4}\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"trial-proposition\"\u003E${this.parameters.meta_stim_1} ${this.parameters.meta_relation_2} ${this.parameters.meta_stim_2}\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\n\u003Cdiv class=\"trial-question\"\u003E\n  ${this.parameters.q_word} ${this.parameters.q_stim_1} ${this.parameters.q_rel} ${this.parameters.q_stim_2}?\u003C\u002Fdiv\u003E\n\n\n\u003Cfooter class=\"footer-trials\"\u003E\n\u003Cdiv class=\"response-options\"\u003E\n  \u003Cdiv class=\"response-option\" id=\"yes\"\u003E\u003Cb\u003EJA\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n  \u003Cdiv class=\"response-option\" id=\"no\"\u003E\u003Cb\u003ENE\u003C\u002Fb\u003E\u003C\u002Fdiv\u003E\n\u003C\u002Fdiv\u003E\n\u003C\u002Ffooter\u003E",
                        "timeout": "31000",
                        "correctResponse": "${parameters.correct_response}",
                        "tardy": true,
                        "skip": "${(this.state.skip_chunk == 1) || 103 \u003E= Number(this.state.stage)}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 168.34,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#a8ca09",
                            "text": "PRAVILNO!",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally += 1
}
                        },
                        "title": "correct",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${this.state.correct == 0 || this.state.trial_time \u003E= 30000 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      },
                      {
                        "type": "lab.canvas.Screen",
                        "content": [
                          {
                            "type": "i-text",
                            "left": 0,
                            "top": 0,
                            "angle": 0,
                            "width": 155.88,
                            "height": 36.16,
                            "stroke": null,
                            "strokeWidth": 1,
                            "fill": "#d6341a",
                            "text": "NAPAČNO",
                            "fontStyle": "normal",
                            "fontWeight": "normal",
                            "fontSize": 32,
                            "fontFamily": "sans-serif",
                            "lineHeight": 1.16,
                            "textAlign": "center"
                          }
                        ],
                        "viewport": [
                          800,
                          600
                        ],
                        "files": {},
                        "responses": {
                          "": ""
                        },
                        "parameters": {},
                        "messageHandlers": {
                          "run": function anonymous(
) {
this.state.current_tally = 0
}
                        },
                        "title": "wrong",
                        "timeout": "500",
                        "tardy": true,
                        "skip": "${(this.state.correct != 0 & this.state.trial_time \u003C 30000) || this.state.correct == 1 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                      }
                    ]
                  }
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "Trening zaključen!",
                      "content": "V treningu te stopnje si pravilno odgovoril_a na 16 vprašanj zapored!\u003Cbr\u003E\u003Cbr\u003EZdaj boš začel_a s testom za to stopnjo. Če boš na vseh 16 testnih vprašanj odgovoril_a pravilno, boš napredoval_a na naslednjo stopnjo.\u003Cbr\u003EVendar bodi previden_na: če se vsaj pri enem zmotiš, boš moral_a to stopnjo začeti znova!\u003Cbr\u003E\u003Cbr\u003EKo boš pripravljen_a, klikni 'nadaljuj', da začneš preizkusni del te stopnje. Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Nadaljuj →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.phase = "Test";
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "Vprašanje 1 od 16";
this.state.current_tally = 0;
}
                  },
                  "title": "phase_transition",
                  "tardy": true,
                  "skip": "${this.state.current_tally != 16 || this.state.phase == \"Test\" || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.html.Page",
                  "items": [
                    {
                      "type": "text",
                      "title": "",
                      "content": "Na vsa vprašanja ti na žalost ni uspelo pravilno odgovoriti. Sedaj boš spet začel_a s treningom za to stopnjo. Ampak ne skrbi - vaja dela mojstra! Še naprej poskušaj in uspelo ti bo. Ko boš pripravljen_a, klikni \"Nadaljuj →\". Vso srečo!"
                    }
                  ],
                  "scrollTop": true,
                  "submitButtonText": "Continue →",
                  "submitButtonPosition": "right",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {
                    "run": function anonymous(
) {
this.state.testing_trial_number = 1;
this.state.phase = "Trening";
this.state.current_tally = 0;
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
document.getElementById("trial-display").innerHTML = "";

}
                  },
                  "title": "return_to_training",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.testing_trial_number \u003C 17 || (this.state.testing_trial_number == 17 & this.state.current_tally \u003E 15) || this.state.skip_chunk == 1}"
                },
                {
                  "type": "lab.flow.Sequence",
                  "files": {},
                  "responses": {
                    "": ""
                  },
                  "parameters": {},
                  "messageHandlers": {},
                  "title": "level_transition",
                  "tardy": true,
                  "skip": "${this.state.phase == \"Trening\" || this.state.current_tally \u003C 16 || this.state.skip_chunk == 1}",
                  "content": [
                    {
                      "type": "lab.flow.Sequence",
                      "files": {},
                      "responses": {
                        "": ""
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
document.getElementById("level-display").innerHTML = "";
document.getElementById("trial-display").innerHTML = "";

this.state.stage = ~~this.state.stage + 1;

if (this.state.stage == 5) { 
 this.state.current_pokemon_image = 'static/Bulbasaur 5.png' 
         }
else if (this.state.stage == 6) { 
 this.state.current_pokemon_image = 'static/Ivysaur 6.png' 
         }
else if (this.state.stage == 7) { 
 this.state.current_pokemon_image = 'static/Venusaur 7.png' 
         }
else if (this.state.stage == 8) { 
 this.state.current_pokemon_image = 'static/Charmander 8.png' 
         }
else if (this.state.stage == 9) { 
 this.state.current_pokemon_image = 'static/Charmeleon 9.png' 
         }
else if (this.state.stage == 10) { 
 this.state.current_pokemon_image = 'static/Charizard 10.png' 
         }
else if (this.state.stage == 11) { 
 this.state.current_pokemon_image = 'static/Squirtle 11.png' 
         }
else if (this.state.stage == 12) { 
 this.state.current_pokemon_image = 'static/Wartortle 12.png' 
         }
else if (this.state.stage == 13) { 
 this.state.current_pokemon_image = 'static/Blastoise 13.png' 
         }
else if (this.state.stage == 14) { 
 this.state.current_pokemon_image = 'static/Caterpie 14.png' 
         }
else if (this.state.stage == 15) { 
 this.state.current_pokemon_image = 'static/Metapod 15.png' 
         }
else if (this.state.stage == 16) { 
 this.state.current_pokemon_image = 'static/Butterfree 16.png' 
         }
else if (this.state.stage == 17) { 
 this.state.current_pokemon_image = 'static/Weedle 17.png' 
         }
else if (this.state.stage == 18) { 
 this.state.current_pokemon_image = 'static/Kakuna 18.png' 
         }
else if (this.state.stage == 19) { 
 this.state.current_pokemon_image = 'static/Beedrill 19.png' 
         }
else if (this.state.stage == 20) { 
 this.state.current_pokemon_image = 'static/Pidgey 20.png' 
         }
else if (this.state.stage == 21) { 
 this.state.current_pokemon_image = 'static/Pidgeotto 21.png' 
         }
else if (this.state.stage == 22) { 
 this.state.current_pokemon_image = 'static/Pidgeot 22.png' 
         }
else if (this.state.stage == 23) { 
 this.state.current_pokemon_image = 'static/Rattata 23.png' 
         }
else if (this.state.stage == 24) { 
 this.state.current_pokemon_image = 'static/Raticate 24.png' 
         }
else if (this.state.stage == 25) { 
 this.state.current_pokemon_image = 'static/Pikachu 25.png' 
         }
else if (this.state.stage == 26) { 
 this.state.current_pokemon_image = 'static/Raichu 26.png' 
         }
else if (this.state.stage == 27) { 
 this.state.current_pokemon_image = 'static/Sandshrew 27.png' 
         }
else if (this.state.stage == 28) { 
 this.state.current_pokemon_image = 'static/Sandslash 28.png' 
         }
else if (this.state.stage == 29) { 
 this.state.current_pokemon_image = 'static/Articuno 29.png' 
         }
else if (this.state.stage == 30) { 
 this.state.current_pokemon_image = 'static/Nidoran-Female 30.png' 
         }
else if (this.state.stage == 31) { 
 this.state.current_pokemon_image = 'static/Nidorina 31.png' 
         }
else if (this.state.stage == 32) { 
 this.state.current_pokemon_image = 'static/Nidoqueen 32.png' 
         }
else if (this.state.stage == 33) { 
 this.state.current_pokemon_image = 'static/Nidoran-Male 33.png' 
         }
else if (this.state.stage == 34) { 
 this.state.current_pokemon_image = 'static/Nidorino 34.png' 
         }
else if (this.state.stage == 35) { 
 this.state.current_pokemon_image = 'static/Nidoking 35.png' 
         }
else if (this.state.stage == 36) { 
 this.state.current_pokemon_image = 'static/Clefairy 36.png' 
         }
else if (this.state.stage == 37) { 
 this.state.current_pokemon_image = 'static/Clefable 37.png' 
         }
else if (this.state.stage == 38) { 
 this.state.current_pokemon_image = 'static/Vulpix 38.png' 
         }
else if (this.state.stage == 39) { 
 this.state.current_pokemon_image = 'static/Ninetales 39.png' 
         }
else if (this.state.stage == 40) { 
 this.state.current_pokemon_image = 'static/Jigglypuff 40.png' 
         }
else if (this.state.stage == 41) { 
 this.state.current_pokemon_image = 'static/Wigglytuff 41.png' 
         }
else if (this.state.stage == 42) { 
 this.state.current_pokemon_image = 'static/Zubat 42.png' 
         }
else if (this.state.stage == 43) { 
 this.state.current_pokemon_image = 'static/Golbat 43.png' 
         }
else if (this.state.stage == 44) { 
 this.state.current_pokemon_image = 'static/Oddish 44.png' 
         }
else if (this.state.stage == 45) { 
 this.state.current_pokemon_image = 'static/Gloom 45.png' 
         }
else if (this.state.stage == 46) { 
 this.state.current_pokemon_image = 'static/Vileplume 46.png' 
         }
else if (this.state.stage == 47) { 
 this.state.current_pokemon_image = 'static/Meowth 47.png' 
         }
else if (this.state.stage == 48) { 
 this.state.current_pokemon_image = 'static/Persian 48.png' 
         }
else if (this.state.stage == 49) { 
 this.state.current_pokemon_image = 'static/Psyduck 49.png' 
         }
else if (this.state.stage == 50) { 
 this.state.current_pokemon_image = 'static/Golduck 50.png' 
         }
else if (this.state.stage == 51) { 
 this.state.current_pokemon_image = 'static/Mankey 51.png' 
         }
else if (this.state.stage == 52) { 
 this.state.current_pokemon_image = 'static/Primeape 52.png' 
         }
else if (this.state.stage == 53) { 
 this.state.current_pokemon_image = 'static/Growlithe 53.png' 
         }
else if (this.state.stage == 54) { 
 this.state.current_pokemon_image = 'static/Arcanine 54.png' 
         }
else if (this.state.stage == 55) { 
 this.state.current_pokemon_image = 'static/Zapdos 55.png' 
         }
else if (this.state.stage == 56) { 
 this.state.current_pokemon_image = 'static/Poliwag 56.png' 
         }
else if (this.state.stage == 57) { 
 this.state.current_pokemon_image = 'static/Poliwhirl 57.png' 
         }
else if (this.state.stage == 58) { 
 this.state.current_pokemon_image = 'static/Poliwrath 58.png' 
         }
else if (this.state.stage == 59) { 
 this.state.current_pokemon_image = 'static/Abra 59.png' 
         }
else if (this.state.stage == 60) { 
 this.state.current_pokemon_image = 'static/Kadabra 60.png' 
         }
else if (this.state.stage == 61) { 
 this.state.current_pokemon_image = 'static/Alakazam 61.png' 
         }
else if (this.state.stage == 62) { 
 this.state.current_pokemon_image = 'static/Machop 62.png' 
         }
else if (this.state.stage == 63) { 
 this.state.current_pokemon_image = 'static/Machoke 63.png' 
         }
else if (this.state.stage == 64) { 
 this.state.current_pokemon_image = 'static/Machamp 64.png' 
         }
else if (this.state.stage == 65) { 
 this.state.current_pokemon_image = 'static/Bellsprout 65.png' 
         }
else if (this.state.stage == 66) { 
 this.state.current_pokemon_image = 'static/Weepinbell 66.png' 
         }
else if (this.state.stage == 67) { 
 this.state.current_pokemon_image = 'static/Victreebel 67.png' 
         }
else if (this.state.stage == 68) { 
 this.state.current_pokemon_image = 'static/Tentacool 68.png' 
         }
else if (this.state.stage == 69) { 
 this.state.current_pokemon_image = 'static/Tentacruel 69.png' 
         }
else if (this.state.stage == 70) { 
 this.state.current_pokemon_image = 'static/Geodude 70.png' 
         }
else if (this.state.stage == 71) { 
 this.state.current_pokemon_image = 'static/Graveler 71.png' 
         }
else if (this.state.stage == 72) { 
 this.state.current_pokemon_image = 'static/Golem 72.png' 
         }
else if (this.state.stage == 73) { 
 this.state.current_pokemon_image = 'static/Ponyta 73.png' 
         }
else if (this.state.stage == 74) { 
 this.state.current_pokemon_image = 'static/Rapidash 74.png' 
         }
else if (this.state.stage == 75) { 
 this.state.current_pokemon_image = 'static/Slowpoke 75.png' 
         }
else if (this.state.stage == 76) { 
 this.state.current_pokemon_image = 'static/Slowbro 76.png' 
         }
else if (this.state.stage == 77) { 
 this.state.current_pokemon_image = 'static/Magnemite 77.png' 
         }
else if (this.state.stage == 78) { 
 this.state.current_pokemon_image = 'static/Magneton 78.png' 
         }
else if (this.state.stage == 79) { 
 this.state.current_pokemon_image = 'static/Doduo 79.png' 
         }
else if (this.state.stage == 80) { 
 this.state.current_pokemon_image = 'static/Dodrio 80.png' 
         }
else if (this.state.stage == 81) { 
 this.state.current_pokemon_image = 'static/Moltres 81.png' 
         }
else if (this.state.stage == 82) { 
 this.state.current_pokemon_image = 'static/Farfetchd 82.png' 
         }
else if (this.state.stage == 83) { 
 this.state.current_pokemon_image = 'static/Seel 83.png' 
         }
else if (this.state.stage == 84) { 
 this.state.current_pokemon_image = 'static/Dewgong 84.png' 
         }
else if (this.state.stage == 85) { 
 this.state.current_pokemon_image = 'static/Grimer 85.png' 
         }
else if (this.state.stage == 86) { 
 this.state.current_pokemon_image = 'static/Muk 86.png' 
         }
else if (this.state.stage == 87) { 
 this.state.current_pokemon_image = 'static/Shellder 87.png' 
         }
else if (this.state.stage == 88) { 
 this.state.current_pokemon_image = 'static/Cloyster 88.png' 
         }
else if (this.state.stage == 89) { 
 this.state.current_pokemon_image = 'static/Gastly 89.png' 
         }
else if (this.state.stage == 90) { 
 this.state.current_pokemon_image = 'static/Haunter 90.png' 
         }
else if (this.state.stage == 91) { 
 this.state.current_pokemon_image = 'static/Gengar 91.png' 
         }
else if (this.state.stage == 92) { 
 this.state.current_pokemon_image = 'static/Onix 92.png' 
         }
else if (this.state.stage == 93) { 
 this.state.current_pokemon_image = 'static/Drowzee 93.png' 
         }
else if (this.state.stage == 94) { 
 this.state.current_pokemon_image = 'static/Hypno 94.png' 
         }
else if (this.state.stage == 95) { 
 this.state.current_pokemon_image = 'static/Krabby 95.png' 
         }
else if (this.state.stage == 96) { 
 this.state.current_pokemon_image = 'static/Kingler 96.png' 
         }
else if (this.state.stage == 97) { 
 this.state.current_pokemon_image = 'static/Voltorb 97.png' 
         }
else if (this.state.stage == 98) { 
 this.state.current_pokemon_image = 'static/Electrode 98.png' 
         }
else if (this.state.stage == 99) { 
 this.state.current_pokemon_image = 'static/Hitmonlee 99.png' 
         }
else if (this.state.stage == 100) { 
 this.state.current_pokemon_image = 'static/Hitmonchan 100.png' 
         }
else if (this.state.stage == 101) { 
 this.state.current_pokemon_image = 'static/Rhyhorn 101.png' 
         }
else if (this.state.stage == 102) { 
 this.state.current_pokemon_image = 'static/Rhydon 102.png' 
         }
else if (this.state.stage == 103) { 
 this.state.current_pokemon_image = 'static/Mewtwo 103.png' 
         }
else if (this.state.stage == 104) { 
 this.state.current_pokemon_image = 'static/Lickitung 104.png' 
         }
else if (this.state.stage == 105) { 
 this.state.current_pokemon_image = 'static/Chansey 105.png' 
         }
else if (this.state.stage == 106) { 
 this.state.current_pokemon_image = 'static/Kangaskhan 106.png' 
         }
else if (this.state.stage == 107) { 
 this.state.current_pokemon_image = 'static/Horsea 107.png' 
         }
else if (this.state.stage == 108) { 
 this.state.current_pokemon_image = 'static/Seadra 108.png' 
         }
else if (this.state.stage == 109) { 
 this.state.current_pokemon_image = 'static/Staryu 109.png' 
         }
else if (this.state.stage == 110) { 
 this.state.current_pokemon_image = 'static/Starmie 110.png' 
         }
else if (this.state.stage == 111) { 
 this.state.current_pokemon_image = 'static/Scyther 111.png' 
         }
else if (this.state.stage == 112) { 
 this.state.current_pokemon_image = 'static/Tauros 112.png' 
         }
else if (this.state.stage == 113) { 
 this.state.current_pokemon_image = 'static/Magikarp 113.png' 
         }
else if (this.state.stage == 114) { 
 this.state.current_pokemon_image = 'static/Gyarados 114.png' 
         }
else if (this.state.stage == 115) { 
 this.state.current_pokemon_image = 'static/Eevee 115.png' 
         }
else if (this.state.stage == 116) { 
 this.state.current_pokemon_image = 'static/Aerodactyl 116.png' 
         }
else if (this.state.stage == 117) { 
 this.state.current_pokemon_image = 'static/Snorlax 117.png' 
         }
else if (this.state.stage == 118) { 
 this.state.current_pokemon_image = 'static/Dratini 118.png' 
         }
else if (this.state.stage == 119) { 
 this.state.current_pokemon_image = 'static/Dragonair 119.png' 
         }
else if (this.state.stage == 120) { 
 this.state.current_pokemon_image = 'static/Dragonite 120.png' 
         }
else if (this.state.stage == 121) { 
 this.state.current_pokemon_image = 'static/Lapras 121.png' 
         }
else if (this.state.stage == 122) { 
 this.state.current_pokemon_image = 'static/Mew 122.png' 
         }


// get Pokemon's name 
this.state.current_pokemon_name = this.state.current_pokemon_image.split(' ').shift().split('/').pop();
}
                      },
                      "title": "New Pokemon",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}",
                      "content": [
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "intro",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "3",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "3",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "2",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "2",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 17.8,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "1",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "1",
                          "timeout": "1000"
                        },
                        {
                          "type": "lab.canvas.Screen",
                          "content": [
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": -250,
                              "angle": 0,
                              "width": 533.58,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "Čestitam! Ujel si novega Pokémona...",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            },
                            {
                              "type": "i-text",
                              "left": 0,
                              "top": 0,
                              "angle": 0,
                              "width": 8.89,
                              "height": 36.16,
                              "stroke": null,
                              "strokeWidth": 1,
                              "fill": "black",
                              "text": "!",
                              "fontStyle": "normal",
                              "fontWeight": "normal",
                              "fontSize": 32,
                              "fontFamily": "sans-serif",
                              "lineHeight": 1.16,
                              "textAlign": "center"
                            }
                          ],
                          "viewport": [
                            800,
                            600
                          ],
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "wait",
                          "timeout": "2000"
                        },
                        {
                          "type": "lab.html.Screen",
                          "files": {},
                          "responses": {
                            "": ""
                          },
                          "parameters": {},
                          "messageHandlers": {},
                          "title": "reveal!",
                          "content": "\u003Cmain\u003E\n\n\u003Cimg src=\"${this.state.current_pokemon_image}\" height=\"250px\" width=\"250px\"\u003E\n\u003Ch1\u003E ${this.state.current_pokemon_name}! \u003C\u002Fh1\u003E\n\n\u003C\u002Fmain\u003E",
                          "timeout": "10000",
                          "tardy": true
                        }
                      ]
                    },
                    {
                      "type": "lab.html.Screen",
                      "files": {},
                      "responses": {
                        "mousedown button#continue": "continue"
                      },
                      "parameters": {},
                      "messageHandlers": {
                        "run": function anonymous(
) {
this.state.skip_chunk = 1
}
                      },
                      "title": "next_stage",
                      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Bravo - pravkar si odklenil_a naslednjo stopnjo! Zdaj te bo ${this.state.current_pokemon_name} spremljal na naslednji stopnji. Super!\u003Cbr\u003E\u003Cbr\u003ELahko si vzameš par sekund odmora, in ko boš pripravljen_a,\u003Cbr\u003Eklikni \"Nadaljuj\", da prideš do naslednje stopnje. Vso srečo!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n      \u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003E\n      \u003Cbutton id=\"continue\"\u003ENadaljuj\u003C\u002Fbutton\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
                      "tardy": true,
                      "skip": "${this.state.skip_chunk == 1}"
                    }
                  ]
                }
              ]
            }
          },
          {
            "type": "lab.html.Page",
            "items": [
              {
                "type": "text"
              }
            ],
            "scrollTop": true,
            "submitButtonText": "Continue →",
            "submitButtonPosition": "hidden",
            "files": {},
            "responses": {
              "": ""
            },
            "parameters": {},
            "messageHandlers": {
              "run": function anonymous(
) {
this.state.skip_chunk = 0
this.state.phase = "Trening"
this.state.testing_trial_number = 1
this.state.current_tally = 0
this.state.stage = (Number(this.state.stage) + 1).toString()
document.getElementById("level-display").innerHTML = "Stopnja " + this.state.stage + ": " + this.state.phase;
}
            },
            "title": "skip_chunk_reset",
            "skip": "${this.state.skip_chunk == 0}",
            "tardy": true,
            "timeout": "1000"
          }
        ]
      }
    },
    {
      "type": "lab.html.Screen",
      "files": {},
      "responses": {},
      "parameters": {},
      "messageHandlers": {},
      "title": "completed_training",
      "content": "\u003Cmain height=\"100%\" width=\"100%\"\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003E Vau – kakšen neverjeten dosežek – dokončal_a si\u003Cbr\u003E\n       moj celoten program usposabljanja! Vsi ne pridejo tako daleč - čestitam!\u003Cbr\u003EPoglej vse Pokémone, ki si jih zbral_a na poti -\u003Cbr\u003Evsi skupaj in tako ponosni nate!\u003Cbr\u003E\u003Cbr\u003ESporoči svojemu učitelju ali učiteljici, da si končal_a usposabljanje, in povedal_a ti bo, kaj storiti sedaj.\u003Cbr\u003EV veselje mi je, da si dokončal_a moj trening možganov,\u003Cbr\u003Ein upam, da si užival_a tako kot jaz!\n\n      \u003Cdiv\u003E\n        \u003Cimg src=\"static\u002Fthe_gang.png\"\u003E\n      \u003C\u002Fdiv\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
      "tardy": true,
      "skip": "${this.state.stage \u003C 123}"
    },
    {
      "type": "lab.html.Screen",
      "files": {},
      "responses": {},
      "parameters": {},
      "messageHandlers": {
        "run": function anonymous(
) {
document.getElementById("ending-pokemon").src=this.state.current_pokemon_image;
},
        "before:prepare": function anonymous(
) {
if (this.state.stage == 5) { 
 this.state.password = '3368'
}
else if (this.state.stage == 6) { 
 this.state.password = '6272'
}
else if (this.state.stage == 7) { 
 this.state.password = '2251'
}
else if (this.state.stage == 8) { 
 this.state.password = '9825'
}
else if (this.state.stage == 9) { 
 this.state.password = '1355'
}
else if (this.state.stage == 10) { 
 this.state.password = '8699'
}
else if (this.state.stage == 11) { 
 this.state.password = '4953'
}
else if (this.state.stage == 12) { 
 this.state.password = '6402'
}
else if (this.state.stage == 13) { 
 this.state.password = '1931'
}
else if (this.state.stage == 14) { 
 this.state.password = '6636'
}
else if (this.state.stage == 15) { 
 this.state.password = '5001'
}
else if (this.state.stage == 16) { 
 this.state.password = '1258'
}
else if (this.state.stage == 17) { 
 this.state.password = '6433'
}
else if (this.state.stage == 18) { 
 this.state.password = '1480'
}
else if (this.state.stage == 19) { 
 this.state.password = '8325'
}
else if (this.state.stage == 20) { 
 this.state.password = '9490'
}
else if (this.state.stage == 21) { 
 this.state.password = '3453'
}
else if (this.state.stage == 22) { 
 this.state.password = '8788'
}
else if (this.state.stage == 23) { 
 this.state.password = '6467'
}
else if (this.state.stage == 24) { 
 this.state.password = '7340'
}
else if (this.state.stage == 25) { 
 this.state.password = '3273'
}
else if (this.state.stage == 26) { 
 this.state.password = '3551'
}
else if (this.state.stage == 27) { 
 this.state.password = '1726'
}
else if (this.state.stage == 28) { 
 this.state.password = '1944'
}
else if (this.state.stage == 29) { 
 this.state.password = '1625'
}
else if (this.state.stage == 30) { 
 this.state.password = '5357'
}
else if (this.state.stage == 31) { 
 this.state.password = '7533'
}
else if (this.state.stage == 32) { 
 this.state.password = '2395'
}
else if (this.state.stage == 33) { 
 this.state.password = '6122'
}
else if (this.state.stage == 34) { 
 this.state.password = '3817'
}
else if (this.state.stage == 35) { 
 this.state.password = '1516'
}
else if (this.state.stage == 36) { 
 this.state.password = '9224'
}
else if (this.state.stage == 37) { 
 this.state.password = '9976'
}
else if (this.state.stage == 38) { 
 this.state.password = '1102'
}
else if (this.state.stage == 39) { 
 this.state.password = '6347'
}
else if (this.state.stage == 40) { 
 this.state.password = '8145'
}
else if (this.state.stage == 41) { 
 this.state.password = '2692'
}
else if (this.state.stage == 42) { 
 this.state.password = '5171'
}
else if (this.state.stage == 43) { 
 this.state.password = '6896'
}
else if (this.state.stage == 44) { 
 this.state.password = '6610'
}
else if (this.state.stage == 45) { 
 this.state.password = '4618'
}
else if (this.state.stage == 46) { 
 this.state.password = '1015'
}
else if (this.state.stage == 47) { 
 this.state.password = '6444'
}
else if (this.state.stage == 48) { 
 this.state.password = '1987'
}
else if (this.state.stage == 49) { 
 this.state.password = '8809'
}
else if (this.state.stage == 50) { 
 this.state.password = '9273'
}
else if (this.state.stage == 51) { 
 this.state.password = '3343'
}
else if (this.state.stage == 52) { 
 this.state.password = '1148'
}
else if (this.state.stage == 53) { 
 this.state.password = '8139'
}
else if (this.state.stage == 54) { 
 this.state.password = '6688'
}
else if (this.state.stage == 55) { 
 this.state.password = '1099'
}
else if (this.state.stage == 56) { 
 this.state.password = '3345'
}
else if (this.state.stage == 57) { 
 this.state.password = '3449'
}
else if (this.state.stage == 58) { 
 this.state.password = '1090'
}
else if (this.state.stage == 59) { 
 this.state.password = '7924'
}
else if (this.state.stage == 60) { 
 this.state.password = '8348'
}
else if (this.state.stage == 61) { 
 this.state.password = '6173'
}
else if (this.state.stage == 62) { 
 this.state.password = '7994'
}
else if (this.state.stage == 63) { 
 this.state.password = '5815'
}
else if (this.state.stage == 64) { 
 this.state.password = '6877'
}
else if (this.state.stage == 65) { 
 this.state.password = '7781'
}
else if (this.state.stage == 66) { 
 this.state.password = '9618'
}
else if (this.state.stage == 67) { 
 this.state.password = '7585'
}
else if (this.state.stage == 68) { 
 this.state.password = '6231'
}
else if (this.state.stage == 69) { 
 this.state.password = '5679'
}
else if (this.state.stage == 70) { 
 this.state.password = '8452'
}
else if (this.state.stage == 71) { 
 this.state.password = '1950'
}
else if (this.state.stage == 72) { 
 this.state.password = '9101'
}
else if (this.state.stage == 73) { 
 this.state.password = '6260'
}
else if (this.state.stage == 74) { 
 this.state.password = '2924'
}
else if (this.state.stage == 75) { 
 this.state.password = '5406'
}
else if (this.state.stage == 76) { 
 this.state.password = '3858'
}
else if (this.state.stage == 77) { 
 this.state.password = '5855'
}
else if (this.state.stage == 78) { 
 this.state.password = '2888'
}
else if (this.state.stage == 79) { 
 this.state.password = '9963'
}
else if (this.state.stage == 80) { 
 this.state.password = '2906'
}
else if (this.state.stage == 81) { 
 this.state.password = '9894'
}
else if (this.state.stage == 82) { 
 this.state.password = '4309'
}
else if (this.state.stage == 83) { 
 this.state.password = '7669'
}
else if (this.state.stage == 84) { 
 this.state.password = '3309'
}
else if (this.state.stage == 85) { 
 this.state.password = '5394'
}
else if (this.state.stage == 86) { 
 this.state.password = '8613'
}
else if (this.state.stage == 87) { 
 this.state.password = '5894'
}
else if (this.state.stage == 88) { 
 this.state.password = '7049'
}
else if (this.state.stage == 89) { 
 this.state.password = '3909'
}
else if (this.state.stage == 90) { 
 this.state.password = '2247'
}
else if (this.state.stage == 91) { 
 this.state.password = '8381'
}
else if (this.state.stage == 92) { 
 this.state.password = '5389'
}
else if (this.state.stage == 93) { 
 this.state.password = '1606'
}
else if (this.state.stage == 94) { 
 this.state.password = '3830'
}
else if (this.state.stage == 95) { 
 this.state.password = '9737'
}
else if (this.state.stage == 96) { 
 this.state.password = '3473'
}
else if (this.state.stage == 97) { 
 this.state.password = '3235'
}
else if (this.state.stage == 98) { 
 this.state.password = '9445'
}
else if (this.state.stage == 99) { 
 this.state.password = '9459'
}
else if (this.state.stage == 100) { 
 this.state.password = '5735'
}
else if (this.state.stage == 101) { 
 this.state.password = '4481'
}
else if (this.state.stage == 102) { 
 this.state.password = '3088'
}
else if (this.state.stage == 103) { 
 this.state.password = '8360'
}
else if (this.state.stage == 104) { 
 this.state.password = '9855'
}
else if (this.state.stage == 105) { 
 this.state.password = '2121'
}
else if (this.state.stage == 106) { 
 this.state.password = '7680'
}
else if (this.state.stage == 107) { 
 this.state.password = '1161'
}
else if (this.state.stage == 108) { 
 this.state.password = '1635'
}
else if (this.state.stage == 109) { 
 this.state.password = '3753'
}
else if (this.state.stage == 110) { 
 this.state.password = '6663'
}
else if (this.state.stage == 111) { 
 this.state.password = '4994'
}
else if (this.state.stage == 112) { 
 this.state.password = '6816'
}
else if (this.state.stage == 113) { 
 this.state.password = '5891'
}
else if (this.state.stage == 114) { 
 this.state.password = '7773'
}
else if (this.state.stage == 115) { 
 this.state.password = '4108'
}
else if (this.state.stage == 116) { 
 this.state.password = '3820'
}
else if (this.state.stage == 117) { 
 this.state.password = '5173'
}
else if (this.state.stage == 118) { 
 this.state.password = '5621'
}
else if (this.state.stage == 119) { 
 this.state.password = '4739'
}
else if (this.state.stage == 120) { 
 this.state.password = '4168'
}
else if (this.state.stage == 121) { 
 this.state.password = '7626'
}
else if (this.state.stage == 122) { 
 this.state.password = '4545'
};
}
      },
      "title": "professor_ending",
      "content": "\u003Cmain\u003E \n  \u003Cdiv class=\"introduction-central-container\"\u003E\n\n    \u003Cdiv\u003E\n    \u003Cimg src=\"static\u002Fprofessor.jpeg\"\u003E\n    \u003C\u002Fdiv\u003E\n\n    \u003Cdiv\u003E\n\n      \u003Cdiv\u003E\n      \u003Cp\u003EČestitam - pravkar si dokončal_a današnji trening! To je bilo kar naporno -\u003Cbr\u003Eprepričan sem, da sta ti in ${this.state.current_pokemon_name} kar utrujena!\u003Cbr\u003EZato si odpočij, da boš na naslednjem treningu spet pripravljen_a na delo.\u003Cbr\u003EOdlično opravljeno!\u003Cbr\u003E\u003Cbr\u003E\u003Cbr\u003ETvoje geslo za naslednji trening je:\u003Cb\u003E${this.state.password}\u003C\u002Fb\u003E.\u003Cbr\u003E\u003Cb\u003EGeslo si zapiši na list za gesla, da ga ne pozabiš!\u003C\u002Fb\u003E\u003Cbr\u003E\u003Cbr\u003EVso srečo ti želim pri tvojih preostalih šolskih nalogah danes!\u003Cbr\u003ETo spetno stran lahko zapreš,\u003Cbr\u003Eko si \u003Cb\u003Ezapisal_a svoje današnje geslo\u003C\u002Fb\u003E\u003Cbr\u003E - vidimo se spet drugič!\u003Cbr\u003E\u003Cbr\u003EPrepričan sem, da ${this.state.current_pokemon_name} komaj čaka!\u003C\u002Fp\u003E\u003C\u002Fdiv\u003E\n\n      \u003Cdiv\u003E\n        \u003Cimg id=\"ending-pokemon\" src=\"static\u002FBulbasaur 5.png\" height=\"300px\" width = \"300px\"\u003E\n      \u003C\u002Fdiv\u003E\n\n    \u003C\u002Fdiv\u003E\n\n  \u003C\u002Fdiv\u003E\n\u003C\u002Fmain\u003E",
      "tardy": true
    }
  ]
})

// Let's go!
study.run()